\doxysection{testlib.\+h}
\hypertarget{testlib_8h_source}{}\label{testlib_8h_source}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ It\ is\ strictly\ recommended\ to\ include\ "{}testlib.h"{}\ before\ any\ other\ include}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ in\ your\ code.\ In\ this\ case\ testlib\ overrides\ compiler\ specific\ "{}random()"{}.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ If\ you\ can't\ compile\ your\ code\ and\ compiler\ outputs\ something\ about}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ ambiguous\ call\ of\ "{}random\_shuffle"{},\ "{}rand"{}\ or\ "{}srand"{}\ it\ means\ that}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ you\ shouldn't\ use\ them.\ Use\ "{}shuffle"{},\ and\ "{}rnd.next()"{}\ instead\ of\ them}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ because\ these\ calls\ produce\ stable\ result\ for\ any\ C++\ compiler.\ Read}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ sample\ generator\ sources\ for\ clarification.}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *\ Please\ read\ the\ documentation\ for\ class\ "{}random\_t"{}\ and\ use\ "{}rnd"{}\ instance\ in}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ generators.\ Probably,\ these\ sample\ calls\ will\ be\ useful\ for\ you:}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ rnd.next();\ rnd.next(100);\ rnd.next(1,\ 2);}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ rnd.next(3.14);\ rnd.next("{}[a-\/z]\{1,100\}"{}).}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ Also\ read\ about\ wnext()\ to\ generate\ off-\/center\ random\ distribution.}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ See\ https://github.com/MikeMirzayanov/testlib/\ to\ get\ latest\ version\ or\ bug\ tracker.}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#ifndef\ \_TESTLIB\_H\_}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#define\ \_TESTLIB\_H\_}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{comment}{/*}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ Copyright\ (c)\ 2005-\/2023}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#define\ VERSION\ "{}0.9.41"{}}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{comment}{/*}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ *\ Mike\ Mirzayanov}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ *\ This\ material\ is\ provided\ "{}as\ is"{},\ with\ absolutely\ no\ warranty\ expressed}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ *\ or\ implied.\ Any\ use\ is\ at\ your\ own\ risk.}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ *\ Permission\ to\ use\ or\ copy\ this\ software\ for\ any\ purpose\ is\ hereby\ granted}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ *\ without\ fee,\ provided\ the\ above\ notices\ are\ retained\ on\ all\ copies.}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ *\ Permission\ to\ modify\ the\ code\ and\ to\ distribute\ modified\ code\ is\ granted,}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ *\ provided\ the\ above\ notices\ are\ retained,\ and\ a\ notice\ that\ the\ code\ was}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ *\ modified\ is\ included\ with\ the\ above\ copyright\ notice.}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{comment}{/*\ NOTE:\ This\ file\ contains\ testlib\ library\ for\ C++.}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00046\ \textcolor{comment}{\ *\ \ \ Check,\ using\ testlib\ running\ format:}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ *\ \ \ \ \ check.exe\ <Input\_File>\ <Output\_File>\ <Answer\_File>\ [<Result\_File>\ [-\/appes]],}}
\DoxyCodeLine{00048\ \textcolor{comment}{\ *\ \ \ If\ result\ file\ is\ specified\ it\ will\ contain\ results.}}
\DoxyCodeLine{00049\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00050\ \textcolor{comment}{\ *\ \ \ Validator,\ using\ testlib\ running\ format:}}
\DoxyCodeLine{00051\ \textcolor{comment}{\ *\ \ \ \ \ validator.exe\ <\ input.txt,}}
\DoxyCodeLine{00052\ \textcolor{comment}{\ *\ \ \ It\ will\ return\ non-\/zero\ exit\ code\ and\ writes\ message\ to\ standard\ output.}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ *\ \ \ Generator,\ using\ testlib\ running\ format:}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ *\ \ \ \ \ gen.exe\ [parameter-\/1]\ [parameter-\/2]\ [...\ paramerter-\/n]}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ *\ \ \ You\ can\ write\ generated\ test(s)\ into\ standard\ output\ or\ into\ the\ file(s).}}
\DoxyCodeLine{00057\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ *\ \ \ Interactor,\ using\ testlib\ running\ format:}}
\DoxyCodeLine{00059\ \textcolor{comment}{\ *\ \ \ \ \ interactor.exe\ <Input\_File>\ <Output\_File>\ [<Answer\_File>\ [<Result\_File>\ [-\/appes]]],}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ *\ \ \ Reads\ test\ from\ inf\ (mapped\ to\ args[1]),\ writes\ result\ to\ tout\ (mapped\ to\ argv[2],}}
\DoxyCodeLine{00061\ \textcolor{comment}{\ *\ \ \ can\ be\ judged\ by\ checker\ later),\ reads\ program\ output\ from\ ouf\ (mapped\ to\ stdin),}}
\DoxyCodeLine{00062\ \textcolor{comment}{\ *\ \ \ writes\ output\ to\ program\ via\ stdout\ (use\ cout,\ printf,\ etc).}}
\DoxyCodeLine{00063\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *latestFeatures[]\ =\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Use\ setAppesModeEncoding\ to\ change\ xml\ encoding\ from\ windows-\/1251\ to\ other"{}},}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}rnd.any/wany\ use\ distance/advance\ instead\ of\ -\//+:\ now\ they\ support\ sets/multisets"{}},}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Use\ syntax\ \`{}int\ t\ =\ inf.readInt(1,\ 3,\ \(\backslash\)"{}\string~t\(\backslash\)"{});`\ to\ skip\ the\ lower\ bound\ check.\ Tildes\ can\ be\ used\ on\ either\ side\ or\ both:\ \string~t,\ t\string~,\ \string~t\string~"{}},}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Supported\ EJUDGE\ support\ in\ registerTestlibCmd"{}},}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Supported\ '-\/-\/testMarkupFileName\ fn'\ and\ '-\/-\/testCase\ tc/-\/-\/testCaseFileName\ fn'\ for\ validators"{}},}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ opt\ defaults\ via\ opt<T>(key/index,\ default\_val);\ check\ unused\ opts\ when\ using\ has\_opt\ or\ default\ opt\ (turn\ off\ this\ check\ with\ suppressEnsureNoUnusedOpt())."{}},}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}For\ checker\ added\ -\/-\/group\ and\ -\/-\/testset\ command\ line\ params\ (like\ for\ validator),\ use\ checker.group()\ or\ checker.testset()\ to\ get\ values"{}},}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ quitpi(points\_info,\ message)\ function\ to\ return\ with\ \_points\ exit\ code\ 7\ and\ given\ points\_info"{}},}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}rnd.partition(size,\ sum[,\ min\_part=1])\ returns\ random\ (unsorted)\ partition\ which\ is\ a\ representation\ of\ the\ given\ \`{}sum`\ as\ a\ sum\ of\ \`{}size`\ positive\ integers\ (or\ >=min\_part\ if\ specified)"{}},}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}rnd.distinct(size,\ n)\ and\ rnd.distinct(size,\ from,\ to)"{}},}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}opt<bool>(\(\backslash\)"{}some\_missing\_key\(\backslash\)"{})\ returns\ false\ now"{}},}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}has\_opt(key)"{}},}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Abort\ validator\ on\ validator.testset()/validator.group()\ if\ registered\ without\ using\ command\ line"{}},}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Print\ integer\ range\ violations\ in\ a\ human\ readable\ way\ like\ \`{}violates\ the\ range\ [1,\ 10\string^9]`"{}},}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Opts\ supported:\ use\ them\ like\ n\ =\ opt<int>(\(\backslash\)"{}n\(\backslash\)"{}),\ in\ a\ command\ line\ you\ can\ use\ an\ exponential\ notation"{}},}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Reformatted"{}},}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Use\ setTestCase(i)\ or\ unsetTestCase()\ to\ support\ test\ cases\ (you\ can\ use\ it\ in\ any\ type\ of\ program:\ generator,\ interactor,\ validator\ or\ checker)"{}},}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ issue\ \#87:\ readStrictDouble\ accepts\ \(\backslash\)"{}-\/0.00\(\backslash\)"{}"{}},}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ issue\ \#83:\ added\ InStream::quitif(condition,\ ...)"{}},}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ issue\ \#79:\ fixed\ missed\ guard\ against\ repeated\ header\ include"{}},}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ issue\ \#80:\ fixed\ UB\ in\ case\ of\ huge\ quitf\ message"{}},}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ issue\ \#84:\ added\ readXs(size,\ indexBase\ =\ 1)"{}},}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ stringstream\ repeated\ usage\ issue"{}},}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ compilation\ in\ g++\ (for\ std=c++03)"{}},}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Batch\ of\ println\ functions\ (support\ collections,\ iterator\ ranges)"{}},}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ rnd.perm(size,\ first\ =\ 0)\ to\ generate\ a\ \`{}first`-\/indexed\ permutation"{}},}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Allow\ any\ whitespace\ in\ readInts-\/like\ functions\ for\ non-\/validators"{}},}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Ignore\ 4+\ command\ line\ arguments\ ifdef\ EJUDGE"{}},}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Speed\ up\ of\ vtos"{}},}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Show\ line\ number\ in\ validators\ in\ case\ of\ incorrect\ format"{}},}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Truncate\ huge\ checker/validator/interactor\ message"{}},}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ issue\ with\ readTokenTo\ of\ very\ long\ tokens,\ now\ aborts\ with\ \_pe/\_fail\ depending\ of\ a\ stream\ type"{}},}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ InStream::ensure/ensuref\ checking\ a\ condition,\ returns\ wa/fail\ depending\ of\ a\ stream\ type"{}},}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ compilation\ in\ VS\ 2015+"{}},}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ space-\/separated\ read\ functions:\ readWords/readTokens,\ multilines\ read\ functions:\ readStrings/readLines"{}},}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ space-\/separated\ read\ functions:\ readInts/readIntegers/readLongs/readUnsignedLongs/readDoubles/readReals/readStrictDoubles/readStrictReals"{}},}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ split/tokenize\ functions\ to\ separate\ string\ by\ given\ char"{}},}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ InStream::readUnsignedLong\ and\ InStream::readLong\ with\ unsigned\ long\ long\ parameters"{}},}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Supported\ -\/-\/testOverviewLogFileName\ for\ validator:\ bounds\ hits\ +\ features"{}},}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ UB\ (sequence\ points)\ in\ random\_t"{}},}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}POINTS\_EXIT\_CODE\ returned\ back\ to\ 7\ (instead\ of\ 0)"{}},}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Removed\ disable\ buffers\ for\ interactive\ problems,\ because\ it\ works\ unexpectedly\ in\ wine"{}},}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}InStream\ over\ string:\ constructor\ of\ InStream\ from\ base\ InStream\ to\ inherit\ policies\ and\ std::string"{}},}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ expectedButFound\ quit\ function,\ examples:\ expectedButFound(\_wa,\ 10,\ 20),\ expectedButFound(\_fail,\ ja,\ pa,\ \(\backslash\)"{}[n=\%d,m=\%d]\(\backslash\)"{},\ n,\ m)"{}},}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ incorrect\ interval\ parsing\ in\ patterns"{}},}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Use\ registerGen(argc,\ argv,\ 1)\ to\ develop\ new\ generator,\ use\ registerGen(argc,\ argv,\ 0)\ to\ compile\ old\ generators\ (originally\ created\ for\ testlib\ under\ 0.8.7)"{}},}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ disableFinalizeGuard()\ to\ switch\ off\ finalization\ checkings"{}},}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Use\ join()\ functions\ to\ format\ a\ range\ of\ items\ as\ a\ single\ string\ (separated\ by\ spaces\ or\ other\ separators)"{}},}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Use\ -\/DENABLE\_UNEXPECTED\_EOF\ to\ enable\ special\ exit\ code\ (by\ default,\ 8)\ in\ case\ of\ unexpected\ eof.\ It\ is\ good\ idea\ to\ use\ it\ in\ interactors"{}},}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Use\ -\/DUSE\_RND\_AS\_BEFORE\_087\ to\ compile\ in\ compatibility\ mode\ with\ random\ behavior\ of\ versions\ before\ 0.8.7"{}},}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ bug\ with\ nan\ in\ stringToDouble"{}},}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ issue\ around\ overloads\ for\ size\_t\ on\ x64"{}},}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ attribute\ 'points'\ to\ the\ XML\ output\ in\ case\ of\ result=\_points"{}},}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Exit\ codes\ can\ be\ customized\ via\ macros,\ e.g.\ -\/DPE\_EXIT\_CODE=14"{}},}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ InStream\ function\ readWordTo/readTokenTo/readStringTo/readLineTo\ for\ faster\ reading"{}},}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ global\ functions:\ format(),\ englishEnding(),\ upperCase(),\ lowerCase(),\ compress()"{}},}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Manual\ buffer\ in\ InStreams,\ some\ IO\ speed\ improvements"{}},}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ quitif(bool,\ const\ char*\ pattern,\ ...)\ which\ delegates\ to\ quitf()\ in\ case\ of\ first\ argument\ is\ true"{}},}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Introduced\ guard\ against\ missed\ quitf()\ in\ checker\ or\ readEof()\ in\ validators"{}},}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Supported\ readStrictReal/readStrictDouble\ -\/\ to\ use\ in\ validators\ to\ check\ strictly\ float\ numbers"{}},}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Supported\ registerInteraction(argc,\ argv)"{}},}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Print\ checker\ message\ to\ the\ stderr\ instead\ of\ stdout"{}},}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Supported\ TResult\ \_points\ to\ output\ calculated\ score,\ use\ quitp(...)\ functions"{}},}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ to\ be\ compilable\ on\ Mac"{}},}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PC\_BASE\_EXIT\_CODE=50\ in\ case\ of\ defined\ TESTSYS"{}},}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ issues\ 19-\/21,\ added\ \_\_attribute\_\_\ format\ printf"{}},}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Some\ bug\ fixes"{}},}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}ouf.readInt(1,\ 100)\ and\ similar\ calls\ return\ WA"{}},}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Modified\ random\_t\ to\ avoid\ integer\ overflow"{}},}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Truncated\ checker\ output\ [patch\ by\ Stepan\ Gatilov]"{}},}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Renamed\ class\ random\ -\/>\ class\ random\_t"{}},}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Supported\ name\ parameter\ for\ read-\/and-\/validation\ methods,\ like\ readInt(1,\ 2,\ \(\backslash\)"{}n\(\backslash\)"{})"{}},}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ bug\ in\ readDouble()"{}},}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Improved\ ensuref(),\ fixed\ nextLine\ to\ work\ in\ case\ of\ EOF,\ added\ startTest()"{}},}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Supported\ \(\backslash\)"{}partially\ correct\(\backslash\)"{},\ example:\ quitf(\_pc(13),\ \(\backslash\)"{}result=\%d\(\backslash\)"{},\ result)"{}},}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ shuffle(begin,\ end),\ use\ it\ instead\ of\ random\_shuffle(begin,\ end)"{}},}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ readLine(const\ string\&\ ptrn),\ fixed\ the\ logic\ of\ readLine()\ in\ the\ validation\ mode"{}},}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Package\ extended\ with\ samples\ of\ generators\ and\ validators"{}},}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Written\ the\ documentation\ for\ classes\ and\ public\ methods\ in\ testlib.h"{}},}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Implemented\ random\ routine\ to\ support\ generators,\ use\ registerGen()\ to\ switch\ it\ on"{}},}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Implemented\ strict\ mode\ to\ validate\ tests,\ use\ registerValidation()\ to\ switch\ it\ on"{}},}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Now\ ncmp.cpp\ and\ wcmp.cpp\ are\ return\ WA\ if\ answer\ is\ suffix\ or\ prefix\ of\ the\ output"{}},}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ InStream::readLong()\ and\ removed\ InStream::readLongint()"{}},}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Now\ no\ footer\ added\ to\ each\ report\ by\ default\ (use\ directive\ FOOTER\ to\ switch\ on)"{}},}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Now\ every\ checker\ has\ a\ name,\ use\ setName(const\ char*\ format,\ ...)\ to\ set\ it"{}},}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Now\ it\ is\ compatible\ with\ TTS\ (by\ Kittens\ Computing)"{}},}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ \(\backslash\)'ensure(condition,\ message\ =\ \(\backslash\)"{}\(\backslash\)"{})\(\backslash\)'\ feature,\ it\ works\ like\ assert()"{}},}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fixed\ compatibility\ with\ MS\ C++\ 7.1"{}},}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ footer\ with\ exit\ code\ information"{}},}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ compatibility\ with\ EJUDGE\ (compile\ with\ EJUDGE\ directive)"{}},}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ compatibility\ with\ Contester\ (compile\ with\ CONTESTER\ directive)"{}}}
\DoxyCodeLine{00157\ \};}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\#define\ \_CRT\_SECURE\_NO\_DEPRECATE}}
\DoxyCodeLine{00161\ \textcolor{preprocessor}{\#define\ \_CRT\_SECURE\_NO\_WARNINGS}}
\DoxyCodeLine{00162\ \textcolor{preprocessor}{\#define\ \_CRT\_NO\_VA\_START\_VALIDATION}}
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \textcolor{comment}{/*\ Overrides\ random()\ for\ Borland\ C++.\ */}}
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\#define\ random\ \_\_random\_deprecated}}
\DoxyCodeLine{00167\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{00168\ \textcolor{preprocessor}{\#include\ <cstdlib>}}
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\#include\ <climits>}}
\DoxyCodeLine{00170\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\#undef\ random}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \textcolor{preprocessor}{\#include\ <cstdio>}}
\DoxyCodeLine{00174\ \textcolor{preprocessor}{\#include\ <cctype>}}
\DoxyCodeLine{00175\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00176\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00177\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00178\ \textcolor{preprocessor}{\#include\ <set>}}
\DoxyCodeLine{00179\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00180\ \textcolor{preprocessor}{\#include\ <iterator>}}
\DoxyCodeLine{00181\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00182\ \textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{00183\ \textcolor{preprocessor}{\#include\ <fstream>}}
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\#include\ <cstring>}}
\DoxyCodeLine{00185\ \textcolor{preprocessor}{\#include\ <limits>}}
\DoxyCodeLine{00186\ \textcolor{preprocessor}{\#include\ <stdarg.h>}}
\DoxyCodeLine{00187\ \textcolor{preprocessor}{\#include\ <fcntl.h>}}
\DoxyCodeLine{00188\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00189\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \textcolor{preprocessor}{\#ifdef\ TESTLIB\_THROW\_EXIT\_EXCEPTION\_INSTEAD\_OF\_EXIT}}
\DoxyCodeLine{00192\ \textcolor{preprocessor}{\#\ \ \ include\ <exception>}}
\DoxyCodeLine{00193\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \textcolor{preprocessor}{\#if\ (\_WIN32\ ||\ \_\_WIN32\_\_\ ||\ \_\_WIN32\ ||\ \_WIN64\ ||\ \_\_WIN64\_\_\ ||\ \_\_WIN64\ ||\ WINNT\ ||\ \_\_WINNT\ ||\ \_\_WINNT\_\_\ ||\ \_\_CYGWIN\_\_)}}
\DoxyCodeLine{00196\ \textcolor{preprocessor}{\#\ \ \ if\ !defined(\_MSC\_VER)\ ||\ \_MSC\_VER\ >\ 1400}}
\DoxyCodeLine{00197\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ NOMINMAX\ 1}}
\DoxyCodeLine{00198\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ include\ <windows.h>}}
\DoxyCodeLine{00199\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00200\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ WORD\ unsigned\ short}}
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ include\ <unistd.h>}}
\DoxyCodeLine{00202\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00203\ \textcolor{preprocessor}{\#\ \ \ include\ <io.h>}}
\DoxyCodeLine{00204\ \textcolor{preprocessor}{\#\ \ \ define\ ON\_WINDOWS}}
\DoxyCodeLine{00205\ \textcolor{preprocessor}{\#\ \ \ if\ defined(\_MSC\_VER)\ \&\&\ \_MSC\_VER\ >\ 1400}}
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ pragma\ warning(\ disable\ :\ 4127\ )}}
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ pragma\ warning(\ disable\ :\ 4146\ )}}
\DoxyCodeLine{00208\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ pragma\ warning(\ disable\ :\ 4458\ )}}
\DoxyCodeLine{00209\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00210\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#\ \ \ define\ WORD\ unsigned\ short}}
\DoxyCodeLine{00212\ \textcolor{preprocessor}{\#\ \ \ include\ <unistd.h>}}
\DoxyCodeLine{00213\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \textcolor{preprocessor}{\#if\ defined(FOR\_WINDOWS)\ \&\&\ defined(FOR\_LINUX)}}
\DoxyCodeLine{00216\ \textcolor{preprocessor}{\#error\ Only\ one\ target\ system\ is\ allowed}}
\DoxyCodeLine{00217\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \textcolor{preprocessor}{\#ifndef\ LLONG\_MIN}}
\DoxyCodeLine{00220\ \textcolor{preprocessor}{\#define\ LLONG\_MIN\ \ \ (-\/9223372036854775807LL\ -\/\ 1)}}
\DoxyCodeLine{00221\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \textcolor{preprocessor}{\#ifndef\ ULLONG\_MAX}}
\DoxyCodeLine{00224\ \textcolor{preprocessor}{\#define\ ULLONG\_MAX\ \ \ (18446744073709551615)}}
\DoxyCodeLine{00225\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \textcolor{preprocessor}{\#define\ LF\ ((char)10)}}
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#define\ CR\ ((char)13)}}
\DoxyCodeLine{00229\ \textcolor{preprocessor}{\#define\ TAB\ ((char)9)}}
\DoxyCodeLine{00230\ \textcolor{preprocessor}{\#define\ SPACE\ ((char)'\ ')}}
\DoxyCodeLine{00231\ \textcolor{preprocessor}{\#define\ EOFC\ (255)}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \textcolor{preprocessor}{\#ifndef\ OK\_EXIT\_CODE}}
\DoxyCodeLine{00234\ \textcolor{preprocessor}{\#\ \ \ ifdef\ CONTESTER}}
\DoxyCodeLine{00235\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ OK\_EXIT\_CODE\ 0xAC}}
\DoxyCodeLine{00236\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00237\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ OK\_EXIT\_CODE\ 0}}
\DoxyCodeLine{00238\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00239\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \textcolor{preprocessor}{\#ifndef\ WA\_EXIT\_CODE}}
\DoxyCodeLine{00242\ \textcolor{preprocessor}{\#\ \ \ ifdef\ EJUDGE}}
\DoxyCodeLine{00243\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ WA\_EXIT\_CODE\ 5}}
\DoxyCodeLine{00244\ \textcolor{preprocessor}{\#\ \ \ elif\ defined(CONTESTER)}}
\DoxyCodeLine{00245\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ WA\_EXIT\_CODE\ 0xAB}}
\DoxyCodeLine{00246\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00247\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ WA\_EXIT\_CODE\ 1}}
\DoxyCodeLine{00248\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00249\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \textcolor{preprocessor}{\#ifndef\ PE\_EXIT\_CODE}}
\DoxyCodeLine{00252\ \textcolor{preprocessor}{\#\ \ \ ifdef\ EJUDGE}}
\DoxyCodeLine{00253\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ PE\_EXIT\_CODE\ 4}}
\DoxyCodeLine{00254\ \textcolor{preprocessor}{\#\ \ \ elif\ defined(CONTESTER)}}
\DoxyCodeLine{00255\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ PE\_EXIT\_CODE\ 0xAA}}
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00257\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ PE\_EXIT\_CODE\ 2}}
\DoxyCodeLine{00258\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00259\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \textcolor{preprocessor}{\#ifndef\ FAIL\_EXIT\_CODE}}
\DoxyCodeLine{00262\ \textcolor{preprocessor}{\#\ \ \ ifdef\ EJUDGE}}
\DoxyCodeLine{00263\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ FAIL\_EXIT\_CODE\ 6}}
\DoxyCodeLine{00264\ \textcolor{preprocessor}{\#\ \ \ elif\ defined(CONTESTER)}}
\DoxyCodeLine{00265\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ FAIL\_EXIT\_CODE\ 0xA3}}
\DoxyCodeLine{00266\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00267\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ FAIL\_EXIT\_CODE\ 3}}
\DoxyCodeLine{00268\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00269\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \textcolor{preprocessor}{\#ifndef\ DIRT\_EXIT\_CODE}}
\DoxyCodeLine{00272\ \textcolor{preprocessor}{\#\ \ \ ifdef\ EJUDGE}}
\DoxyCodeLine{00273\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ DIRT\_EXIT\_CODE\ 6}}
\DoxyCodeLine{00274\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00275\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ DIRT\_EXIT\_CODE\ 4}}
\DoxyCodeLine{00276\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00277\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \textcolor{preprocessor}{\#ifndef\ POINTS\_EXIT\_CODE}}
\DoxyCodeLine{00280\ \textcolor{preprocessor}{\#\ \ \ define\ POINTS\_EXIT\_CODE\ 7}}
\DoxyCodeLine{00281\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \textcolor{preprocessor}{\#ifndef\ UNEXPECTED\_EOF\_EXIT\_CODE}}
\DoxyCodeLine{00284\ \textcolor{preprocessor}{\#\ \ \ define\ UNEXPECTED\_EOF\_EXIT\_CODE\ 8}}
\DoxyCodeLine{00285\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \textcolor{preprocessor}{\#ifndef\ PC\_BASE\_EXIT\_CODE}}
\DoxyCodeLine{00288\ \textcolor{preprocessor}{\#\ \ \ ifdef\ TESTSYS}}
\DoxyCodeLine{00289\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ PC\_BASE\_EXIT\_CODE\ 50}}
\DoxyCodeLine{00290\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00291\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ define\ PC\_BASE\_EXIT\_CODE\ 0}}
\DoxyCodeLine{00292\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00293\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00296\ \textcolor{preprocessor}{\#\ \ \ \ define\ \_\_TESTLIB\_STATIC\_ASSERT(condition)\ typedef\ void*\ \_\_testlib\_static\_assert\_type[(condition)\ ?\ 1\ :\ -\/1]\ \_\_attribute\_\_((unused))}}
\DoxyCodeLine{00297\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00298\ \textcolor{preprocessor}{\#\ \ \ \ define\ \_\_TESTLIB\_STATIC\_ASSERT(condition)\ typedef\ void*\ \_\_testlib\_static\_assert\_type[(condition)\ ?\ 1\ :\ -\/1]}}
\DoxyCodeLine{00299\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \textcolor{preprocessor}{\#ifdef\ ON\_WINDOWS}}
\DoxyCodeLine{00302\ \textcolor{preprocessor}{\#define\ I64\ "{}\%I64d"{}}}
\DoxyCodeLine{00303\ \textcolor{preprocessor}{\#define\ U64\ "{}\%I64u"{}}}
\DoxyCodeLine{00304\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00305\ \textcolor{preprocessor}{\#define\ I64\ "{}\%lld"{}}}
\DoxyCodeLine{00306\ \textcolor{preprocessor}{\#define\ U64\ "{}\%llu"{}}}
\DoxyCodeLine{00307\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{00310\ \textcolor{preprocessor}{\#\ \ \ define\ NORETURN\ \_\_declspec(noreturn)}}
\DoxyCodeLine{00311\ \textcolor{preprocessor}{\#elif\ defined\ \_\_GNUC\_\_}}
\DoxyCodeLine{00312\ \textcolor{preprocessor}{\#\ \ \ define\ NORETURN\ \_\_attribute\_\_\ ((noreturn))}}
\DoxyCodeLine{00313\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00314\ \textcolor{preprocessor}{\#\ \ \ define\ NORETURN}}
\DoxyCodeLine{00315\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ \_\_testlib\_format\_buffer[16777216];}
\DoxyCodeLine{00318\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ \_\_testlib\_format\_buffer\_usage\_count\ =\ 0;}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \textcolor{preprocessor}{\#define\ FMT\_TO\_RESULT(fmt,\ cstr,\ result)\ \ std::string\ result;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00321\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ if\ (\_\_testlib\_format\_buffer\_usage\_count\ !=\ 0)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00322\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail("{}FMT\_TO\_RESULT::\_\_testlib\_format\_buffer\_usage\_count\ !=\ 0"{});\ \(\backslash\)}}
\DoxyCodeLine{00323\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_format\_buffer\_usage\_count++;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00324\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ va\_list\ ap;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00325\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ va\_start(ap,\ fmt);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00326\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ vsnprintf(\_\_testlib\_format\_buffer,\ sizeof(\_\_testlib\_format\_buffer),\ cstr,\ ap);\ \(\backslash\)}}
\DoxyCodeLine{00327\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ va\_end(ap);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00328\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_format\_buffer[sizeof(\_\_testlib\_format\_buffer)\ -\/\ 1]\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00329\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ result\ =\ std::string(\_\_testlib\_format\_buffer);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00330\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_format\_buffer\_usage\_count-\/-\/;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00331\ \textcolor{preprocessor}{}}
\DoxyCodeLine{00332\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \_\_TESTLIB\_LONGLONG\_MAX\ =\ 9223372036854775807LL;}
\DoxyCodeLine{00333\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \_\_TESTLIB\_MAX\_TEST\_CASE\ =\ 1073741823;}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \textcolor{keywordtype}{int}\ \_\_testlib\_exitCode;}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \textcolor{keywordtype}{bool}\ \_\_testlib\_hasTestCase;}
\DoxyCodeLine{00338\ \textcolor{keywordtype}{int}\ \_\_testlib\_testCase\ =\ -\/1;}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00340\ \textcolor{keywordtype}{void}\ setTestCase(\textcolor{keywordtype}{int}\ testCase);}
\DoxyCodeLine{00341\ }
\DoxyCodeLine{00342\ \textcolor{keywordtype}{void}\ unsetTestCase()\ \{}
\DoxyCodeLine{00343\ \ \ \ \ \_\_testlib\_hasTestCase\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00344\ \ \ \ \ \_\_testlib\_testCase\ =\ -\/1;}
\DoxyCodeLine{00345\ \}}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ NORETURN\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \_\_testlib\_fail(\textcolor{keyword}{const}\ std::string\ \&message);}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00350\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00351\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00352\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00353\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \_Tp\ \_\_testlib\_abs(\textcolor{keyword}{const}\ \_Tp\ \&x)\ \{}
\DoxyCodeLine{00354\ \ \ \ \ \textcolor{keywordflow}{return}\ x\ >\ 0\ ?\ x\ :\ -\/x;}
\DoxyCodeLine{00355\ \}}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00357\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00358\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00359\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00360\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00361\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \_Tp\ \_\_testlib\_min(\textcolor{keyword}{const}\ \_Tp\ \&a,\ \textcolor{keyword}{const}\ \_Tp\ \&b)\ \{}
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{keywordflow}{return}\ a\ <\ b\ ?\ a\ :\ b;}
\DoxyCodeLine{00363\ \}}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00366\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00367\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00368\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00369\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \_Tp\ \_\_testlib\_max(\textcolor{keyword}{const}\ \_Tp\ \&a,\ \textcolor{keyword}{const}\ \_Tp\ \&b)\ \{}
\DoxyCodeLine{00370\ \ \ \ \ \textcolor{keywordflow}{return}\ a\ >\ b\ ?\ a\ :\ b;}
\DoxyCodeLine{00371\ \}}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00373\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00374\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00375\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00376\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00377\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \_Tp\ \_\_testlib\_crop(\_Tp\ value,\ \_Tp\ a,\ \_Tp\ b)\ \{}
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_min(\_\_testlib\_max(value,\ a),\ -\/-\/b);}
\DoxyCodeLine{00379\ \}}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00382\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00383\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00384\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ \_\_testlib\_crop(\textcolor{keywordtype}{double}\ value,\ \textcolor{keywordtype}{double}\ a,\ \textcolor{keywordtype}{double}\ b)\ \{}
\DoxyCodeLine{00385\ \ \ \ \ value\ =\ \_\_testlib\_min(\_\_testlib\_max(value,\ a),\ b);}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keywordflow}{if}\ (value\ >=\ b)}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ value\ =\ std::nexttoward(b,\ a);}
\DoxyCodeLine{00388\ \ \ \ \ \textcolor{keywordflow}{return}\ value;}
\DoxyCodeLine{00389\ \}}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \_\_testlib\_prelimIsNaN(\textcolor{keywordtype}{double}\ r)\ \{}
\DoxyCodeLine{00392\ \ \ \ \ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{double}\ ra\ =\ r;}
\DoxyCodeLine{00393\ \textcolor{preprocessor}{\#ifndef\ \_\_BORLANDC\_\_}}
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{keywordflow}{return}\ ((ra\ !=\ ra)\ ==\ \textcolor{keyword}{true})\ \&\&\ ((ra\ ==\ ra)\ ==\ \textcolor{keyword}{false})\ \&\&\ ((1.0\ >\ ra)\ ==\ \textcolor{keyword}{false})\ \&\&\ ((1.0\ <\ ra)\ ==\ \textcolor{keyword}{false});}
\DoxyCodeLine{00395\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00396\ \ \ \ \ \textcolor{keywordflow}{return}\ std::\_isnan(ra);}
\DoxyCodeLine{00397\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00398\ \}}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00401\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00402\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00403\ \textcolor{keyword}{static}\ std::string\ removeDoubleTrailingZeroes(std::string\ value)\ \{}
\DoxyCodeLine{00404\ \ \ \ \ \textcolor{keywordflow}{while}\ (!value.empty()\ \&\&\ value[value.length()\ -\/\ 1]\ ==\ \textcolor{charliteral}{'0'}\ \&\&\ value.find(\textcolor{charliteral}{'.'})\ !=\ std::string::npos)}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ value\ =\ value.substr(0,\ value.length()\ -\/\ 1);}
\DoxyCodeLine{00406\ \ \ \ \ \textcolor{keywordflow}{if}\ (!value.empty()\ \&\&\ value[value.length()\ -\/\ 1]\ ==\ \textcolor{charliteral}{'.'})}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ value\ +\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ value;}
\DoxyCodeLine{00410\ \}}
\DoxyCodeLine{00411\ }
\DoxyCodeLine{00412\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00413\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00414\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00415\ \textcolor{keyword}{inline}\ std::string\ upperCase(std::string\ s)\ \{}
\DoxyCodeLine{00416\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{charliteral}{'a'}\ <=\ s[i]\ \&\&\ s[i]\ <=\ \textcolor{charliteral}{'z'})}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ s[i]\ =\ char(s[i]\ -\/\ \textcolor{charliteral}{'a'}\ +\ \textcolor{charliteral}{'A'});}
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{00420\ \}}
\DoxyCodeLine{00421\ }
\DoxyCodeLine{00422\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00423\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00424\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00425\ \textcolor{keyword}{inline}\ std::string\ lowerCase(std::string\ s)\ \{}
\DoxyCodeLine{00426\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{charliteral}{'A'}\ <=\ s[i]\ \&\&\ s[i]\ <=\ \textcolor{charliteral}{'Z'})}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ s[i]\ =\ char(s[i]\ -\/\ \textcolor{charliteral}{'A'}\ +\ \textcolor{charliteral}{'a'});}
\DoxyCodeLine{00429\ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{00430\ \}}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00432\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00433\ \_\_attribute\_\_\ ((format\ (printf,\ 1,\ 2)))}
\DoxyCodeLine{00434\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00435\ std::string\ format(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *fmt,\ ...)\ \{}
\DoxyCodeLine{00436\ \ \ \ \ FMT\_TO\_RESULT(fmt,\ fmt,\ result);}
\DoxyCodeLine{00437\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00438\ \}}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ std::string\ format(\textcolor{keyword}{const}\ std::string\ fmt,\ ...)\ \{}
\DoxyCodeLine{00441\ \ \ \ \ FMT\_TO\_RESULT(fmt,\ fmt.c\_str(),\ result);}
\DoxyCodeLine{00442\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00443\ \}}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00446\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00447\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00448\ \textcolor{keyword}{static}\ std::string\ \_\_testlib\_part(\textcolor{keyword}{const}\ std::string\ \&s);}
\DoxyCodeLine{00449\ }
\DoxyCodeLine{00450\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \_\_testlib\_isNaN(\textcolor{keywordtype}{double}\ r)\ \{}
\DoxyCodeLine{00451\ \ \ \ \ \_\_TESTLIB\_STATIC\_ASSERT(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double})\ ==\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}));}
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{double}\ ra\ =\ r;}
\DoxyCodeLine{00453\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ llr1,\ llr2;}
\DoxyCodeLine{00454\ \ \ \ \ std::memcpy((\textcolor{keywordtype}{void}\ *)\ \&llr1,\ (\textcolor{keywordtype}{void}\ *)\ \&ra,\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));}
\DoxyCodeLine{00455\ \ \ \ \ ra\ =\ -\/ra;}
\DoxyCodeLine{00456\ \ \ \ \ std::memcpy((\textcolor{keywordtype}{void}\ *)\ \&llr2,\ (\textcolor{keywordtype}{void}\ *)\ \&ra,\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));}
\DoxyCodeLine{00457\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ llnan\ =\ 0xFFF8000000000000LL;}
\DoxyCodeLine{00458\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_prelimIsNaN(r)\ ||\ llnan\ ==\ llr1\ ||\ llnan\ ==\ llr2;}
\DoxyCodeLine{00459\ \}}
\DoxyCodeLine{00460\ }
\DoxyCodeLine{00461\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{double}\ \_\_testlib\_nan()\ \{}
\DoxyCodeLine{00462\ \ \ \ \ \_\_TESTLIB\_STATIC\_ASSERT(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double})\ ==\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}));}
\DoxyCodeLine{00463\ \textcolor{preprocessor}{\#ifndef\ NAN}}
\DoxyCodeLine{00464\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ llnan\ =\ 0xFFF8000000000000LL;}
\DoxyCodeLine{00465\ \ \ \ \ \textcolor{keywordtype}{double}\ nan;}
\DoxyCodeLine{00466\ \ \ \ \ std::memcpy(\&nan,\ \&llnan,\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));}
\DoxyCodeLine{00467\ \ \ \ \ \textcolor{keywordflow}{return}\ nan;}
\DoxyCodeLine{00468\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00469\ \ \ \ \ \textcolor{keywordflow}{return}\ NAN;}
\DoxyCodeLine{00470\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00471\ \}}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \_\_testlib\_isInfinite(\textcolor{keywordtype}{double}\ r)\ \{}
\DoxyCodeLine{00474\ \ \ \ \ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{double}\ ra\ =\ r;}
\DoxyCodeLine{00475\ \ \ \ \ \textcolor{keywordflow}{return}\ (ra\ >\ 1E300\ ||\ ra\ <\ -\/1E300);}
\DoxyCodeLine{00476\ \}}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00478\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00479\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00480\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00481\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ doubleCompare(\textcolor{keywordtype}{double}\ expected,\ \textcolor{keywordtype}{double}\ result,\ \textcolor{keywordtype}{double}\ MAX\_DOUBLE\_ERROR)\ \{}
\DoxyCodeLine{00482\ \ \ \ \ MAX\_DOUBLE\_ERROR\ +=\ 1E-\/15;}
\DoxyCodeLine{00483\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_testlib\_isNaN(expected))\ \{}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_isNaN(result);}
\DoxyCodeLine{00485\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\_\_testlib\_isInfinite(expected))\ \{}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (expected\ >\ 0)\ \{}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result\ >\ 0\ \&\&\ \_\_testlib\_isInfinite(result);}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result\ <\ 0\ \&\&\ \_\_testlib\_isInfinite(result);}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00491\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\_\_testlib\_isNaN(result)\ ||\ \_\_testlib\_isInfinite(result))\ \{}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00493\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\_\_testlib\_abs(result\ -\/\ expected)\ <=\ MAX\_DOUBLE\_ERROR)\ \{}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00495\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ minv\ =\ \_\_testlib\_min(expected\ *\ (1.0\ -\/\ MAX\_DOUBLE\_ERROR),}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expected\ *\ (1.0\ +\ MAX\_DOUBLE\_ERROR));}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ maxv\ =\ \_\_testlib\_max(expected\ *\ (1.0\ -\/\ MAX\_DOUBLE\_ERROR),}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expected\ *\ (1.0\ +\ MAX\_DOUBLE\_ERROR));}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result\ >=\ minv\ \&\&\ result\ <=\ maxv;}
\DoxyCodeLine{00501\ \ \ \ \ \}}
\DoxyCodeLine{00502\ \}}
\DoxyCodeLine{00503\ }
\DoxyCodeLine{00504\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00505\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00506\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00507\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ doubleDelta(\textcolor{keywordtype}{double}\ expected,\ \textcolor{keywordtype}{double}\ result)\ \{}
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{keywordtype}{double}\ absolute\ =\ \_\_testlib\_abs(result\ -\/\ expected);}
\DoxyCodeLine{00509\ }
\DoxyCodeLine{00510\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_testlib\_abs(expected)\ >\ 1E-\/9)\ \{}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ relative\ =\ \_\_testlib\_abs(absolute\ /\ expected);}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_min(absolute,\ relative);}
\DoxyCodeLine{00513\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ absolute;}
\DoxyCodeLine{00515\ \}}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00518\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \_\_testlib\_set\_binary(std::FILE\ *file)\ \{}
\DoxyCodeLine{00519\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ !=\ file)\ \{}
\DoxyCodeLine{00520\ \textcolor{preprocessor}{\#ifdef\ ON\_WINDOWS}}
\DoxyCodeLine{00521\ \textcolor{preprocessor}{\#\ \ \ ifdef\ \_O\_BINARY}}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stdin\ ==\ file)}
\DoxyCodeLine{00523\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ ifdef\ STDIN\_FILENO}}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(\_setmode(STDIN\_FILENO,\ \_O\_BINARY));}
\DoxyCodeLine{00525\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ else}}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(\_setmode(\_fileno(stdin),\ \_O\_BINARY));}
\DoxyCodeLine{00527\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ endif}}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stdout\ ==\ file)}
\DoxyCodeLine{00529\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ ifdef\ STDOUT\_FILENO}}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(\_setmode(STDOUT\_FILENO,\ \_O\_BINARY));}
\DoxyCodeLine{00531\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ else}}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(\_setmode(\_fileno(stdout),\ \_O\_BINARY));}
\DoxyCodeLine{00533\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ endif}}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stderr\ ==\ file)}
\DoxyCodeLine{00535\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ ifdef\ STDERR\_FILENO}}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(\_setmode(STDERR\_FILENO,\ \_O\_BINARY));}
\DoxyCodeLine{00537\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ else}}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(\_setmode(\_fileno(stderr),\ \_O\_BINARY));}
\DoxyCodeLine{00539\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ endif}}
\DoxyCodeLine{00540\ \textcolor{preprocessor}{\#\ \ \ elif\ O\_BINARY}}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stdin\ ==\ file)}
\DoxyCodeLine{00542\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ ifdef\ STDIN\_FILENO}}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(setmode(STDIN\_FILENO,\ O\_BINARY));}
\DoxyCodeLine{00544\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ else}}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(setmode(fileno(stdin),\ O\_BINARY));}
\DoxyCodeLine{00546\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ endif}}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stdout\ ==\ file)}
\DoxyCodeLine{00548\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ ifdef\ STDOUT\_FILENO}}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(setmode(STDOUT\_FILENO,\ O\_BINARY));}
\DoxyCodeLine{00550\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ else}}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(setmode(fileno(stdout),\ O\_BINARY));}
\DoxyCodeLine{00552\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ endif}}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stderr\ ==\ file)}
\DoxyCodeLine{00554\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ ifdef\ STDERR\_FILENO}}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(setmode(STDERR\_FILENO,\ O\_BINARY));}
\DoxyCodeLine{00556\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ else}}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void(setmode(fileno(stderr),\ O\_BINARY));}
\DoxyCodeLine{00558\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ endif}}
\DoxyCodeLine{00559\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00560\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00561\ \ \ \ \ \}}
\DoxyCodeLine{00562\ \}}
\DoxyCodeLine{00563\ }
\DoxyCodeLine{00564\ \textcolor{preprocessor}{\#if\ \_\_cplusplus\ >\ 199711L\ ||\ defined(\_MSC\_VER)}}
\DoxyCodeLine{00565\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00566\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00567\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{00568\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00569\ \textcolor{keyword}{static}\ std::string\ vtos(\textcolor{keyword}{const}\ \_Tp\ \&t,\ std::true\_type)\ \{}
\DoxyCodeLine{00570\ \ \ \ \ \textcolor{keywordflow}{if}\ (t\ ==\ 0)}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}0"{}};}
\DoxyCodeLine{00572\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \_Tp\ n(t);}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ negative\ =\ n\ <\ 0;}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ std::string\ s;}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (n\ !=\ 0)\ \{}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \ \ \ \ \_Tp\ digit\ =\ n\ \%\ 10;}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (digit\ <\ 0)}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ digit\ =\ -\/digit;}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \ \ \ \ s\ +=\ char(\textcolor{charliteral}{'0'}\ +\ digit);}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \ \ \ \ n\ /=\ 10;}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ std::reverse(s.begin(),\ s.end());}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ negative\ ?\ \textcolor{stringliteral}{"{}-\/"{}}\ +\ s\ :\ s;}
\DoxyCodeLine{00585\ \ \ \ \ \}}
\DoxyCodeLine{00586\ \}}
\DoxyCodeLine{00587\ }
\DoxyCodeLine{00588\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00589\ \textcolor{keyword}{static}\ std::string\ vtos(\textcolor{keyword}{const}\ \_Tp\ \&t,\ std::false\_type)\ \{}
\DoxyCodeLine{00590\ \ \ \ \ std::string\ s;}
\DoxyCodeLine{00591\ \ \ \ \ \textcolor{keyword}{static}\ std::stringstream\ ss;}
\DoxyCodeLine{00592\ \ \ \ \ ss.str(std::string());}
\DoxyCodeLine{00593\ \ \ \ \ ss.clear();}
\DoxyCodeLine{00594\ \ \ \ \ ss\ <<\ t;}
\DoxyCodeLine{00595\ \ \ \ \ ss\ >>\ s;}
\DoxyCodeLine{00596\ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{00597\ \}}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00600\ \textcolor{keyword}{static}\ std::string\ vtos(\textcolor{keyword}{const}\ \_Tp\ \&t)\ \{}
\DoxyCodeLine{00601\ \ \ \ \ \textcolor{keywordflow}{return}\ vtos(t,\ std::is\_integral<\_Tp>());}
\DoxyCodeLine{00602\ \}}
\DoxyCodeLine{00603\ }
\DoxyCodeLine{00604\ \textcolor{comment}{/*\ signed\ case.\ */}}
\DoxyCodeLine{00605\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00606\ \textcolor{keyword}{static}\ std::string\ toHumanReadableString(\textcolor{keyword}{const}\ \_Tp\ \&n,\ std::false\_type)\ \{}
\DoxyCodeLine{00607\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ ==\ 0)}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vtos(n);}
\DoxyCodeLine{00609\ \ \ \ \ \textcolor{keywordtype}{int}\ trailingZeroCount\ =\ 0;}
\DoxyCodeLine{00610\ \ \ \ \ \_Tp\ n\_\ =\ n;}
\DoxyCodeLine{00611\ \ \ \ \ \textcolor{keywordflow}{while}\ (n\_\ \%\ 10\ ==\ 0)}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ n\_\ /=\ 10,\ trailingZeroCount++;}
\DoxyCodeLine{00613\ \ \ \ \ \textcolor{keywordflow}{if}\ (trailingZeroCount\ >=\ 7)\ \{}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\_\ ==\ 1)}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}10\string^"{}}\ +\ vtos(trailingZeroCount);}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (n\_\ ==\ -\/1)}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}-\/10\string^"{}}\ +\ vtos(trailingZeroCount);}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vtos(n\_)\ +\ \textcolor{stringliteral}{"{}*10\string^"{}}\ +\ vtos(trailingZeroCount);}
\DoxyCodeLine{00620\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vtos(n);}
\DoxyCodeLine{00622\ \}}
\DoxyCodeLine{00623\ }
\DoxyCodeLine{00624\ \textcolor{comment}{/*\ unsigned\ case.\ */}}
\DoxyCodeLine{00625\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00626\ \textcolor{keyword}{static}\ std::string\ toHumanReadableString(\textcolor{keyword}{const}\ \_Tp\ \&n,\ std::true\_type)\ \{}
\DoxyCodeLine{00627\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ ==\ 0)}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vtos(n);}
\DoxyCodeLine{00629\ \ \ \ \ \textcolor{keywordtype}{int}\ trailingZeroCount\ =\ 0;}
\DoxyCodeLine{00630\ \ \ \ \ \_Tp\ n\_\ =\ n;}
\DoxyCodeLine{00631\ \ \ \ \ \textcolor{keywordflow}{while}\ (n\_\ \%\ 10\ ==\ 0)}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ n\_\ /=\ 10,\ trailingZeroCount++;}
\DoxyCodeLine{00633\ \ \ \ \ \textcolor{keywordflow}{if}\ (trailingZeroCount\ >=\ 7)\ \{}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\_\ ==\ 1)}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}10\string^"{}}\ +\ vtos(trailingZeroCount);}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vtos(n\_)\ +\ \textcolor{stringliteral}{"{}*10\string^"{}}\ +\ vtos(trailingZeroCount);}
\DoxyCodeLine{00638\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vtos(n);}
\DoxyCodeLine{00640\ \}}
\DoxyCodeLine{00641\ }
\DoxyCodeLine{00642\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00643\ \textcolor{keyword}{static}\ std::string\ toHumanReadableString(\textcolor{keyword}{const}\ \_Tp\ \&n)\ \{}
\DoxyCodeLine{00644\ \ \ \ \ \textcolor{keywordflow}{return}\ toHumanReadableString(n,\ std::is\_unsigned<\_Tp>());}
\DoxyCodeLine{00645\ \}}
\DoxyCodeLine{00646\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00647\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00648\ \textcolor{keyword}{static}\ std::string\ vtos(\textcolor{keyword}{const}\ T\&\ t)}
\DoxyCodeLine{00649\ \{}
\DoxyCodeLine{00650\ \ \ \ \ std::string\ s;}
\DoxyCodeLine{00651\ \ \ \ \ \textcolor{keyword}{static}\ std::stringstream\ ss;}
\DoxyCodeLine{00652\ \ \ \ \ ss.str(std::string());}
\DoxyCodeLine{00653\ \ \ \ \ ss.clear();}
\DoxyCodeLine{00654\ \ \ \ \ ss\ <<\ t;}
\DoxyCodeLine{00655\ \ \ \ \ ss\ >>\ s;}
\DoxyCodeLine{00656\ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{00657\ \}}
\DoxyCodeLine{00658\ }
\DoxyCodeLine{00659\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00660\ \textcolor{keyword}{static}\ std::string\ toHumanReadableString(\textcolor{keyword}{const}\ T\ \&n)\ \{}
\DoxyCodeLine{00661\ \ \ \ \ \textcolor{keywordflow}{return}\ vtos(n);}
\DoxyCodeLine{00662\ \}}
\DoxyCodeLine{00663\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00664\ }
\DoxyCodeLine{00665\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{00666\ \textcolor{keyword}{static}\ std::string\ toString(\textcolor{keyword}{const}\ \_Tp\ \&t)\ \{}
\DoxyCodeLine{00667\ \ \ \ \ \textcolor{keywordflow}{return}\ vtos(t);}
\DoxyCodeLine{00668\ \}}
\DoxyCodeLine{00669\ }
\DoxyCodeLine{00670\ \textcolor{preprocessor}{\#if\ \_\_cplusplus\ >\ 199711L\ ||\ defined(\_MSC\_VER)}}
\DoxyCodeLine{00671\ \textcolor{comment}{/*\ opts\ */}}
\DoxyCodeLine{00672\ \textcolor{keywordtype}{void}\ prepareOpts(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}*\ argv[]);}
\DoxyCodeLine{00673\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00674\ }
\DoxyCodeLine{00675\ \textcolor{comment}{/*}}
\DoxyCodeLine{00676\ \textcolor{comment}{\ *\ Very\ simple\ regex-\/like\ pattern.}}
\DoxyCodeLine{00677\ \textcolor{comment}{\ *\ It\ used\ for\ two\ purposes:\ validation\ and\ generation.}}
\DoxyCodeLine{00678\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00679\ \textcolor{comment}{\ *\ For\ example,\ pattern("{}[a-\/z]\{1,5\}"{}).next(rnd)\ will\ return}}
\DoxyCodeLine{00680\ \textcolor{comment}{\ *\ random\ string\ from\ lowercase\ latin\ letters\ with\ length}}
\DoxyCodeLine{00681\ \textcolor{comment}{\ *\ from\ 1\ to\ 5.\ It\ is\ easier\ to\ call\ rnd.next("{}[a-\/z]\{1,5\}"{})}}
\DoxyCodeLine{00682\ \textcolor{comment}{\ *\ for\ the\ same\ effect.}}
\DoxyCodeLine{00683\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00684\ \textcolor{comment}{\ *\ Another\ samples:}}
\DoxyCodeLine{00685\ \textcolor{comment}{\ *\ "{}mike|john"{}\ will\ generate\ (match)\ "{}mike"{}\ or\ "{}john"{};}}
\DoxyCodeLine{00686\ \textcolor{comment}{\ *\ "{}-\/?[1-\/9][0-\/9]\{0,3\}"{}\ will\ generate\ (match)\ non-\/zero\ integers\ from\ -\/9999\ to\ 9999;}}
\DoxyCodeLine{00687\ \textcolor{comment}{\ *\ "{}id-\/([ac]|b\{2\})"{}\ will\ generate\ (match)\ "{}id-\/a"{},\ "{}id-\/bb"{},\ "{}id-\/c"{};}}
\DoxyCodeLine{00688\ \textcolor{comment}{\ *\ "{}[\string^0-\/9]*"{}\ will\ match\ sequences\ (empty\ or\ non-\/empty)\ without\ digits,\ you\ can't}}
\DoxyCodeLine{00689\ \textcolor{comment}{\ *\ use\ it\ for\ generations.}}
\DoxyCodeLine{00690\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00691\ \textcolor{comment}{\ *\ You\ can't\ use\ pattern\ for\ generation\ if\ it\ contains\ meta-\/symbol\ '*'.\ Also\ it}}
\DoxyCodeLine{00692\ \textcolor{comment}{\ *\ is\ not\ recommended\ to\ use\ it\ for\ char-\/sets\ with\ meta-\/symbol\ '\string^'\ like\ [\string^a-\/z].}}
\DoxyCodeLine{00693\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00694\ \textcolor{comment}{\ *\ For\ matching\ very\ simple\ greedy\ algorithm\ is\ used.\ For\ example,\ pattern}}
\DoxyCodeLine{00695\ \textcolor{comment}{\ *\ "{}[0-\/9]?1"{}\ will\ not\ match\ "{}1"{},\ because\ of\ greedy\ nature\ of\ matching.}}
\DoxyCodeLine{00696\ \textcolor{comment}{\ *\ Alternations\ (meta-\/symbols\ "{}|"{})\ are\ processed\ with\ brute-\/force\ algorithm,\ so}}
\DoxyCodeLine{00697\ \textcolor{comment}{\ *\ do\ not\ use\ many\ alternations\ in\ one\ expression.}}
\DoxyCodeLine{00698\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00699\ \textcolor{comment}{\ *\ If\ you\ want\ to\ use\ one\ expression\ many\ times\ it\ is\ better\ to\ compile\ it\ into}}
\DoxyCodeLine{00700\ \textcolor{comment}{\ *\ a\ single\ pattern\ like\ "{}pattern\ p("{}[a-\/z]+"{})"{}.\ Later\ you\ can\ use}}
\DoxyCodeLine{00701\ \textcolor{comment}{\ *\ "{}p.matches(std::string\ s)"{}\ or\ "{}p.next(random\_t\&\ rd)"{}\ to\ check\ matching\ or\ generate}}
\DoxyCodeLine{00702\ \textcolor{comment}{\ *\ new\ string\ by\ pattern.}}
\DoxyCodeLine{00703\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00704\ \textcolor{comment}{\ *\ Simpler\ way\ to\ read\ token\ and\ check\ it\ for\ pattern\ matching\ is\ "{}inf.readToken("{}[a-\/z]+"{})"{}.}}
\DoxyCodeLine{00705\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00706\ \textcolor{comment}{\ *\ All\ spaces\ are\ ignored\ in\ regex,\ unless\ escaped\ with\ \(\backslash\).\ For\ example,\ ouf.readLine("{}NO\ SOLUTION"{})}}
\DoxyCodeLine{00707\ \textcolor{comment}{\ *\ will\ expect\ "{}NOSOLUTION"{},\ the\ correct\ call\ should\ be\ ouf.readLine("{}NO\(\backslash\)\(\backslash\)\ SOLUTION"{})\ or}}
\DoxyCodeLine{00708\ \textcolor{comment}{\ *\ ouf.readLine(R"{}(NO\(\backslash\)\ SOLUTION)"{})\ if\ you\ prefer\ raw\ string\ literals\ from\ C++11.}}
\DoxyCodeLine{00709\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00710\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrandom__t}{random\_t}};}
\DoxyCodeLine{00711\ }
\DoxyCodeLine{00712\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpattern}{pattern}}\ \{}
\DoxyCodeLine{00713\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00714\ \ \ \ \ \textcolor{comment}{/*\ Create\ pattern\ instance\ by\ string.\ */}}
\DoxyCodeLine{00715\ \ \ \ \ \mbox{\hyperlink{classpattern}{pattern}}(std::string\ s);}
\DoxyCodeLine{00716\ }
\DoxyCodeLine{00717\ \ \ \ \ \textcolor{comment}{/*\ Generate\ new\ string\ by\ pattern\ and\ given\ random\_t.\ */}}
\DoxyCodeLine{00718\ \ \ \ \ std::string\ next(\mbox{\hyperlink{classrandom__t}{random\_t}}\ \&rnd)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00719\ }
\DoxyCodeLine{00720\ \ \ \ \ \textcolor{comment}{/*\ Checks\ if\ given\ string\ match\ the\ pattern.\ */}}
\DoxyCodeLine{00721\ \ \ \ \ \textcolor{keywordtype}{bool}\ matches(\textcolor{keyword}{const}\ std::string\ \&s)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00722\ }
\DoxyCodeLine{00723\ \ \ \ \ \textcolor{comment}{/*\ Returns\ source\ string\ of\ the\ pattern.\ */}}
\DoxyCodeLine{00724\ \ \ \ \ std::string\ src()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00725\ }
\DoxyCodeLine{00726\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00727\ \ \ \ \ \textcolor{keywordtype}{bool}\ matches(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{size\_t}\ pos)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00728\ }
\DoxyCodeLine{00729\ \ \ \ \ std::string\ s;}
\DoxyCodeLine{00730\ \ \ \ \ std::vector<pattern>\ children;}
\DoxyCodeLine{00731\ \ \ \ \ std::vector<char>\ chars;}
\DoxyCodeLine{00732\ \ \ \ \ \textcolor{keywordtype}{int}\ from;}
\DoxyCodeLine{00733\ \ \ \ \ \textcolor{keywordtype}{int}\ to;}
\DoxyCodeLine{00734\ \};}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \textcolor{comment}{/*}}
\DoxyCodeLine{00737\ \textcolor{comment}{\ *\ Use\ random\_t\ instances\ to\ generate\ random\ values.\ It\ is\ preferred}}
\DoxyCodeLine{00738\ \textcolor{comment}{\ *\ way\ to\ use\ randoms\ instead\ of\ rand()\ function\ or\ self-\/written}}
\DoxyCodeLine{00739\ \textcolor{comment}{\ *\ randoms.}}
\DoxyCodeLine{00740\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00741\ \textcolor{comment}{\ *\ Testlib\ defines\ global\ variable\ "{}rnd"{}\ of\ random\_t\ class.}}
\DoxyCodeLine{00742\ \textcolor{comment}{\ *\ Use\ registerGen(argc,\ argv,\ 1)\ to\ setup\ random\_t\ seed\ be\ command}}
\DoxyCodeLine{00743\ \textcolor{comment}{\ *\ line\ (to\ use\ latest\ random\ generator\ version).}}
\DoxyCodeLine{00744\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00745\ \textcolor{comment}{\ *\ Random\ generates\ uniformly\ distributed\ values\ if\ another\ strategy\ is}}
\DoxyCodeLine{00746\ \textcolor{comment}{\ *\ not\ specified\ explicitly.}}
\DoxyCodeLine{00747\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00748\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrandom__t}{random\_t}}\ \{}
\DoxyCodeLine{00749\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00750\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ seed;}
\DoxyCodeLine{00751\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ multiplier;}
\DoxyCodeLine{00752\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ addend;}
\DoxyCodeLine{00753\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ mask;}
\DoxyCodeLine{00754\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ lim;}
\DoxyCodeLine{00755\ }
\DoxyCodeLine{00756\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ nextBits(\textcolor{keywordtype}{int}\ bits)\ \{}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bits\ <=\ 48)\ \{}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \ \ \ \ seed\ =\ (seed\ *\ multiplier\ +\ addend)\ \&\ mask;}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ (seed\ >>\ (48\ -\/\ bits));}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bits\ >\ 63)}
\DoxyCodeLine{00762\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::nextBits(int\ bits):\ n\ must\ be\ less\ than\ 64"{}});}
\DoxyCodeLine{00763\ }
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ lowerBitCount\ =\ (random\_t::version\ ==\ 0\ ?\ 31\ :\ 32);}
\DoxyCodeLine{00765\ }
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ left\ =\ (nextBits(31)\ <<\ 32);}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ right\ =\ nextBits(lowerBitCount);}
\DoxyCodeLine{00768\ }
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ left\ \string^\ right;}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00771\ \ \ \ \ \}}
\DoxyCodeLine{00772\ }
\DoxyCodeLine{00773\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00774\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ version;}
\DoxyCodeLine{00775\ }
\DoxyCodeLine{00776\ \ \ \ \ \textcolor{comment}{/*\ New\ random\_t\ with\ fixed\ seed.\ */}}
\DoxyCodeLine{00777\ \ \ \ \ \mbox{\hyperlink{classrandom__t}{random\_t}}()}
\DoxyCodeLine{00778\ \ \ \ \ \ \ \ \ \ \ \ \ :\ seed(3905348978240129619LL)\ \{}
\DoxyCodeLine{00779\ \ \ \ \ \}}
\DoxyCodeLine{00780\ }
\DoxyCodeLine{00781\ \ \ \ \ \textcolor{comment}{/*\ Sets\ seed\ by\ command\ line.\ */}}
\DoxyCodeLine{00782\ \ \ \ \ \textcolor{keywordtype}{void}\ setSeed(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[])\ \{}
\DoxyCodeLine{00783\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrandom__t}{random\_t}}\ p;}
\DoxyCodeLine{00784\ }
\DoxyCodeLine{00785\ \ \ \ \ \ \ \ \ seed\ =\ 3905348978240129619LL;}
\DoxyCodeLine{00786\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 1;\ i\ <\ argc;\ i++)\ \{}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ \ \ \ \ std::size\_t\ le\ =\ std::strlen(argv[i]);}
\DoxyCodeLine{00788\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (std::size\_t\ j\ =\ 0;\ j\ <\ le;\ j++)}
\DoxyCodeLine{00789\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ seed\ =\ seed\ *\ multiplier\ +\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})\ (argv[i][j])\ +\ addend;}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \ \ \ \ seed\ +=\ multiplier\ /\ addend;}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00792\ }
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ seed\ =\ seed\ \&\ mask;}
\DoxyCodeLine{00794\ \ \ \ \ \}}
\DoxyCodeLine{00795\ }
\DoxyCodeLine{00796\ \ \ \ \ \textcolor{comment}{/*\ Sets\ seed\ by\ given\ value.\ */}}
\DoxyCodeLine{00797\ \ \ \ \ \textcolor{keywordtype}{void}\ setSeed(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \_seed)\ \{}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ seed\ =\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ long)\ \_seed;}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \ \ seed\ =\ (seed\ \string^\ multiplier)\ \&\ mask;}
\DoxyCodeLine{00800\ \ \ \ \ \}}
\DoxyCodeLine{00801\ }
\DoxyCodeLine{00802\ \textcolor{preprocessor}{\#ifndef\ \_\_BORLANDC\_\_}}
\DoxyCodeLine{00803\ }
\DoxyCodeLine{00804\ \ \ \ \ \textcolor{comment}{/*\ Random\ string\ value\ by\ given\ pattern\ (see\ pattern\ documentation).\ */}}
\DoxyCodeLine{00805\ \ \ \ \ std::string\ next(\textcolor{keyword}{const}\ std::string\ \&ptrn)\ \{}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classpattern}{pattern}}\ p(ptrn);}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ p.next(*\textcolor{keyword}{this});}
\DoxyCodeLine{00808\ \ \ \ \ \}}
\DoxyCodeLine{00809\ }
\DoxyCodeLine{00810\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00811\ \ \ \ \ \textcolor{comment}{/*\ Random\ string\ value\ by\ given\ pattern\ (see\ pattern\ documentation).\ */}}
\DoxyCodeLine{00812\ \ \ \ \ std::string\ next(std::string\ ptrn)}
\DoxyCodeLine{00813\ \ \ \ \ \{}
\DoxyCodeLine{00814\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classpattern}{pattern}}\ p(ptrn);}
\DoxyCodeLine{00815\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ p.next(*\textcolor{keyword}{this});}
\DoxyCodeLine{00816\ \ \ \ \ \}}
\DoxyCodeLine{00817\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00818\ }
\DoxyCodeLine{00819\ \ \ \ \ \textcolor{comment}{/*\ Random\ value\ in\ range\ [0,\ n-\/1].\ */}}
\DoxyCodeLine{00820\ \ \ \ \ \textcolor{keywordtype}{int}\ next(\textcolor{keywordtype}{int}\ n)\ \{}
\DoxyCodeLine{00821\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <=\ 0)}
\DoxyCodeLine{00822\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::next(int\ n):\ n\ must\ be\ positive"{}});}
\DoxyCodeLine{00823\ }
\DoxyCodeLine{00824\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((n\ \&\ -\/n)\ ==\ n)\ \ \textcolor{comment}{//\ n\ is\ a\ power\ of\ 2}}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{int})\ ((n\ *\ (\textcolor{keywordtype}{long}\ long)\ nextBits(31))\ >>\ 31);}
\DoxyCodeLine{00826\ }
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ limit\ =\ INT\_MAX\ /\ n\ *\ n;}
\DoxyCodeLine{00828\ }
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ bits;}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00831\ \ \ \ \ \ \ \ \ \ \ \ \ bits\ =\ nextBits(31);}
\DoxyCodeLine{00832\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (bits\ >=\ limit);}
\DoxyCodeLine{00833\ }
\DoxyCodeLine{00834\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ int(bits\ \%\ n);}
\DoxyCodeLine{00835\ \ \ \ \ \}}
\DoxyCodeLine{00836\ }
\DoxyCodeLine{00837\ \ \ \ \ \textcolor{comment}{/*\ Random\ value\ in\ range\ [0,\ n-\/1].\ */}}
\DoxyCodeLine{00838\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ next(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ n)\ \{}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ >=\ INT\_MAX)}
\DoxyCodeLine{00840\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::next(unsigned\ int\ n):\ n\ must\ be\ less\ INT\_MAX"{}});}
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})\ next(\textcolor{keywordtype}{int}(n));}
\DoxyCodeLine{00842\ \ \ \ \ \}}
\DoxyCodeLine{00843\ }
\DoxyCodeLine{00844\ \ \ \ \ \textcolor{comment}{/*\ Random\ value\ in\ range\ [0,\ n-\/1].\ */}}
\DoxyCodeLine{00845\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ next(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ n)\ \{}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <=\ 0)}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::next(long\ long\ n):\ n\ must\ be\ positive"{}});}
\DoxyCodeLine{00848\ }
\DoxyCodeLine{00849\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ limit\ =\ \_\_TESTLIB\_LONGLONG\_MAX\ /\ n\ *\ n;}
\DoxyCodeLine{00850\ }
\DoxyCodeLine{00851\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ bits;}
\DoxyCodeLine{00852\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00853\ \ \ \ \ \ \ \ \ \ \ \ \ bits\ =\ nextBits(63);}
\DoxyCodeLine{00854\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (bits\ >=\ limit);}
\DoxyCodeLine{00855\ }
\DoxyCodeLine{00856\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ bits\ \%\ n;}
\DoxyCodeLine{00857\ \ \ \ \ \}}
\DoxyCodeLine{00858\ }
\DoxyCodeLine{00859\ \ \ \ \ \textcolor{comment}{/*\ Random\ value\ in\ range\ [0,\ n-\/1].\ */}}
\DoxyCodeLine{00860\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ next(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ n)\ \{}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ >=\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ (\_\_TESTLIB\_LONGLONG\_MAX))}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::next(unsigned\ long\ long\ n):\ n\ must\ be\ less\ LONGLONG\_MAX"{}});}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ next((\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ (n));}
\DoxyCodeLine{00864\ \ \ \ \ \}}
\DoxyCodeLine{00865\ }
\DoxyCodeLine{00866\ \ \ \ \ \textcolor{comment}{/*\ Random\ value\ in\ range\ [0,\ n-\/1].\ */}}
\DoxyCodeLine{00867\ \ \ \ \ \textcolor{keywordtype}{long}\ next(\textcolor{keywordtype}{long}\ n)\ \{}
\DoxyCodeLine{00868\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{long})\ next((\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ (n));}
\DoxyCodeLine{00869\ \ \ \ \ \}}
\DoxyCodeLine{00870\ }
\DoxyCodeLine{00871\ \ \ \ \ \textcolor{comment}{/*\ Random\ value\ in\ range\ [0,\ n-\/1].\ */}}
\DoxyCodeLine{00872\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ next(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ n)\ \{}
\DoxyCodeLine{00873\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ >=\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})\ (LONG\_MAX))}
\DoxyCodeLine{00874\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::next(unsigned\ long\ n):\ n\ must\ be\ less\ LONG\_MAX"{}});}
\DoxyCodeLine{00875\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})\ next((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ (n));}
\DoxyCodeLine{00876\ \ \ \ \ \}}
\DoxyCodeLine{00877\ }
\DoxyCodeLine{00878\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ value\ in\ range\ [from,to].\ */}}
\DoxyCodeLine{00879\ \ \ \ \ \textcolor{keywordtype}{int}\ next(\textcolor{keywordtype}{int}\ from,\ \textcolor{keywordtype}{int}\ to)\ \{}
\DoxyCodeLine{00880\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ int(next((\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ to\ -\/\ from\ +\ 1)\ +\ from);}
\DoxyCodeLine{00881\ \ \ \ \ \}}
\DoxyCodeLine{00882\ }
\DoxyCodeLine{00883\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ value\ in\ range\ [from,to].\ */}}
\DoxyCodeLine{00884\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ next(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ from,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ to)\ \{}
\DoxyCodeLine{00885\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})\ (next((\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ to\ -\/\ from\ +\ 1)\ +\ from);}
\DoxyCodeLine{00886\ \ \ \ \ \}}
\DoxyCodeLine{00887\ }
\DoxyCodeLine{00888\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ value\ in\ range\ [from,to].\ */}}
\DoxyCodeLine{00889\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ next(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ from,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ to)\ \{}
\DoxyCodeLine{00890\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ next(to\ -\/\ from\ +\ 1)\ +\ from;}
\DoxyCodeLine{00891\ \ \ \ \ \}}
\DoxyCodeLine{00892\ }
\DoxyCodeLine{00893\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ value\ in\ range\ [from,to].\ */}}
\DoxyCodeLine{00894\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ next(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ from,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ to)\ \{}
\DoxyCodeLine{00895\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ to)}
\DoxyCodeLine{00896\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::next(unsigned\ long\ long\ from,\ unsigned\ long\ long\ to):\ from\ can't\ not\ exceed\ to"{}});}
\DoxyCodeLine{00897\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ next(to\ -\/\ from\ +\ 1)\ +\ from;}
\DoxyCodeLine{00898\ \ \ \ \ \}}
\DoxyCodeLine{00899\ }
\DoxyCodeLine{00900\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ value\ in\ range\ [from,to].\ */}}
\DoxyCodeLine{00901\ \ \ \ \ \textcolor{keywordtype}{long}\ next(\textcolor{keywordtype}{long}\ from,\ \textcolor{keywordtype}{long}\ to)\ \{}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ next(to\ -\/\ from\ +\ 1)\ +\ from;}
\DoxyCodeLine{00903\ \ \ \ \ \}}
\DoxyCodeLine{00904\ }
\DoxyCodeLine{00905\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ value\ in\ range\ [from,to].\ */}}
\DoxyCodeLine{00906\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ next(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ from,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ to)\ \{}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ to)}
\DoxyCodeLine{00908\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::next(unsigned\ long\ from,\ unsigned\ long\ to):\ from\ can't\ not\ exceed\ to"{}});}
\DoxyCodeLine{00909\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ next(to\ -\/\ from\ +\ 1)\ +\ from;}
\DoxyCodeLine{00910\ \ \ \ \ \}}
\DoxyCodeLine{00911\ }
\DoxyCodeLine{00912\ \ \ \ \ \textcolor{comment}{/*\ Random\ double\ value\ in\ range\ [0,\ 1).\ */}}
\DoxyCodeLine{00913\ \ \ \ \ \textcolor{keywordtype}{double}\ next()\ \{}
\DoxyCodeLine{00914\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ left\ =\ ((\textcolor{keywordtype}{long}\ long)\ (nextBits(26))\ <<\ 27);}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ right\ =\ nextBits(27);}
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_crop((\textcolor{keywordtype}{double})\ (left\ +\ right)\ /\ (\textcolor{keywordtype}{double})\ (1LL\ <<\ 53),\ 0.0,\ 1.0);}
\DoxyCodeLine{00917\ \ \ \ \ \}}
\DoxyCodeLine{00918\ }
\DoxyCodeLine{00919\ \ \ \ \ \textcolor{comment}{/*\ Random\ double\ value\ in\ range\ [0,\ n).\ */}}
\DoxyCodeLine{00920\ \ \ \ \ \textcolor{keywordtype}{double}\ next(\textcolor{keywordtype}{double}\ n)\ \{}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <=\ 0.0)}
\DoxyCodeLine{00922\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::next(double):\ n\ should\ be\ positive"{}});}
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_crop(n\ *\ next(),\ 0.0,\ n);}
\DoxyCodeLine{00924\ \ \ \ \ \}}
\DoxyCodeLine{00925\ }
\DoxyCodeLine{00926\ \ \ \ \ \textcolor{comment}{/*\ Random\ double\ value\ in\ range\ [from,\ to).\ */}}
\DoxyCodeLine{00927\ \ \ \ \ \textcolor{keywordtype}{double}\ next(\textcolor{keywordtype}{double}\ from,\ \textcolor{keywordtype}{double}\ to)\ \{}
\DoxyCodeLine{00928\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >=\ to)}
\DoxyCodeLine{00929\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::next(double\ from,\ double\ to):\ from\ should\ be\ strictly\ less\ than\ to"{}});}
\DoxyCodeLine{00930\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ next(to\ -\/\ from)\ +\ from;}
\DoxyCodeLine{00931\ \ \ \ \ \}}
\DoxyCodeLine{00932\ }
\DoxyCodeLine{00933\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ element\ from\ container.\ */}}
\DoxyCodeLine{00934\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Container>}
\DoxyCodeLine{00935\ \ \ \ \ \textcolor{keyword}{typename}\ Container::value\_type\ any(\textcolor{keyword}{const}\ Container\ \&c)\ \{}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ size\ =\ int(c.size());}
\DoxyCodeLine{00937\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <=\ 0)}
\DoxyCodeLine{00938\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::any(const\ Container\&\ c):\ c.size()\ must\ be\ positive"{}});}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Container::const\_iterator\ it\ =\ c.begin();}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \ \ std::advance(it,\ next(size));}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *it;}
\DoxyCodeLine{00942\ \ \ \ \ \}}
\DoxyCodeLine{00943\ }
\DoxyCodeLine{00944\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ element\ from\ iterator\ range.\ */}}
\DoxyCodeLine{00945\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Iter>}
\DoxyCodeLine{00946\ \ \ \ \ \textcolor{keyword}{typename}\ Iter::value\_type\ any(\textcolor{keyword}{const}\ Iter\ \&begin,\ \textcolor{keyword}{const}\ Iter\ \&end)\ \{}
\DoxyCodeLine{00947\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ size\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(std::distance(begin,\ end));}
\DoxyCodeLine{00948\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <=\ 0)}
\DoxyCodeLine{00949\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::any(const\ Iter\&\ begin,\ const\ Iter\&\ end):\ range\ must\ have\ positive\ length"{}});}
\DoxyCodeLine{00950\ \ \ \ \ \ \ \ \ Iter\ it\ =\ begin;}
\DoxyCodeLine{00951\ \ \ \ \ \ \ \ \ std::advance(it,\ next(size));}
\DoxyCodeLine{00952\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *it;}
\DoxyCodeLine{00953\ \ \ \ \ \}}
\DoxyCodeLine{00954\ }
\DoxyCodeLine{00955\ \ \ \ \ \textcolor{comment}{/*\ Random\ string\ value\ by\ given\ pattern\ (see\ pattern\ documentation).\ */}}
\DoxyCodeLine{00956\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00957\ \ \ \ \ \_\_attribute\_\_\ ((format\ (printf,\ 2,\ 3)))}
\DoxyCodeLine{00958\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00959\ \ \ \ \ std::string\ next(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,\ ...)\ \{}
\DoxyCodeLine{00960\ \ \ \ \ \ \ \ \ FMT\_TO\_RESULT(format,\ format,\ ptrn);}
\DoxyCodeLine{00961\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ next(ptrn);}
\DoxyCodeLine{00962\ \ \ \ \ \}}
\DoxyCodeLine{00963\ }
\DoxyCodeLine{00964\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00965\ \textcolor{comment}{\ \ \ \ \ *\ Weighted\ next.\ If\ type\ ==\ 0\ than\ it\ is\ usual\ "{}next()"{}.}}
\DoxyCodeLine{00966\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00967\ \textcolor{comment}{\ \ \ \ \ *\ If\ type\ =\ 1,\ than\ it\ returns\ "{}max(next(),\ next())"{}}}
\DoxyCodeLine{00968\ \textcolor{comment}{\ \ \ \ \ *\ (the\ number\ of\ "{}max"{}\ functions\ equals\ to\ "{}type"{}).}}
\DoxyCodeLine{00969\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00970\ \textcolor{comment}{\ \ \ \ \ *\ If\ type\ <\ 0,\ than\ "{}max"{}\ function\ replaces\ with\ "{}min"{}.}}
\DoxyCodeLine{00971\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00972\ \ \ \ \ \textcolor{keywordtype}{int}\ wnext(\textcolor{keywordtype}{int}\ n,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{00973\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <=\ 0)}
\DoxyCodeLine{00974\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(int\ n,\ int\ type):\ n\ must\ be\ positive"{}});}
\DoxyCodeLine{00975\ }
\DoxyCodeLine{00976\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (abs(type)\ <\ random\_t::lim)\ \{}
\DoxyCodeLine{00977\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ result\ =\ next(n);}
\DoxyCodeLine{00978\ }
\DoxyCodeLine{00979\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ +type;\ i++)}
\DoxyCodeLine{00980\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ \_\_testlib\_max(result,\ next(n));}
\DoxyCodeLine{00981\ }
\DoxyCodeLine{00982\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ -\/type;\ i++)}
\DoxyCodeLine{00983\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ \_\_testlib\_min(result,\ next(n));}
\DoxyCodeLine{00984\ }
\DoxyCodeLine{00985\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00986\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00987\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ p;}
\DoxyCodeLine{00988\ }
\DoxyCodeLine{00989\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ >\ 0)}
\DoxyCodeLine{00990\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p\ =\ std::pow(next()\ +\ 0.0,\ 1.0\ /\ (type\ +\ 1));}
\DoxyCodeLine{00991\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00992\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p\ =\ 1\ -\/\ std::pow(next()\ +\ 0.0,\ 1.0\ /\ (-\/type\ +\ 1));}
\DoxyCodeLine{00993\ }
\DoxyCodeLine{00994\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_crop((\textcolor{keywordtype}{int})\ (\textcolor{keywordtype}{double}(n)\ *\ p),\ 0,\ n);}
\DoxyCodeLine{00995\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00996\ \ \ \ \ \}}
\DoxyCodeLine{00997\ }
\DoxyCodeLine{00998\ \ \ \ \ \textcolor{comment}{/*\ See\ wnext(int,\ int).\ It\ uses\ the\ same\ algorithms.\ */}}
\DoxyCodeLine{00999\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ wnext(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ n,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01000\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <=\ 0)}
\DoxyCodeLine{01001\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(long\ long\ n,\ int\ type):\ n\ must\ be\ positive"{}});}
\DoxyCodeLine{01002\ }
\DoxyCodeLine{01003\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (abs(type)\ <\ random\_t::lim)\ \{}
\DoxyCodeLine{01004\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ result\ =\ next(n);}
\DoxyCodeLine{01005\ }
\DoxyCodeLine{01006\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ +type;\ i++)}
\DoxyCodeLine{01007\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ \_\_testlib\_max(result,\ next(n));}
\DoxyCodeLine{01008\ }
\DoxyCodeLine{01009\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ -\/type;\ i++)}
\DoxyCodeLine{01010\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ \_\_testlib\_min(result,\ next(n));}
\DoxyCodeLine{01011\ }
\DoxyCodeLine{01012\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{01013\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01014\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ p;}
\DoxyCodeLine{01015\ }
\DoxyCodeLine{01016\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ >\ 0)}
\DoxyCodeLine{01017\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p\ =\ std::pow(next()\ +\ 0.0,\ 1.0\ /\ (type\ +\ 1));}
\DoxyCodeLine{01018\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p\ =\ 1\ -\/\ std::pow(next()\ +\ 0.0,\ 1.0\ /\ (-\/type\ +\ 1));}
\DoxyCodeLine{01020\ }
\DoxyCodeLine{01021\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_crop((\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ (\textcolor{keywordtype}{double}(n)\ *\ p),\ 0LL,\ n);}
\DoxyCodeLine{01022\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01023\ \ \ \ \ \}}
\DoxyCodeLine{01024\ }
\DoxyCodeLine{01025\ \ \ \ \ \textcolor{comment}{/*\ Returns\ value\ in\ [0,\ n).\ See\ wnext(int,\ int).\ It\ uses\ the\ same\ algorithms.\ */}}
\DoxyCodeLine{01026\ \ \ \ \ \textcolor{keywordtype}{double}\ wnext(\textcolor{keywordtype}{double}\ n,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <=\ 0)}
\DoxyCodeLine{01028\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(double\ n,\ int\ type):\ n\ must\ be\ positive"{}});}
\DoxyCodeLine{01029\ }
\DoxyCodeLine{01030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (abs(type)\ <\ random\_t::lim)\ \{}
\DoxyCodeLine{01031\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ result\ =\ next();}
\DoxyCodeLine{01032\ }
\DoxyCodeLine{01033\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ +type;\ i++)}
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ \_\_testlib\_max(result,\ next());}
\DoxyCodeLine{01035\ }
\DoxyCodeLine{01036\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ -\/type;\ i++)}
\DoxyCodeLine{01037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ \_\_testlib\_min(result,\ next());}
\DoxyCodeLine{01038\ }
\DoxyCodeLine{01039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ n\ *\ result;}
\DoxyCodeLine{01040\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ p;}
\DoxyCodeLine{01042\ }
\DoxyCodeLine{01043\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ >\ 0)}
\DoxyCodeLine{01044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p\ =\ std::pow(next()\ +\ 0.0,\ 1.0\ /\ (type\ +\ 1));}
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p\ =\ 1\ -\/\ std::pow(next()\ +\ 0.0,\ 1.0\ /\ (-\/type\ +\ 1));}
\DoxyCodeLine{01047\ }
\DoxyCodeLine{01048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_crop(n\ *\ p,\ 0.0,\ n);}
\DoxyCodeLine{01049\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01050\ \ \ \ \ \}}
\DoxyCodeLine{01051\ }
\DoxyCodeLine{01052\ \ \ \ \ \textcolor{comment}{/*\ Returns\ value\ in\ [0,\ 1).\ See\ wnext(int,\ int).\ It\ uses\ the\ same\ algorithms.\ */}}
\DoxyCodeLine{01053\ \ \ \ \ \textcolor{keywordtype}{double}\ wnext(\textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ wnext(1.0,\ type);}
\DoxyCodeLine{01055\ \ \ \ \ \}}
\DoxyCodeLine{01056\ }
\DoxyCodeLine{01057\ \ \ \ \ \textcolor{comment}{/*\ See\ wnext(int,\ int).\ It\ uses\ the\ same\ algorithms.\ */}}
\DoxyCodeLine{01058\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ wnext(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ n,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ >=\ INT\_MAX)}
\DoxyCodeLine{01060\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(unsigned\ int\ n,\ int\ type):\ n\ must\ be\ less\ INT\_MAX"{}});}
\DoxyCodeLine{01061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})\ wnext(\textcolor{keywordtype}{int}(n),\ type);}
\DoxyCodeLine{01062\ \ \ \ \ \}}
\DoxyCodeLine{01063\ }
\DoxyCodeLine{01064\ \ \ \ \ \textcolor{comment}{/*\ See\ wnext(int,\ int).\ It\ uses\ the\ same\ algorithms.\ */}}
\DoxyCodeLine{01065\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ wnext(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ n,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01066\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ >=\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ (\_\_TESTLIB\_LONGLONG\_MAX))}
\DoxyCodeLine{01067\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(unsigned\ long\ long\ n,\ int\ type):\ n\ must\ be\ less\ LONGLONG\_MAX"{}});}
\DoxyCodeLine{01068\ }
\DoxyCodeLine{01069\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ wnext((\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ (n),\ type);}
\DoxyCodeLine{01070\ \ \ \ \ \}}
\DoxyCodeLine{01071\ }
\DoxyCodeLine{01072\ \ \ \ \ \textcolor{comment}{/*\ See\ wnext(int,\ int).\ It\ uses\ the\ same\ algorithms.\ */}}
\DoxyCodeLine{01073\ \ \ \ \ \textcolor{keywordtype}{long}\ wnext(\textcolor{keywordtype}{long}\ n,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01074\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{long})\ wnext((\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ (n),\ type);}
\DoxyCodeLine{01075\ \ \ \ \ \}}
\DoxyCodeLine{01076\ }
\DoxyCodeLine{01077\ \ \ \ \ \textcolor{comment}{/*\ See\ wnext(int,\ int).\ It\ uses\ the\ same\ algorithms.\ */}}
\DoxyCodeLine{01078\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ wnext(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ n,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01079\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ >=\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})\ (LONG\_MAX))}
\DoxyCodeLine{01080\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(unsigned\ long\ n,\ int\ type):\ n\ must\ be\ less\ LONG\_MAX"{}});}
\DoxyCodeLine{01081\ }
\DoxyCodeLine{01082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})\ wnext((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ (n),\ type);}
\DoxyCodeLine{01083\ \ \ \ \ \}}
\DoxyCodeLine{01084\ }
\DoxyCodeLine{01085\ \ \ \ \ \textcolor{comment}{/*\ Returns\ weighted\ random\ value\ in\ range\ [from,\ to].\ */}}
\DoxyCodeLine{01086\ \ \ \ \ \textcolor{keywordtype}{int}\ wnext(\textcolor{keywordtype}{int}\ from,\ \textcolor{keywordtype}{int}\ to,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ to)}
\DoxyCodeLine{01088\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(int\ from,\ int\ to,\ int\ type):\ from\ can't\ not\ exceed\ to"{}});}
\DoxyCodeLine{01089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ wnext(to\ -\/\ from\ +\ 1,\ type)\ +\ from;}
\DoxyCodeLine{01090\ \ \ \ \ \}}
\DoxyCodeLine{01091\ }
\DoxyCodeLine{01092\ \ \ \ \ \textcolor{comment}{/*\ Returns\ weighted\ random\ value\ in\ range\ [from,\ to].\ */}}
\DoxyCodeLine{01093\ \ \ \ \ \textcolor{keywordtype}{int}\ wnext(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ from,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ to,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01094\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ to)}
\DoxyCodeLine{01095\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(unsigned\ int\ from,\ unsigned\ int\ to,\ int\ type):\ from\ can't\ not\ exceed\ to"{}});}
\DoxyCodeLine{01096\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ int(wnext(to\ -\/\ from\ +\ 1,\ type)\ +\ from);}
\DoxyCodeLine{01097\ \ \ \ \ \}}
\DoxyCodeLine{01098\ }
\DoxyCodeLine{01099\ \ \ \ \ \textcolor{comment}{/*\ Returns\ weighted\ random\ value\ in\ range\ [from,\ to].\ */}}
\DoxyCodeLine{01100\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ wnext(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ from,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ to,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01101\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ to)}
\DoxyCodeLine{01102\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(long\ long\ from,\ long\ long\ to,\ int\ type):\ from\ can't\ not\ exceed\ to"{}});}
\DoxyCodeLine{01103\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ wnext(to\ -\/\ from\ +\ 1,\ type)\ +\ from;}
\DoxyCodeLine{01104\ \ \ \ \ \}}
\DoxyCodeLine{01105\ }
\DoxyCodeLine{01106\ \ \ \ \ \textcolor{comment}{/*\ Returns\ weighted\ random\ value\ in\ range\ [from,\ to].\ */}}
\DoxyCodeLine{01107\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ wnext(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ from,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ to,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ to)}
\DoxyCodeLine{01109\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(}
\DoxyCodeLine{01110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}random\_t::wnext(unsigned\ long\ long\ from,\ unsigned\ long\ long\ to,\ int\ type):\ from\ can't\ not\ exceed\ to"{}});}
\DoxyCodeLine{01111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ wnext(to\ -\/\ from\ +\ 1,\ type)\ +\ from;}
\DoxyCodeLine{01112\ \ \ \ \ \}}
\DoxyCodeLine{01113\ }
\DoxyCodeLine{01114\ \ \ \ \ \textcolor{comment}{/*\ Returns\ weighted\ random\ value\ in\ range\ [from,\ to].\ */}}
\DoxyCodeLine{01115\ \ \ \ \ \textcolor{keywordtype}{long}\ wnext(\textcolor{keywordtype}{long}\ from,\ \textcolor{keywordtype}{long}\ to,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ to)}
\DoxyCodeLine{01117\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(long\ from,\ long\ to,\ int\ type):\ from\ can't\ not\ exceed\ to"{}});}
\DoxyCodeLine{01118\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ wnext(to\ -\/\ from\ +\ 1,\ type)\ +\ from;}
\DoxyCodeLine{01119\ \ \ \ \ \}}
\DoxyCodeLine{01120\ }
\DoxyCodeLine{01121\ \ \ \ \ \textcolor{comment}{/*\ Returns\ weighted\ random\ value\ in\ range\ [from,\ to].\ */}}
\DoxyCodeLine{01122\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ wnext(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ from,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ to,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ to)}
\DoxyCodeLine{01124\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(unsigned\ long\ from,\ unsigned\ long\ to,\ int\ type):\ from\ can't\ not\ exceed\ to"{}});}
\DoxyCodeLine{01125\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ wnext(to\ -\/\ from\ +\ 1,\ type)\ +\ from;}
\DoxyCodeLine{01126\ \ \ \ \ \}}
\DoxyCodeLine{01127\ }
\DoxyCodeLine{01128\ \ \ \ \ \textcolor{comment}{/*\ Returns\ weighted\ random\ double\ value\ in\ range\ [from,\ to).\ */}}
\DoxyCodeLine{01129\ \ \ \ \ \textcolor{keywordtype}{double}\ wnext(\textcolor{keywordtype}{double}\ from,\ \textcolor{keywordtype}{double}\ to,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >=\ to)}
\DoxyCodeLine{01131\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wnext(double\ from,\ double\ to,\ int\ type):\ from\ should\ be\ strictly\ less\ than\ to"{}});}
\DoxyCodeLine{01132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ wnext(to\ -\/\ from,\ type)\ +\ from;}
\DoxyCodeLine{01133\ \ \ \ \ \}}
\DoxyCodeLine{01134\ }
\DoxyCodeLine{01135\ \ \ \ \ \textcolor{comment}{/*\ Returns\ weighted\ random\ element\ from\ container.\ */}}
\DoxyCodeLine{01136\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Container>}
\DoxyCodeLine{01137\ \ \ \ \ \textcolor{keyword}{typename}\ Container::value\_type\ wany(\textcolor{keyword}{const}\ Container\ \&c,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01138\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ size\ =\ int(c.size());}
\DoxyCodeLine{01139\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <=\ 0)}
\DoxyCodeLine{01140\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::wany(const\ Container\&\ c,\ int\ type):\ c.size()\ must\ be\ positive"{}});}
\DoxyCodeLine{01141\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Container::const\_iterator\ it\ =\ c.begin();}
\DoxyCodeLine{01142\ \ \ \ \ \ \ \ \ std::advance(it,\ wnext(size,\ type));}
\DoxyCodeLine{01143\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *it;}
\DoxyCodeLine{01144\ \ \ \ \ \}}
\DoxyCodeLine{01145\ }
\DoxyCodeLine{01146\ \ \ \ \ \textcolor{comment}{/*\ Returns\ weighted\ random\ element\ from\ iterator\ range.\ */}}
\DoxyCodeLine{01147\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Iter>}
\DoxyCodeLine{01148\ \ \ \ \ \textcolor{keyword}{typename}\ Iter::value\_type\ wany(\textcolor{keyword}{const}\ Iter\ \&begin,\ \textcolor{keyword}{const}\ Iter\ \&end,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{01149\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ size\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(std::distance(begin,\ end));}
\DoxyCodeLine{01150\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <=\ 0)}
\DoxyCodeLine{01151\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(}
\DoxyCodeLine{01152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}random\_t::any(const\ Iter\&\ begin,\ const\ Iter\&\ end,\ int\ type):\ range\ must\ have\ positive\ length"{}});}
\DoxyCodeLine{01153\ \ \ \ \ \ \ \ \ Iter\ it\ =\ begin;}
\DoxyCodeLine{01154\ \ \ \ \ \ \ \ \ std::advance(it,\ wnext(size,\ type));}
\DoxyCodeLine{01155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *it;}
\DoxyCodeLine{01156\ \ \ \ \ \}}
\DoxyCodeLine{01157\ }
\DoxyCodeLine{01158\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ permutation\ of\ the\ given\ size\ (values\ are\ between\ \`{}first`\ and\ \`{}first`+size-\/1)*/}}
\DoxyCodeLine{01159\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp,\ \textcolor{keyword}{typename}\ E>}
\DoxyCodeLine{01160\ \ \ \ \ std::vector<E>\ perm(\_Tp\ size,\ E\ first)\ \{}
\DoxyCodeLine{01161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <\ 0)}
\DoxyCodeLine{01162\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::perm(T\ size,\ E\ first\ =\ 0):\ size\ must\ non-\/negative"{}});}
\DoxyCodeLine{01163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ ==\ 0)}
\DoxyCodeLine{01164\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::vector<E>();}
\DoxyCodeLine{01165\ \ \ \ \ \ \ \ \ std::vector<E>\ p(size);}
\DoxyCodeLine{01166\ \ \ \ \ \ \ \ \ E\ current\ =\ first;}
\DoxyCodeLine{01167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\_Tp\ i\ =\ 0;\ i\ <\ size;\ i++)}
\DoxyCodeLine{01168\ \ \ \ \ \ \ \ \ \ \ \ \ p[i]\ =\ current++;}
\DoxyCodeLine{01169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ >\ 1)}
\DoxyCodeLine{01170\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\_Tp\ i\ =\ 1;\ i\ <\ size;\ i++)}
\DoxyCodeLine{01171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::swap(p[i],\ p[next(i\ +\ 1)]);}
\DoxyCodeLine{01172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ p;}
\DoxyCodeLine{01173\ \ \ \ \ \}}
\DoxyCodeLine{01174\ }
\DoxyCodeLine{01175\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ permutation\ of\ the\ given\ size\ (values\ are\ between\ 0\ and\ size-\/1)*/}}
\DoxyCodeLine{01176\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{01177\ \ \ \ \ std::vector<\_Tp>\ perm(\_Tp\ size)\ \{}
\DoxyCodeLine{01178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ perm(size,\ \_Tp(0));}
\DoxyCodeLine{01179\ \ \ \ \ \}}
\DoxyCodeLine{01180\ }
\DoxyCodeLine{01181\ \ \ \ \ \textcolor{comment}{/*\ Returns\ \`{}size`\ unordered\ (unsorted)\ distinct\ numbers\ between\ \`{}from`\ and\ \`{}to`.\ */}}
\DoxyCodeLine{01182\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{01183\ \ \ \ \ std::vector<\_Tp>\ distinct(\textcolor{keywordtype}{int}\ size,\ \_Tp\ from,\ \_Tp\ to)\ \{}
\DoxyCodeLine{01184\ \ \ \ \ \ \ \ \ std::vector<\_Tp>\ result;}
\DoxyCodeLine{01185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ ==\ 0)}
\DoxyCodeLine{01186\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{01187\ }
\DoxyCodeLine{01188\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ to)}
\DoxyCodeLine{01189\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::distinct\ expected\ from\ <=\ to"{}});}
\DoxyCodeLine{01190\ }
\DoxyCodeLine{01191\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <\ 0)}
\DoxyCodeLine{01192\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::distinct\ expected\ size\ >=\ 0"{}});}
\DoxyCodeLine{01193\ }
\DoxyCodeLine{01194\ \ \ \ \ \ \ \ \ uint64\_t\ n\ =\ to\ -\/\ from\ +\ 1;}
\DoxyCodeLine{01195\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (uint64\_t(size)\ >\ n)}
\DoxyCodeLine{01196\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::distinct\ expected\ size\ <=\ to\ -\/\ from\ +\ 1"{}});}
\DoxyCodeLine{01197\ }
\DoxyCodeLine{01198\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ expected\ =\ 0.0;}
\DoxyCodeLine{01199\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 1;\ i\ <=\ size;\ i++)}
\DoxyCodeLine{01200\ \ \ \ \ \ \ \ \ \ \ \ \ expected\ +=\ \textcolor{keywordtype}{double}(n)\ /\ double(n\ -\/\ i\ +\ 1);}
\DoxyCodeLine{01201\ }
\DoxyCodeLine{01202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (expected\ <\ \textcolor{keywordtype}{double}(n))\ \{}
\DoxyCodeLine{01203\ \ \ \ \ \ \ \ \ \ \ \ \ std::set<\_Tp>\ vals;}
\DoxyCodeLine{01204\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\textcolor{keywordtype}{int}(vals.size())\ <\ size)\ \{}
\DoxyCodeLine{01205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_Tp\ x\ =\ \_Tp(next(from,\ to));}
\DoxyCodeLine{01206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (vals.insert(x).second)}
\DoxyCodeLine{01207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(x);}
\DoxyCodeLine{01208\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01209\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01210\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ >\ 1000000000)}
\DoxyCodeLine{01211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::distinct\ here\ expected\ to\ -\/\ from\ +\ 1\ <=\ 1000000000"{}});}
\DoxyCodeLine{01212\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<\_Tp>\ p(perm(\textcolor{keywordtype}{int}(n),\ from));}
\DoxyCodeLine{01213\ \ \ \ \ \ \ \ \ \ \ \ \ result.insert(result.end(),\ p.begin(),\ p.begin()\ +\ size);}
\DoxyCodeLine{01214\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01215\ }
\DoxyCodeLine{01216\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{01217\ \ \ \ \ \}}
\DoxyCodeLine{01218\ }
\DoxyCodeLine{01219\ \ \ \ \ \textcolor{comment}{/*\ Returns\ \`{}size`\ unordered\ (unsorted)\ distinct\ numbers\ between\ \`{}0`\ and\ \`{}upper`-\/1.\ */}}
\DoxyCodeLine{01220\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{01221\ \ \ \ \ std::vector<\_Tp>\ distinct(\textcolor{keywordtype}{int}\ size,\ \_Tp\ upper)\ \{}
\DoxyCodeLine{01222\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <\ 0)}
\DoxyCodeLine{01223\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::distinct\ expected\ size\ >=\ 0"{}});}
\DoxyCodeLine{01224\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ ==\ 0)}
\DoxyCodeLine{01225\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::vector<\_Tp>();}
\DoxyCodeLine{01226\ }
\DoxyCodeLine{01227\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (upper\ <=\ 0)}
\DoxyCodeLine{01228\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::distinct\ expected\ upper\ >\ 0"{}});}
\DoxyCodeLine{01229\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ >\ upper)}
\DoxyCodeLine{01230\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::distinct\ expected\ size\ <=\ upper"{}});}
\DoxyCodeLine{01231\ }
\DoxyCodeLine{01232\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ distinct(size,\ \_Tp(0),\ upper\ -\/\ 1);}
\DoxyCodeLine{01233\ \ \ \ \ \}}
\DoxyCodeLine{01234\ }
\DoxyCodeLine{01235\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ (unsorted)\ partition\ which\ is\ a\ representation\ of\ sum\ as\ a\ sum\ of\ integers\ not\ less\ than\ min\_part.\ */}}
\DoxyCodeLine{01236\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{01237\ \ \ \ \ std::vector<\_Tp>\ partition(\textcolor{keywordtype}{int}\ size,\ \_Tp\ sum,\ \_Tp\ min\_part)\ \{}
\DoxyCodeLine{01238\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <\ 0)}
\DoxyCodeLine{01239\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::partition:\ size\ <\ 0"{}});}
\DoxyCodeLine{01240\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ ==\ 0\ \&\&\ sum\ !=\ 0)}
\DoxyCodeLine{01241\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::partition:\ size\ ==\ 0\ \&\&\ sum\ !=\ 0"{}});}
\DoxyCodeLine{01242\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (min\_part\ *\ size\ >\ sum)}
\DoxyCodeLine{01243\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::partition:\ min\_part\ *\ size\ >\ sum"{}});}
\DoxyCodeLine{01244\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ ==\ 0\ \&\&\ sum\ ==\ 0)}
\DoxyCodeLine{01245\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::vector<\_Tp>();}
\DoxyCodeLine{01246\ }
\DoxyCodeLine{01247\ \ \ \ \ \ \ \ \ \_Tp\ sum\_\ =\ sum;}
\DoxyCodeLine{01248\ \ \ \ \ \ \ \ \ sum\ -\/=\ min\_part\ *\ size;}
\DoxyCodeLine{01249\ }
\DoxyCodeLine{01250\ \ \ \ \ \ \ \ \ std::vector<\_Tp>\ septums(size);}
\DoxyCodeLine{01251\ \ \ \ \ \ \ \ \ std::vector<\_Tp>\ d\ =\ distinct(size\ -\/\ 1,\ \_Tp(1),\ \_Tp(sum\ +\ size\ -\/\ 1));}
\DoxyCodeLine{01252\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ +\ 1\ <\ size;\ i++)}
\DoxyCodeLine{01253\ \ \ \ \ \ \ \ \ \ \ \ \ septums[i\ +\ 1]\ =\ d[i];}
\DoxyCodeLine{01254\ \ \ \ \ \ \ \ \ sort(septums.begin(),\ septums.end());}
\DoxyCodeLine{01255\ }
\DoxyCodeLine{01256\ \ \ \ \ \ \ \ \ std::vector<\_Tp>\ result(size);}
\DoxyCodeLine{01257\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ +\ 1\ <\ size;\ i++)}
\DoxyCodeLine{01258\ \ \ \ \ \ \ \ \ \ \ \ \ result[i]\ =\ septums[i\ +\ 1]\ -\/\ septums[i]\ -\/\ 1;}
\DoxyCodeLine{01259\ \ \ \ \ \ \ \ \ result[size\ -\/\ 1]\ =\ sum\ +\ size\ -\/\ 1\ -\/\ septums.back();}
\DoxyCodeLine{01260\ }
\DoxyCodeLine{01261\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (std::size\_t\ i\ =\ 0;\ i\ <\ result.size();\ i++)}
\DoxyCodeLine{01262\ \ \ \ \ \ \ \ \ \ \ \ \ result[i]\ +=\ min\_part;}
\DoxyCodeLine{01263\ }
\DoxyCodeLine{01264\ \ \ \ \ \ \ \ \ \_Tp\ result\_sum\ =\ 0;}
\DoxyCodeLine{01265\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (std::size\_t\ i\ =\ 0;\ i\ <\ result.size();\ i++)}
\DoxyCodeLine{01266\ \ \ \ \ \ \ \ \ \ \ \ \ result\_sum\ +=\ result[i];}
\DoxyCodeLine{01267\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (result\_sum\ !=\ sum\_)}
\DoxyCodeLine{01268\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::partition:\ partition\ sum\ is\ expected\ to\ be\ the\ given\ sum"{}});}
\DoxyCodeLine{01269\ }
\DoxyCodeLine{01270\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*std::min\_element(result.begin(),\ result.end())\ <\ min\_part)}
\DoxyCodeLine{01271\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::partition:\ partition\ min\ is\ expected\ to\ be\ no\ less\ than\ the\ given\ min\_part"{}});}
\DoxyCodeLine{01272\ }
\DoxyCodeLine{01273\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{int}(result.size())\ !=\ size\ ||\ result.size()\ !=\ (\textcolor{keywordtype}{size\_t})\ size)}
\DoxyCodeLine{01274\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}random\_t::partition:\ partition\ size\ is\ expected\ to\ be\ equal\ to\ the\ given\ size"{}});}
\DoxyCodeLine{01275\ }
\DoxyCodeLine{01276\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{01277\ \ \ \ \ \}}
\DoxyCodeLine{01278\ }
\DoxyCodeLine{01279\ \ \ \ \ \textcolor{comment}{/*\ Returns\ random\ (unsorted)\ partition\ which\ is\ a\ representation\ of\ sum\ as\ a\ sum\ of\ positive\ integers.\ */}}
\DoxyCodeLine{01280\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{01281\ \ \ \ \ std::vector<\_Tp>\ partition(\textcolor{keywordtype}{int}\ size,\ \_Tp\ sum)\ \{}
\DoxyCodeLine{01282\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ partition(size,\ sum,\ \_Tp(1));}
\DoxyCodeLine{01283\ \ \ \ \ \}}
\DoxyCodeLine{01284\ \};}
\DoxyCodeLine{01285\ }
\DoxyCodeLine{01286\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ random\_t::lim\ =\ 25;}
\DoxyCodeLine{01287\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ random\_t::multiplier\ =\ 0x5DEECE66DLL;}
\DoxyCodeLine{01288\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ random\_t::addend\ =\ 0xBLL;}
\DoxyCodeLine{01289\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ random\_t::mask\ =\ (1LL\ <<\ 48)\ -\/\ 1;}
\DoxyCodeLine{01290\ \textcolor{keywordtype}{int}\ random\_t::version\ =\ -\/1;}
\DoxyCodeLine{01291\ }
\DoxyCodeLine{01292\ \textcolor{comment}{/*\ Pattern\ implementation\ */}}
\DoxyCodeLine{01293\ \textcolor{keywordtype}{bool}\ pattern::matches(\textcolor{keyword}{const}\ std::string\ \&s)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01294\ \ \ \ \ \textcolor{keywordflow}{return}\ matches(s,\ 0);}
\DoxyCodeLine{01295\ \}}
\DoxyCodeLine{01296\ }
\DoxyCodeLine{01297\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \_\_pattern\_isSlash(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{size\_t}\ pos)\ \{}
\DoxyCodeLine{01298\ \ \ \ \ \textcolor{keywordflow}{return}\ s[pos]\ ==\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'};}
\DoxyCodeLine{01299\ \}}
\DoxyCodeLine{01300\ }
\DoxyCodeLine{01301\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{01302\ \_\_attribute\_\_((pure))}
\DoxyCodeLine{01303\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01304\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \_\_pattern\_isCommandChar(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{size\_t}\ pos,\ \textcolor{keywordtype}{char}\ value)\ \{}
\DoxyCodeLine{01305\ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ >=\ s.length())}
\DoxyCodeLine{01306\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01307\ }
\DoxyCodeLine{01308\ \ \ \ \ \textcolor{keywordtype}{int}\ slashes\ =\ 0;}
\DoxyCodeLine{01309\ }
\DoxyCodeLine{01310\ \ \ \ \ \textcolor{keywordtype}{int}\ before\ =\ int(pos)\ -\/\ 1;}
\DoxyCodeLine{01311\ \ \ \ \ \textcolor{keywordflow}{while}\ (before\ >=\ 0\ \&\&\ s[before]\ ==\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})}
\DoxyCodeLine{01312\ \ \ \ \ \ \ \ \ before-\/-\/,\ slashes++;}
\DoxyCodeLine{01313\ }
\DoxyCodeLine{01314\ \ \ \ \ \textcolor{keywordflow}{return}\ slashes\ \%\ 2\ ==\ 0\ \&\&\ s[pos]\ ==\ value;}
\DoxyCodeLine{01315\ \}}
\DoxyCodeLine{01316\ }
\DoxyCodeLine{01317\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ \_\_pattern\_getChar(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{size\_t}\ \&pos)\ \{}
\DoxyCodeLine{01318\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isSlash(s,\ pos))}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ pos\ +=\ 2;}
\DoxyCodeLine{01320\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01321\ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{01322\ }
\DoxyCodeLine{01323\ \ \ \ \ \textcolor{keywordflow}{return}\ s[pos\ -\/\ 1];}
\DoxyCodeLine{01324\ \}}
\DoxyCodeLine{01325\ }
\DoxyCodeLine{01326\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{01327\ \_\_attribute\_\_((pure))}
\DoxyCodeLine{01328\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01329\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ \_\_pattern\_greedyMatch(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{size\_t}\ pos,\ \textcolor{keyword}{const}\ std::vector<char>\ chars)\ \{}
\DoxyCodeLine{01330\ \ \ \ \ \textcolor{keywordtype}{int}\ result\ =\ 0;}
\DoxyCodeLine{01331\ }
\DoxyCodeLine{01332\ \ \ \ \ \textcolor{keywordflow}{while}\ (pos\ <\ s.length())\ \{}
\DoxyCodeLine{01333\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ c\ =\ s[pos++];}
\DoxyCodeLine{01334\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!std::binary\_search(chars.begin(),\ chars.end(),\ c))}
\DoxyCodeLine{01335\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01336\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01337\ \ \ \ \ \ \ \ \ \ \ \ \ result++;}
\DoxyCodeLine{01338\ \ \ \ \ \}}
\DoxyCodeLine{01339\ }
\DoxyCodeLine{01340\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{01341\ \}}
\DoxyCodeLine{01342\ }
\DoxyCodeLine{01343\ std::string\ pattern::src()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01344\ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{01345\ \}}
\DoxyCodeLine{01346\ }
\DoxyCodeLine{01347\ \textcolor{keywordtype}{bool}\ pattern::matches(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{size\_t}\ pos)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01348\ \ \ \ \ std::string\ result;}
\DoxyCodeLine{01349\ }
\DoxyCodeLine{01350\ \ \ \ \ \textcolor{keywordflow}{if}\ (to\ >\ 0)\ \{}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ size\ =\ \_\_pattern\_greedyMatch(s,\ pos,\ chars);}
\DoxyCodeLine{01352\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <\ from)}
\DoxyCodeLine{01353\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01354\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ >\ to)}
\DoxyCodeLine{01355\ \ \ \ \ \ \ \ \ \ \ \ \ size\ =\ to;}
\DoxyCodeLine{01356\ \ \ \ \ \ \ \ \ pos\ +=\ size;}
\DoxyCodeLine{01357\ \ \ \ \ \}}
\DoxyCodeLine{01358\ }
\DoxyCodeLine{01359\ \ \ \ \ \textcolor{keywordflow}{if}\ (children.size()\ >\ 0)\ \{}
\DoxyCodeLine{01360\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ child\ =\ 0;\ child\ <\ children.size();\ child++)}
\DoxyCodeLine{01361\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (children[child].matches(s,\ pos))}
\DoxyCodeLine{01362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01363\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01364\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01365\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pos\ ==\ s.length();}
\DoxyCodeLine{01366\ \}}
\DoxyCodeLine{01367\ }
\DoxyCodeLine{01368\ std::string\ pattern::next(\mbox{\hyperlink{classrandom__t}{random\_t}}\ \&rnd)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01369\ \ \ \ \ std::string\ result;}
\DoxyCodeLine{01370\ \ \ \ \ result.reserve(20);}
\DoxyCodeLine{01371\ }
\DoxyCodeLine{01372\ \ \ \ \ \textcolor{keywordflow}{if}\ (to\ ==\ INT\_MAX)}
\DoxyCodeLine{01373\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern::next(random\_t\&\ rnd):\ can't\ process\ character\ '*'\ for\ generation"{}});}
\DoxyCodeLine{01374\ }
\DoxyCodeLine{01375\ \ \ \ \ \textcolor{keywordflow}{if}\ (to\ >\ 0)\ \{}
\DoxyCodeLine{01376\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ count\ =\ rnd.next(to\ -\/\ from\ +\ 1)\ +\ from;}
\DoxyCodeLine{01377\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ count;\ i++)}
\DoxyCodeLine{01378\ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ chars[rnd.next(\textcolor{keywordtype}{int}(chars.size()))];}
\DoxyCodeLine{01379\ \ \ \ \ \}}
\DoxyCodeLine{01380\ }
\DoxyCodeLine{01381\ \ \ \ \ \textcolor{keywordflow}{if}\ (children.size()\ >\ 0)\ \{}
\DoxyCodeLine{01382\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ child\ =\ rnd.next(\textcolor{keywordtype}{int}(children.size()));}
\DoxyCodeLine{01383\ \ \ \ \ \ \ \ \ result\ +=\ children[child].next(rnd);}
\DoxyCodeLine{01384\ \ \ \ \ \}}
\DoxyCodeLine{01385\ }
\DoxyCodeLine{01386\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{01387\ \}}
\DoxyCodeLine{01388\ }
\DoxyCodeLine{01389\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \_\_pattern\_scanCounts(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{size\_t}\ \&pos,\ \textcolor{keywordtype}{int}\ \&from,\ \textcolor{keywordtype}{int}\ \&to)\ \{}
\DoxyCodeLine{01390\ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ >=\ s.length())\ \{}
\DoxyCodeLine{01391\ \ \ \ \ \ \ \ \ from\ =\ to\ =\ 1;}
\DoxyCodeLine{01392\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01393\ \ \ \ \ \}}
\DoxyCodeLine{01394\ }
\DoxyCodeLine{01395\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{'\{'}))\ \{}
\DoxyCodeLine{01396\ \ \ \ \ \ \ \ \ std::vector<std::string>\ parts;}
\DoxyCodeLine{01397\ \ \ \ \ \ \ \ \ std::string\ part;}
\DoxyCodeLine{01398\ }
\DoxyCodeLine{01399\ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{01400\ }
\DoxyCodeLine{01401\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (pos\ <\ s.length()\ \&\&\ !\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{'\}'}))\ \{}
\DoxyCodeLine{01402\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{','}))}
\DoxyCodeLine{01403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parts.push\_back(part),\ part\ =\ \textcolor{stringliteral}{"{}"{}},\ pos++;}
\DoxyCodeLine{01404\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01405\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ part\ +=\ \_\_pattern\_getChar(s,\ pos);}
\DoxyCodeLine{01406\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01407\ }
\DoxyCodeLine{01408\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (part\ !=\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01409\ \ \ \ \ \ \ \ \ \ \ \ \ parts.push\_back(part);}
\DoxyCodeLine{01410\ }
\DoxyCodeLine{01411\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{'\}'}))}
\DoxyCodeLine{01412\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern:\ Illegal\ pattern\ (or\ part)\ \(\backslash\)"{}"{}}\ +\ s\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{01413\ }
\DoxyCodeLine{01414\ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{01415\ }
\DoxyCodeLine{01416\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (parts.size()\ <\ 1\ ||\ parts.size()\ >\ 2)}
\DoxyCodeLine{01417\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern:\ Illegal\ pattern\ (or\ part)\ \(\backslash\)"{}"{}}\ +\ s\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{01418\ }
\DoxyCodeLine{01419\ \ \ \ \ \ \ \ \ std::vector<int>\ numbers;}
\DoxyCodeLine{01420\ }
\DoxyCodeLine{01421\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ parts.size();\ i++)\ \{}
\DoxyCodeLine{01422\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (parts[i].length()\ ==\ 0)}
\DoxyCodeLine{01423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern:\ Illegal\ pattern\ (or\ part)\ \(\backslash\)"{}"{}}\ +\ s\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{01424\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ number;}
\DoxyCodeLine{01425\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::sscanf(parts[i].c\_str(),\ \textcolor{stringliteral}{"{}\%d"{}},\ \&number)\ !=\ 1)}
\DoxyCodeLine{01426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern:\ Illegal\ pattern\ (or\ part)\ \(\backslash\)"{}"{}}\ +\ s\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{01427\ \ \ \ \ \ \ \ \ \ \ \ \ numbers.push\_back(number);}
\DoxyCodeLine{01428\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01429\ }
\DoxyCodeLine{01430\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (numbers.size()\ ==\ 1)}
\DoxyCodeLine{01431\ \ \ \ \ \ \ \ \ \ \ \ \ from\ =\ to\ =\ numbers[0];}
\DoxyCodeLine{01432\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01433\ \ \ \ \ \ \ \ \ \ \ \ \ from\ =\ numbers[0],\ to\ =\ numbers[1];}
\DoxyCodeLine{01434\ }
\DoxyCodeLine{01435\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (from\ >\ to)}
\DoxyCodeLine{01436\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern:\ Illegal\ pattern\ (or\ part)\ \(\backslash\)"{}"{}}\ +\ s\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{01437\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{'?'}))\ \{}
\DoxyCodeLine{01439\ \ \ \ \ \ \ \ \ \ \ \ \ from\ =\ 0,\ to\ =\ 1,\ pos++;}
\DoxyCodeLine{01440\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01441\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01442\ }
\DoxyCodeLine{01443\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{'*'}))\ \{}
\DoxyCodeLine{01444\ \ \ \ \ \ \ \ \ \ \ \ \ from\ =\ 0,\ to\ =\ INT\_MAX,\ pos++;}
\DoxyCodeLine{01445\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01446\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01447\ }
\DoxyCodeLine{01448\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{'+'}))\ \{}
\DoxyCodeLine{01449\ \ \ \ \ \ \ \ \ \ \ \ \ from\ =\ 1,\ to\ =\ INT\_MAX,\ pos++;}
\DoxyCodeLine{01450\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01451\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01452\ }
\DoxyCodeLine{01453\ \ \ \ \ \ \ \ \ from\ =\ to\ =\ 1;}
\DoxyCodeLine{01454\ \ \ \ \ \}}
\DoxyCodeLine{01455\ \}}
\DoxyCodeLine{01456\ }
\DoxyCodeLine{01457\ \textcolor{keyword}{static}\ std::vector<char>\ \_\_pattern\_scanCharSet(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{size\_t}\ \&pos)\ \{}
\DoxyCodeLine{01458\ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ >=\ s.length())}
\DoxyCodeLine{01459\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern:\ Illegal\ pattern\ (or\ part)\ \(\backslash\)"{}"{}}\ +\ s\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{01460\ }
\DoxyCodeLine{01461\ \ \ \ \ std::vector<char>\ result;}
\DoxyCodeLine{01462\ }
\DoxyCodeLine{01463\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{'['}))\ \{}
\DoxyCodeLine{01464\ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{01465\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ negative\ =\ \_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{'\string^'});}
\DoxyCodeLine{01466\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)}
\DoxyCodeLine{01467\ \ \ \ \ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{01468\ }
\DoxyCodeLine{01469\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ prev\ =\ 0;}
\DoxyCodeLine{01470\ }
\DoxyCodeLine{01471\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (pos\ <\ s.length()\ \&\&\ !\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{']'}))\ \{}
\DoxyCodeLine{01472\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{'-\/'})\ \&\&\ prev\ !=\ 0)\ \{}
\DoxyCodeLine{01473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{01474\ }
\DoxyCodeLine{01475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ +\ 1\ ==\ s.length()\ ||\ \_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{']'}))\ \{}
\DoxyCodeLine{01476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(prev);}
\DoxyCodeLine{01477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\ =\ \textcolor{charliteral}{'-\/'};}
\DoxyCodeLine{01478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01480\ }
\DoxyCodeLine{01481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ next\ =\ \_\_pattern\_getChar(s,\ pos);}
\DoxyCodeLine{01482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (prev\ >\ next)}
\DoxyCodeLine{01483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern:\ Illegal\ pattern\ (or\ part)\ \(\backslash\)"{}"{}}\ +\ s\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{01484\ }
\DoxyCodeLine{01485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{char}\ c\ =\ prev;\ c\ !=\ next;\ c++)}
\DoxyCodeLine{01486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(c);}
\DoxyCodeLine{01487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(next);}
\DoxyCodeLine{01488\ }
\DoxyCodeLine{01489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\ =\ 0;}
\DoxyCodeLine{01490\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (prev\ !=\ 0)}
\DoxyCodeLine{01492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(prev);}
\DoxyCodeLine{01493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\ =\ \_\_pattern\_getChar(s,\ pos);}
\DoxyCodeLine{01494\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01495\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01496\ }
\DoxyCodeLine{01497\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (prev\ !=\ 0)}
\DoxyCodeLine{01498\ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(prev);}
\DoxyCodeLine{01499\ }
\DoxyCodeLine{01500\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_\_pattern\_isCommandChar(s,\ pos,\ \textcolor{charliteral}{']'}))}
\DoxyCodeLine{01501\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern:\ Illegal\ pattern\ (or\ part)\ \(\backslash\)"{}"{}}\ +\ s\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{01502\ }
\DoxyCodeLine{01503\ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{01504\ }
\DoxyCodeLine{01505\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)\ \{}
\DoxyCodeLine{01506\ \ \ \ \ \ \ \ \ \ \ \ \ std::sort(result.begin(),\ result.end());}
\DoxyCodeLine{01507\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<char>\ actuals;}
\DoxyCodeLine{01508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ code\ =\ 0;\ code\ <\ 255;\ code++)\ \{}
\DoxyCodeLine{01509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ c\ =\ char(code);}
\DoxyCodeLine{01510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!std::binary\_search(result.begin(),\ result.end(),\ c))}
\DoxyCodeLine{01511\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ actuals.push\_back(c);}
\DoxyCodeLine{01512\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01513\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ actuals;}
\DoxyCodeLine{01514\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01515\ }
\DoxyCodeLine{01516\ \ \ \ \ \ \ \ \ std::sort(result.begin(),\ result.end());}
\DoxyCodeLine{01517\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01518\ \ \ \ \ \ \ \ \ result.push\_back(\_\_pattern\_getChar(s,\ pos));}
\DoxyCodeLine{01519\ }
\DoxyCodeLine{01520\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{01521\ \}}
\DoxyCodeLine{01522\ }
\DoxyCodeLine{01523\ pattern::pattern(std::string\ s)\ :\ s(s),\ from(0),\ to(0)\ \{}
\DoxyCodeLine{01524\ \ \ \ \ std::string\ t;}
\DoxyCodeLine{01525\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)}
\DoxyCodeLine{01526\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_\_pattern\_isCommandChar(s,\ i,\ \textcolor{charliteral}{'\ '}))}
\DoxyCodeLine{01527\ \ \ \ \ \ \ \ \ \ \ \ \ t\ +=\ s[i];}
\DoxyCodeLine{01528\ \ \ \ \ s\ =\ t;}
\DoxyCodeLine{01529\ }
\DoxyCodeLine{01530\ \ \ \ \ \textcolor{keywordtype}{int}\ opened\ =\ 0;}
\DoxyCodeLine{01531\ \ \ \ \ \textcolor{keywordtype}{int}\ firstClose\ =\ -\/1;}
\DoxyCodeLine{01532\ \ \ \ \ std::vector<int>\ seps;}
\DoxyCodeLine{01533\ }
\DoxyCodeLine{01534\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)\ \{}
\DoxyCodeLine{01535\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isCommandChar(s,\ i,\ \textcolor{charliteral}{'('}))\ \{}
\DoxyCodeLine{01536\ \ \ \ \ \ \ \ \ \ \ \ \ opened++;}
\DoxyCodeLine{01537\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01538\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01539\ }
\DoxyCodeLine{01540\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isCommandChar(s,\ i,\ \textcolor{charliteral}{')'}))\ \{}
\DoxyCodeLine{01541\ \ \ \ \ \ \ \ \ \ \ \ \ opened-\/-\/;}
\DoxyCodeLine{01542\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (opened\ ==\ 0\ \&\&\ firstClose\ ==\ -\/1)}
\DoxyCodeLine{01543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ firstClose\ =\ int(i);}
\DoxyCodeLine{01544\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01545\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01546\ }
\DoxyCodeLine{01547\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (opened\ <\ 0)}
\DoxyCodeLine{01548\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern:\ Illegal\ pattern\ (or\ part)\ \(\backslash\)"{}"{}}\ +\ s\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{01549\ }
\DoxyCodeLine{01550\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_pattern\_isCommandChar(s,\ i,\ \textcolor{charliteral}{'|'})\ \&\&\ opened\ ==\ 0)}
\DoxyCodeLine{01551\ \ \ \ \ \ \ \ \ \ \ \ \ seps.push\_back(\textcolor{keywordtype}{int}(i));}
\DoxyCodeLine{01552\ \ \ \ \ \}}
\DoxyCodeLine{01553\ }
\DoxyCodeLine{01554\ \ \ \ \ \textcolor{keywordflow}{if}\ (opened\ !=\ 0)}
\DoxyCodeLine{01555\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}pattern:\ Illegal\ pattern\ (or\ part)\ \(\backslash\)"{}"{}}\ +\ s\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{01556\ }
\DoxyCodeLine{01557\ \ \ \ \ \textcolor{keywordflow}{if}\ (seps.size()\ ==\ 0\ \&\&\ firstClose\ +\ 1\ ==\ (\textcolor{keywordtype}{int})\ s.length()}
\DoxyCodeLine{01558\ \ \ \ \ \ \ \ \ \&\&\ \_\_pattern\_isCommandChar(s,\ 0,\ \textcolor{charliteral}{'('})\ \&\&\ \_\_pattern\_isCommandChar(s,\ s.length()\ -\/\ 1,\ \textcolor{charliteral}{')'}))\ \{}
\DoxyCodeLine{01559\ \ \ \ \ \ \ \ \ children.push\_back(\mbox{\hyperlink{classpattern}{pattern}}(s.substr(1,\ s.length()\ -\/\ 2)));}
\DoxyCodeLine{01560\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01561\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (seps.size()\ >\ 0)\ \{}
\DoxyCodeLine{01562\ \ \ \ \ \ \ \ \ \ \ \ \ seps.push\_back(\textcolor{keywordtype}{int}(s.length()));}
\DoxyCodeLine{01563\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ last\ =\ 0;}
\DoxyCodeLine{01564\ }
\DoxyCodeLine{01565\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ seps.size();\ i++)\ \{}
\DoxyCodeLine{01566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ children.push\_back(\mbox{\hyperlink{classpattern}{pattern}}(s.substr(last,\ seps[i]\ -\/\ last)));}
\DoxyCodeLine{01567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\ =\ seps[i]\ +\ 1;}
\DoxyCodeLine{01568\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01569\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01570\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ pos\ =\ 0;}
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ \ \ \ \ chars\ =\ \_\_pattern\_scanCharSet(s,\ pos);}
\DoxyCodeLine{01572\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_pattern\_scanCounts(s,\ pos,\ from,\ to);}
\DoxyCodeLine{01573\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ <\ s.length())}
\DoxyCodeLine{01574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ children.push\_back(\mbox{\hyperlink{classpattern}{pattern}}(s.substr(pos)));}
\DoxyCodeLine{01575\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01576\ \ \ \ \ \}}
\DoxyCodeLine{01577\ \}}
\DoxyCodeLine{01578\ }
\DoxyCodeLine{01579\ \textcolor{comment}{/*\ End\ of\ pattern\ implementation\ */}}
\DoxyCodeLine{01580\ }
\DoxyCodeLine{01581\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{01582\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ isEof(C\ c)\ \{}
\DoxyCodeLine{01583\ \ \ \ \ \textcolor{keywordflow}{return}\ c\ ==\ EOFC;}
\DoxyCodeLine{01584\ \}}
\DoxyCodeLine{01585\ }
\DoxyCodeLine{01586\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{01587\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ isEoln(C\ c)\ \{}
\DoxyCodeLine{01588\ \ \ \ \ \textcolor{keywordflow}{return}\ (c\ ==\ LF\ ||\ c\ ==\ CR);}
\DoxyCodeLine{01589\ \}}
\DoxyCodeLine{01590\ }
\DoxyCodeLine{01591\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{01592\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ isBlanks(C\ c)\ \{}
\DoxyCodeLine{01593\ \ \ \ \ \textcolor{keywordflow}{return}\ (c\ ==\ LF\ ||\ c\ ==\ CR\ ||\ c\ ==\ SPACE\ ||\ c\ ==\ TAB);}
\DoxyCodeLine{01594\ \}}
\DoxyCodeLine{01595\ }
\DoxyCodeLine{01596\ \textcolor{keyword}{inline}\ std::string\ trim(\textcolor{keyword}{const}\ std::string\ \&s)\ \{}
\DoxyCodeLine{01597\ \ \ \ \ \textcolor{keywordflow}{if}\ (s.empty())}
\DoxyCodeLine{01598\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{01599\ }
\DoxyCodeLine{01600\ \ \ \ \ \textcolor{keywordtype}{int}\ left\ =\ 0;}
\DoxyCodeLine{01601\ \ \ \ \ \textcolor{keywordflow}{while}\ (left\ <\ \textcolor{keywordtype}{int}(s.length())\ \&\&\ isBlanks(s[left]))}
\DoxyCodeLine{01602\ \ \ \ \ \ \ \ \ left++;}
\DoxyCodeLine{01603\ \ \ \ \ \textcolor{keywordflow}{if}\ (left\ >=\ \textcolor{keywordtype}{int}(s.length()))}
\DoxyCodeLine{01604\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01605\ }
\DoxyCodeLine{01606\ \ \ \ \ \textcolor{keywordtype}{int}\ right\ =\ int(s.length())\ -\/\ 1;}
\DoxyCodeLine{01607\ \ \ \ \ \textcolor{keywordflow}{while}\ (right\ >=\ 0\ \&\&\ isBlanks(s[right]))}
\DoxyCodeLine{01608\ \ \ \ \ \ \ \ \ right-\/-\/;}
\DoxyCodeLine{01609\ \ \ \ \ \textcolor{keywordflow}{if}\ (right\ <\ 0)}
\DoxyCodeLine{01610\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01611\ }
\DoxyCodeLine{01612\ \ \ \ \ \textcolor{keywordflow}{return}\ s.substr(left,\ right\ -\/\ left\ +\ 1);}
\DoxyCodeLine{01613\ \}}
\DoxyCodeLine{01614\ }
\DoxyCodeLine{01615\ \textcolor{keyword}{enum}\ TMode\ \{}
\DoxyCodeLine{01616\ \ \ \ \ \_input,\ \_output,\ \_answer}
\DoxyCodeLine{01617\ \};}
\DoxyCodeLine{01618\ }
\DoxyCodeLine{01619\ \textcolor{comment}{/*\ Outcomes\ 6-\/15\ are\ reserved\ for\ future\ use.\ */}}
\DoxyCodeLine{01620\ \textcolor{keyword}{enum}\ TResult\ \{}
\DoxyCodeLine{01621\ \ \ \ \ \_ok\ =\ 0,}
\DoxyCodeLine{01622\ \ \ \ \ \_wa\ =\ 1,}
\DoxyCodeLine{01623\ \ \ \ \ \_pe\ =\ 2,}
\DoxyCodeLine{01624\ \ \ \ \ \_fail\ =\ 3,}
\DoxyCodeLine{01625\ \ \ \ \ \_dirt\ =\ 4,}
\DoxyCodeLine{01626\ \ \ \ \ \_points\ =\ 5,}
\DoxyCodeLine{01627\ \ \ \ \ \_unexpected\_eof\ =\ 8,}
\DoxyCodeLine{01628\ \ \ \ \ \_partially\ =\ 16}
\DoxyCodeLine{01629\ \};}
\DoxyCodeLine{01630\ }
\DoxyCodeLine{01631\ \textcolor{keyword}{enum}\ TTestlibMode\ \{}
\DoxyCodeLine{01632\ \ \ \ \ \_unknown,\ \_checker,\ \_validator,\ \_generator,\ \_interactor,\ \_scorer}
\DoxyCodeLine{01633\ \};}
\DoxyCodeLine{01634\ }
\DoxyCodeLine{01635\ \textcolor{preprocessor}{\#define\ \_pc(exitCode)\ (TResult(\_partially\ +\ (exitCode)))}}
\DoxyCodeLine{01636\ }
\DoxyCodeLine{01637\ \textcolor{comment}{/*\ Outcomes\ 6-\/15\ are\ reserved\ for\ future\ use.\ */}}
\DoxyCodeLine{01638\ \textcolor{keyword}{const}\ std::string\ outcomes[]\ =\ \{}
\DoxyCodeLine{01639\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}accepted"{}},}
\DoxyCodeLine{01640\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}wrong-\/answer"{}},}
\DoxyCodeLine{01641\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}presentation-\/error"{}},}
\DoxyCodeLine{01642\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}fail"{}},}
\DoxyCodeLine{01643\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}fail"{}},}
\DoxyCodeLine{01644\ \textcolor{preprocessor}{\#ifndef\ PCMS2}}
\DoxyCodeLine{01645\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}points"{}},}
\DoxyCodeLine{01646\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01647\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}relative-\/scoring"{}},}
\DoxyCodeLine{01648\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01649\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reserved"{}},}
\DoxyCodeLine{01650\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reserved"{}},}
\DoxyCodeLine{01651\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}unexpected-\/eof"{}},}
\DoxyCodeLine{01652\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reserved"{}},}
\DoxyCodeLine{01653\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reserved"{}},}
\DoxyCodeLine{01654\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reserved"{}},}
\DoxyCodeLine{01655\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reserved"{}},}
\DoxyCodeLine{01656\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reserved"{}},}
\DoxyCodeLine{01657\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reserved"{}},}
\DoxyCodeLine{01658\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reserved"{}},}
\DoxyCodeLine{01659\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}partially-\/correct"{}}}
\DoxyCodeLine{01660\ \};}
\DoxyCodeLine{01661\ }
\DoxyCodeLine{01662\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_input_stream_reader}{InputStreamReader}}\ \{}
\DoxyCodeLine{01663\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01664\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ setTestCase(\textcolor{keywordtype}{int}\ testCase)\ =\ 0;}
\DoxyCodeLine{01665\ }
\DoxyCodeLine{01666\ \ \ \ \ \textcolor{keyword}{virtual}\ std::vector<int>\ getReadChars()\ =\ 0;}
\DoxyCodeLine{01667\ \ \ \ \ }
\DoxyCodeLine{01668\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ curChar()\ =\ 0;}
\DoxyCodeLine{01669\ }
\DoxyCodeLine{01670\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ nextChar()\ =\ 0;}
\DoxyCodeLine{01671\ }
\DoxyCodeLine{01672\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ skipChar()\ =\ 0;}
\DoxyCodeLine{01673\ }
\DoxyCodeLine{01674\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ unreadChar(\textcolor{keywordtype}{int}\ c)\ =\ 0;}
\DoxyCodeLine{01675\ }
\DoxyCodeLine{01676\ \ \ \ \ \textcolor{keyword}{virtual}\ std::string\ getName()\ =\ 0;}
\DoxyCodeLine{01677\ }
\DoxyCodeLine{01678\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ eof()\ =\ 0;}
\DoxyCodeLine{01679\ }
\DoxyCodeLine{01680\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ close()\ =\ 0;}
\DoxyCodeLine{01681\ }
\DoxyCodeLine{01682\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ getLine()\ =\ 0;}
\DoxyCodeLine{01683\ }
\DoxyCodeLine{01684\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_input_stream_reader}{\string~InputStreamReader}}()\ =\ 0;}
\DoxyCodeLine{01685\ \};}
\DoxyCodeLine{01686\ }
\DoxyCodeLine{01687\ InputStreamReader::\string~InputStreamReader()\ \{}
\DoxyCodeLine{01688\ \ \ \ \ \textcolor{comment}{//\ No\ operations.}}
\DoxyCodeLine{01689\ \}}
\DoxyCodeLine{01690\ }
\DoxyCodeLine{01691\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_string_input_stream_reader}{StringInputStreamReader}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_input_stream_reader}{InputStreamReader}}\ \{}
\DoxyCodeLine{01692\ \textcolor{keyword}{private}:}
\DoxyCodeLine{01693\ \ \ \ \ std::string\ s;}
\DoxyCodeLine{01694\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ pos;}
\DoxyCodeLine{01695\ }
\DoxyCodeLine{01696\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01697\ \ \ \ \ \mbox{\hyperlink{class_string_input_stream_reader}{StringInputStreamReader}}(\textcolor{keyword}{const}\ std::string\ \&content)\ :\ s(content),\ pos(0)\ \{}
\DoxyCodeLine{01698\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ operations.}}
\DoxyCodeLine{01699\ \ \ \ \ \}}
\DoxyCodeLine{01700\ }
\DoxyCodeLine{01701\ \ \ \ \ \textcolor{keywordtype}{void}\ setTestCase(\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{01702\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}setTestCase\ not\ implemented\ in\ StringInputStreamReader"{}});}
\DoxyCodeLine{01703\ \ \ \ \ \}}
\DoxyCodeLine{01704\ }
\DoxyCodeLine{01705\ \ \ \ \ std::vector<int>\ getReadChars()\ \{}
\DoxyCodeLine{01706\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}getReadChars\ not\ implemented\ in\ StringInputStreamReader"{}});}
\DoxyCodeLine{01707\ \ \ \ \ \}}
\DoxyCodeLine{01708\ \ \ \ \ }
\DoxyCodeLine{01709\ \ \ \ \ \textcolor{keywordtype}{int}\ curChar()\ \{}
\DoxyCodeLine{01710\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ >=\ s.length())}
\DoxyCodeLine{01711\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ EOFC;}
\DoxyCodeLine{01712\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01713\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ s[pos];}
\DoxyCodeLine{01714\ \ \ \ \ \}}
\DoxyCodeLine{01715\ }
\DoxyCodeLine{01716\ \ \ \ \ \textcolor{keywordtype}{int}\ nextChar()\ \{}
\DoxyCodeLine{01717\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ >=\ s.length())\ \{}
\DoxyCodeLine{01718\ \ \ \ \ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{01719\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ EOFC;}
\DoxyCodeLine{01720\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01721\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ s[pos++];}
\DoxyCodeLine{01722\ \ \ \ \ \}}
\DoxyCodeLine{01723\ }
\DoxyCodeLine{01724\ \ \ \ \ \textcolor{keywordtype}{void}\ skipChar()\ \{}
\DoxyCodeLine{01725\ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{01726\ \ \ \ \ \}}
\DoxyCodeLine{01727\ }
\DoxyCodeLine{01728\ \ \ \ \ \textcolor{keywordtype}{void}\ unreadChar(\textcolor{keywordtype}{int}\ c)\ \{}
\DoxyCodeLine{01729\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ ==\ 0)}
\DoxyCodeLine{01730\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}StringInputStreamReader::unreadChar(int):\ pos\ ==\ 0."{}});}
\DoxyCodeLine{01731\ \ \ \ \ \ \ \ \ pos-\/-\/;}
\DoxyCodeLine{01732\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ <\ s.length())}
\DoxyCodeLine{01733\ \ \ \ \ \ \ \ \ \ \ \ \ s[pos]\ =\ char(c);}
\DoxyCodeLine{01734\ \ \ \ \ \}}
\DoxyCodeLine{01735\ }
\DoxyCodeLine{01736\ \ \ \ \ std::string\ getName()\ \{}
\DoxyCodeLine{01737\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_part(s);}
\DoxyCodeLine{01738\ \ \ \ \ \}}
\DoxyCodeLine{01739\ }
\DoxyCodeLine{01740\ \ \ \ \ \textcolor{keywordtype}{int}\ getLine()\ \{}
\DoxyCodeLine{01741\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01742\ \ \ \ \ \}}
\DoxyCodeLine{01743\ }
\DoxyCodeLine{01744\ \ \ \ \ \textcolor{keywordtype}{bool}\ eof()\ \{}
\DoxyCodeLine{01745\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pos\ >=\ s.length();}
\DoxyCodeLine{01746\ \ \ \ \ \}}
\DoxyCodeLine{01747\ }
\DoxyCodeLine{01748\ \ \ \ \ \textcolor{keywordtype}{void}\ close()\ \{}
\DoxyCodeLine{01749\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ operations.}}
\DoxyCodeLine{01750\ \ \ \ \ \}}
\DoxyCodeLine{01751\ \};}
\DoxyCodeLine{01752\ }
\DoxyCodeLine{01753\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_file_input_stream_reader}{FileInputStreamReader}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_input_stream_reader}{InputStreamReader}}\ \{}
\DoxyCodeLine{01754\ \textcolor{keyword}{private}:}
\DoxyCodeLine{01755\ \ \ \ \ std::FILE\ *file;}
\DoxyCodeLine{01756\ \ \ \ \ std::string\ name;}
\DoxyCodeLine{01757\ \ \ \ \ \textcolor{keywordtype}{int}\ line;}
\DoxyCodeLine{01758\ \ \ \ \ std::vector<int>\ undoChars;}
\DoxyCodeLine{01759\ \ \ \ \ std::vector<int>\ readChars;}
\DoxyCodeLine{01760\ \ \ \ \ std::vector<int>\ undoReadChars;}
\DoxyCodeLine{01761\ }
\DoxyCodeLine{01762\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ postprocessGetc(\textcolor{keywordtype}{int}\ getcResult)\ \{}
\DoxyCodeLine{01763\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (getcResult\ !=\ EOF)}
\DoxyCodeLine{01764\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ getcResult;}
\DoxyCodeLine{01765\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01766\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ EOFC;}
\DoxyCodeLine{01767\ \ \ \ \ \}}
\DoxyCodeLine{01768\ }
\DoxyCodeLine{01769\ \ \ \ \ \textcolor{keywordtype}{int}\ getc(FILE\ *file)\ \{}
\DoxyCodeLine{01770\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ c;}
\DoxyCodeLine{01771\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ rc;}
\DoxyCodeLine{01772\ }
\DoxyCodeLine{01773\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (undoChars.empty())\ \{}
\DoxyCodeLine{01774\ \ \ \ \ \ \ \ \ \ \ \ \ c\ =\ rc\ =\ ::getc(file);}
\DoxyCodeLine{01775\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01776\ \ \ \ \ \ \ \ \ \ \ \ \ c\ =\ undoChars.back();}
\DoxyCodeLine{01777\ \ \ \ \ \ \ \ \ \ \ \ \ undoChars.pop\_back();}
\DoxyCodeLine{01778\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ undoReadChars.back();}
\DoxyCodeLine{01779\ \ \ \ \ \ \ \ \ \ \ \ \ undoReadChars.pop\_back();}
\DoxyCodeLine{01780\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01781\ }
\DoxyCodeLine{01782\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ LF)}
\DoxyCodeLine{01783\ \ \ \ \ \ \ \ \ \ \ \ \ line++;}
\DoxyCodeLine{01784\ }
\DoxyCodeLine{01785\ \ \ \ \ \ \ \ \ readChars.push\_back(rc);}
\DoxyCodeLine{01786\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ c;}
\DoxyCodeLine{01787\ \ \ \ \ \}}
\DoxyCodeLine{01788\ }
\DoxyCodeLine{01789\ \ \ \ \ \textcolor{keywordtype}{int}\ ungetc(\textcolor{keywordtype}{int}\ c\textcolor{comment}{/*,\ FILE*\ file*/})\ \{}
\DoxyCodeLine{01790\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!readChars.empty())\ \{}
\DoxyCodeLine{01791\ \ \ \ \ \ \ \ \ \ \ \ \ undoReadChars.push\_back(readChars.back());}
\DoxyCodeLine{01792\ \ \ \ \ \ \ \ \ \ \ \ \ readChars.pop\_back();}
\DoxyCodeLine{01793\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01794\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ LF)}
\DoxyCodeLine{01795\ \ \ \ \ \ \ \ \ \ \ \ \ line-\/-\/;}
\DoxyCodeLine{01796\ \ \ \ \ \ \ \ \ undoChars.push\_back(c);}
\DoxyCodeLine{01797\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ c;}
\DoxyCodeLine{01798\ \ \ \ \ \}}
\DoxyCodeLine{01799\ }
\DoxyCodeLine{01800\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01801\ \ \ \ \ \mbox{\hyperlink{class_file_input_stream_reader}{FileInputStreamReader}}(std::FILE\ *file,\ \textcolor{keyword}{const}\ std::string\ \&name)\ :\ file(file),\ name(name),\ line(1)\ \{}
\DoxyCodeLine{01802\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ operations.}}
\DoxyCodeLine{01803\ \ \ \ \ \}}
\DoxyCodeLine{01804\ }
\DoxyCodeLine{01805\ \ \ \ \ \textcolor{keywordtype}{void}\ setTestCase(\textcolor{keywordtype}{int}\ testCase)\ \{}
\DoxyCodeLine{01806\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (testCase\ <\ 0\ ||\ testCase\ >\ \_\_TESTLIB\_MAX\_TEST\_CASE)}
\DoxyCodeLine{01807\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(format(\textcolor{stringliteral}{"{}testCase\ expected\ fit\ in\ [1,\%d],\ but\ \%d\ doesn't"{}},\ \_\_TESTLIB\_MAX\_TEST\_CASE,\ testCase));}
\DoxyCodeLine{01808\ \ \ \ \ \ \ \ \ readChars.push\_back(testCase\ +\ 256);}
\DoxyCodeLine{01809\ \ \ \ \ \}}
\DoxyCodeLine{01810\ }
\DoxyCodeLine{01811\ \ \ \ \ std::vector<int>\ getReadChars()\ \{}
\DoxyCodeLine{01812\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ readChars;}
\DoxyCodeLine{01813\ \ \ \ \ \}}
\DoxyCodeLine{01814\ }
\DoxyCodeLine{01815\ \ \ \ \ \textcolor{keywordtype}{int}\ curChar()\ \{}
\DoxyCodeLine{01816\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (feof(file))}
\DoxyCodeLine{01817\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ EOFC;}
\DoxyCodeLine{01818\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01819\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ c\ =\ getc(file);}
\DoxyCodeLine{01820\ \ \ \ \ \ \ \ \ \ \ \ \ ungetc(c\textcolor{comment}{/*,\ file*/});}
\DoxyCodeLine{01821\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ postprocessGetc(c);}
\DoxyCodeLine{01822\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01823\ \ \ \ \ \}}
\DoxyCodeLine{01824\ }
\DoxyCodeLine{01825\ \ \ \ \ \textcolor{keywordtype}{int}\ nextChar()\ \{}
\DoxyCodeLine{01826\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (feof(file))}
\DoxyCodeLine{01827\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ EOFC;}
\DoxyCodeLine{01828\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01829\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ postprocessGetc(getc(file));}
\DoxyCodeLine{01830\ \ \ \ \ \}}
\DoxyCodeLine{01831\ }
\DoxyCodeLine{01832\ \ \ \ \ \textcolor{keywordtype}{void}\ skipChar()\ \{}
\DoxyCodeLine{01833\ \ \ \ \ \ \ \ \ getc(file);}
\DoxyCodeLine{01834\ \ \ \ \ \}}
\DoxyCodeLine{01835\ }
\DoxyCodeLine{01836\ \ \ \ \ \textcolor{keywordtype}{void}\ unreadChar(\textcolor{keywordtype}{int}\ c)\ \{}
\DoxyCodeLine{01837\ \ \ \ \ \ \ \ \ ungetc(c\textcolor{comment}{/*,\ file*/});}
\DoxyCodeLine{01838\ \ \ \ \ \}}
\DoxyCodeLine{01839\ }
\DoxyCodeLine{01840\ \ \ \ \ std::string\ getName()\ \{}
\DoxyCodeLine{01841\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ name;}
\DoxyCodeLine{01842\ \ \ \ \ \}}
\DoxyCodeLine{01843\ }
\DoxyCodeLine{01844\ \ \ \ \ \textcolor{keywordtype}{int}\ getLine()\ \{}
\DoxyCodeLine{01845\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ line;}
\DoxyCodeLine{01846\ \ \ \ \ \}}
\DoxyCodeLine{01847\ }
\DoxyCodeLine{01848\ \ \ \ \ \textcolor{keywordtype}{bool}\ eof()\ \{}
\DoxyCodeLine{01849\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ file\ ||\ feof(file))}
\DoxyCodeLine{01850\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01851\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01852\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ c\ =\ nextChar();}
\DoxyCodeLine{01853\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ EOFC\ ||\ (c\ ==\ EOF\ \&\&\ feof(file)))}
\DoxyCodeLine{01854\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01855\ \ \ \ \ \ \ \ \ \ \ \ \ unreadChar(c);}
\DoxyCodeLine{01856\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01857\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01858\ \ \ \ \ \}}
\DoxyCodeLine{01859\ }
\DoxyCodeLine{01860\ \ \ \ \ \textcolor{keywordtype}{void}\ close()\ \{}
\DoxyCodeLine{01861\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ !=\ file)\ \{}
\DoxyCodeLine{01862\ \ \ \ \ \ \ \ \ \ \ \ \ fclose(file);}
\DoxyCodeLine{01863\ \ \ \ \ \ \ \ \ \ \ \ \ file\ =\ NULL;}
\DoxyCodeLine{01864\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01865\ \ \ \ \ \}}
\DoxyCodeLine{01866\ \};}
\DoxyCodeLine{01867\ }
\DoxyCodeLine{01868\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_buffered_file_input_stream_reader}{BufferedFileInputStreamReader}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_input_stream_reader}{InputStreamReader}}\ \{}
\DoxyCodeLine{01869\ \textcolor{keyword}{private}:}
\DoxyCodeLine{01870\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ BUFFER\_SIZE;}
\DoxyCodeLine{01871\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ MAX\_UNREAD\_COUNT;}
\DoxyCodeLine{01872\ }
\DoxyCodeLine{01873\ \ \ \ \ std::FILE\ *file;}
\DoxyCodeLine{01874\ \ \ \ \ std::string\ name;}
\DoxyCodeLine{01875\ \ \ \ \ \textcolor{keywordtype}{int}\ line;}
\DoxyCodeLine{01876\ }
\DoxyCodeLine{01877\ \ \ \ \ \textcolor{keywordtype}{char}\ *buffer;}
\DoxyCodeLine{01878\ \ \ \ \ \textcolor{keywordtype}{bool}\ *isEof;}
\DoxyCodeLine{01879\ \ \ \ \ \textcolor{keywordtype}{int}\ bufferPos;}
\DoxyCodeLine{01880\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ bufferSize;}
\DoxyCodeLine{01881\ }
\DoxyCodeLine{01882\ \ \ \ \ \textcolor{keywordtype}{bool}\ refill()\ \{}
\DoxyCodeLine{01883\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ file)}
\DoxyCodeLine{01884\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}BufferedFileInputStreamReader:\ file\ ==\ NULL\ ("{}}\ +\ getName()\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{01885\ }
\DoxyCodeLine{01886\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bufferPos\ >=\ \textcolor{keywordtype}{int}(bufferSize))\ \{}
\DoxyCodeLine{01887\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ readSize\ =\ fread(}
\DoxyCodeLine{01888\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer\ +\ MAX\_UNREAD\_COUNT,}
\DoxyCodeLine{01889\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1,}
\DoxyCodeLine{01890\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ BUFFER\_SIZE\ -\/\ MAX\_UNREAD\_COUNT,}
\DoxyCodeLine{01891\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ file}
\DoxyCodeLine{01892\ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{01893\ }
\DoxyCodeLine{01894\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (readSize\ <\ BUFFER\_SIZE\ -\/\ MAX\_UNREAD\_COUNT}
\DoxyCodeLine{01895\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ ferror(file))}
\DoxyCodeLine{01896\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}BufferedFileInputStreamReader:\ unable\ to\ read\ ("{}}\ +\ getName()\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{01897\ }
\DoxyCodeLine{01898\ \ \ \ \ \ \ \ \ \ \ \ \ bufferSize\ =\ MAX\_UNREAD\_COUNT\ +\ readSize;}
\DoxyCodeLine{01899\ \ \ \ \ \ \ \ \ \ \ \ \ bufferPos\ =\ int(MAX\_UNREAD\_COUNT);}
\DoxyCodeLine{01900\ \ \ \ \ \ \ \ \ \ \ \ \ std::memset(isEof\ +\ MAX\_UNREAD\_COUNT,\ 0,\ \textcolor{keyword}{sizeof}(isEof[0])\ *\ readSize);}
\DoxyCodeLine{01901\ }
\DoxyCodeLine{01902\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ readSize\ >\ 0;}
\DoxyCodeLine{01903\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01904\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01905\ \ \ \ \ \}}
\DoxyCodeLine{01906\ }
\DoxyCodeLine{01907\ \ \ \ \ \textcolor{keywordtype}{char}\ increment()\ \{}
\DoxyCodeLine{01908\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ c;}
\DoxyCodeLine{01909\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((c\ =\ buffer[bufferPos++])\ ==\ LF)}
\DoxyCodeLine{01910\ \ \ \ \ \ \ \ \ \ \ \ \ line++;}
\DoxyCodeLine{01911\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ c;}
\DoxyCodeLine{01912\ \ \ \ \ \}}
\DoxyCodeLine{01913\ }
\DoxyCodeLine{01914\ \textcolor{keyword}{public}:}
\DoxyCodeLine{01915\ \ \ \ \ \mbox{\hyperlink{class_buffered_file_input_stream_reader}{BufferedFileInputStreamReader}}(std::FILE\ *file,\ \textcolor{keyword}{const}\ std::string\ \&name)\ :\ file(file),\ name(name),\ line(1)\ \{}
\DoxyCodeLine{01916\ \ \ \ \ \ \ \ \ buffer\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{char}[BUFFER\_SIZE];}
\DoxyCodeLine{01917\ \ \ \ \ \ \ \ \ isEof\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{bool}[BUFFER\_SIZE];}
\DoxyCodeLine{01918\ \ \ \ \ \ \ \ \ bufferSize\ =\ MAX\_UNREAD\_COUNT;}
\DoxyCodeLine{01919\ \ \ \ \ \ \ \ \ bufferPos\ =\ int(MAX\_UNREAD\_COUNT);}
\DoxyCodeLine{01920\ \ \ \ \ \}}
\DoxyCodeLine{01921\ }
\DoxyCodeLine{01922\ \ \ \ \ \mbox{\hyperlink{class_buffered_file_input_stream_reader}{\string~BufferedFileInputStreamReader}}()\ \{}
\DoxyCodeLine{01923\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ !=\ buffer)\ \{}
\DoxyCodeLine{01924\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ buffer;}
\DoxyCodeLine{01925\ \ \ \ \ \ \ \ \ \ \ \ \ buffer\ =\ NULL;}
\DoxyCodeLine{01926\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01927\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ !=\ isEof)\ \{}
\DoxyCodeLine{01928\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ isEof;}
\DoxyCodeLine{01929\ \ \ \ \ \ \ \ \ \ \ \ \ isEof\ =\ NULL;}
\DoxyCodeLine{01930\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01931\ \ \ \ \ \}}
\DoxyCodeLine{01932\ }
\DoxyCodeLine{01933\ \ \ \ \ \textcolor{keywordtype}{void}\ setTestCase(\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{01934\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}setTestCase\ not\ implemented\ in\ BufferedFileInputStreamReader"{}});}
\DoxyCodeLine{01935\ \ \ \ \ \}}
\DoxyCodeLine{01936\ }
\DoxyCodeLine{01937\ \ \ \ \ std::vector<int>\ getReadChars()\ \{}
\DoxyCodeLine{01938\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}getReadChars\ not\ implemented\ in\ BufferedFileInputStreamReader"{}});}
\DoxyCodeLine{01939\ \ \ \ \ \}}
\DoxyCodeLine{01940\ \ \ \ \ }
\DoxyCodeLine{01941\ \ \ \ \ \textcolor{keywordtype}{int}\ curChar()\ \{}
\DoxyCodeLine{01942\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!refill())}
\DoxyCodeLine{01943\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ EOFC;}
\DoxyCodeLine{01944\ }
\DoxyCodeLine{01945\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isEof[bufferPos]\ ?\ EOFC\ :\ buffer[bufferPos];}
\DoxyCodeLine{01946\ \ \ \ \ \}}
\DoxyCodeLine{01947\ }
\DoxyCodeLine{01948\ \ \ \ \ \textcolor{keywordtype}{int}\ nextChar()\ \{}
\DoxyCodeLine{01949\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!refill())}
\DoxyCodeLine{01950\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ EOFC;}
\DoxyCodeLine{01951\ }
\DoxyCodeLine{01952\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isEof[bufferPos]\ ?\ EOFC\ :\ increment();}
\DoxyCodeLine{01953\ \ \ \ \ \}}
\DoxyCodeLine{01954\ }
\DoxyCodeLine{01955\ \ \ \ \ \textcolor{keywordtype}{void}\ skipChar()\ \{}
\DoxyCodeLine{01956\ \ \ \ \ \ \ \ \ increment();}
\DoxyCodeLine{01957\ \ \ \ \ \}}
\DoxyCodeLine{01958\ }
\DoxyCodeLine{01959\ \ \ \ \ \textcolor{keywordtype}{void}\ unreadChar(\textcolor{keywordtype}{int}\ c)\ \{}
\DoxyCodeLine{01960\ \ \ \ \ \ \ \ \ bufferPos-\/-\/;}
\DoxyCodeLine{01961\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bufferPos\ <\ 0)}
\DoxyCodeLine{01962\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}BufferedFileInputStreamReader::unreadChar(int):\ bufferPos\ <\ 0"{}});}
\DoxyCodeLine{01963\ \ \ \ \ \ \ \ \ isEof[bufferPos]\ =\ (c\ ==\ EOFC);}
\DoxyCodeLine{01964\ \ \ \ \ \ \ \ \ buffer[bufferPos]\ =\ char(c);}
\DoxyCodeLine{01965\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ LF)}
\DoxyCodeLine{01966\ \ \ \ \ \ \ \ \ \ \ \ \ line-\/-\/;}
\DoxyCodeLine{01967\ \ \ \ \ \}}
\DoxyCodeLine{01968\ }
\DoxyCodeLine{01969\ \ \ \ \ std::string\ getName()\ \{}
\DoxyCodeLine{01970\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ name;}
\DoxyCodeLine{01971\ \ \ \ \ \}}
\DoxyCodeLine{01972\ }
\DoxyCodeLine{01973\ \ \ \ \ \textcolor{keywordtype}{int}\ getLine()\ \{}
\DoxyCodeLine{01974\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ line;}
\DoxyCodeLine{01975\ \ \ \ \ \}}
\DoxyCodeLine{01976\ }
\DoxyCodeLine{01977\ \ \ \ \ \textcolor{keywordtype}{bool}\ eof()\ \{}
\DoxyCodeLine{01978\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ !refill()\ ||\ EOFC\ ==\ curChar();}
\DoxyCodeLine{01979\ \ \ \ \ \}}
\DoxyCodeLine{01980\ }
\DoxyCodeLine{01981\ \ \ \ \ \textcolor{keywordtype}{void}\ close()\ \{}
\DoxyCodeLine{01982\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ !=\ file)\ \{}
\DoxyCodeLine{01983\ \ \ \ \ \ \ \ \ \ \ \ \ fclose(file);}
\DoxyCodeLine{01984\ \ \ \ \ \ \ \ \ \ \ \ \ file\ =\ NULL;}
\DoxyCodeLine{01985\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01986\ \ \ \ \ \}}
\DoxyCodeLine{01987\ \};}
\DoxyCodeLine{01988\ }
\DoxyCodeLine{01989\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ BufferedFileInputStreamReader::BUFFER\_SIZE\ =\ 2000000;}
\DoxyCodeLine{01990\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ BufferedFileInputStreamReader::MAX\_UNREAD\_COUNT\ =\ BufferedFileInputStreamReader::BUFFER\_SIZE\ /\ 2;}
\DoxyCodeLine{01991\ }
\DoxyCodeLine{01992\ \textcolor{comment}{/*}}
\DoxyCodeLine{01993\ \textcolor{comment}{\ *\ Streams\ to\ be\ used\ for\ reading\ data\ in\ checkers\ or\ validators.}}
\DoxyCodeLine{01994\ \textcolor{comment}{\ *\ Each\ read*()\ method\ moves\ pointer\ to\ the\ next\ character\ after\ the}}
\DoxyCodeLine{01995\ \textcolor{comment}{\ *\ read\ value.}}
\DoxyCodeLine{01996\ \textcolor{comment}{\ */}}
\DoxyCodeLine{01997\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_in_stream}{InStream}}\ \{}
\DoxyCodeLine{01998\ \ \ \ \ \textcolor{comment}{/*\ Do\ not\ use\ them.\ */}}
\DoxyCodeLine{01999\ \ \ \ \ \mbox{\hyperlink{struct_in_stream}{InStream}}();}
\DoxyCodeLine{02000\ }
\DoxyCodeLine{02001\ \ \ \ \ \mbox{\hyperlink{struct_in_stream}{\string~InStream}}();}
\DoxyCodeLine{02002\ }
\DoxyCodeLine{02003\ \ \ \ \ \textcolor{comment}{/*\ Wrap\ std::string\ with\ InStream.\ */}}
\DoxyCodeLine{02004\ \ \ \ \ \mbox{\hyperlink{struct_in_stream}{InStream}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_in_stream}{InStream}}\ \&baseStream,\ std::string\ content);}
\DoxyCodeLine{02005\ }
\DoxyCodeLine{02006\ \ \ \ \ \mbox{\hyperlink{class_input_stream_reader}{InputStreamReader}}\ *reader;}
\DoxyCodeLine{02007\ \ \ \ \ \textcolor{keywordtype}{int}\ lastLine;}
\DoxyCodeLine{02008\ }
\DoxyCodeLine{02009\ \ \ \ \ std::string\ name;}
\DoxyCodeLine{02010\ \ \ \ \ TMode\ mode;}
\DoxyCodeLine{02011\ \ \ \ \ \textcolor{keywordtype}{bool}\ opened;}
\DoxyCodeLine{02012\ \ \ \ \ \textcolor{keywordtype}{bool}\ stdfile;}
\DoxyCodeLine{02013\ \ \ \ \ \textcolor{keywordtype}{bool}\ strict;}
\DoxyCodeLine{02014\ }
\DoxyCodeLine{02015\ \ \ \ \ \textcolor{keywordtype}{int}\ wordReserveSize;}
\DoxyCodeLine{02016\ \ \ \ \ std::string\ \_tmpReadToken;}
\DoxyCodeLine{02017\ }
\DoxyCodeLine{02018\ \ \ \ \ \textcolor{keywordtype}{int}\ readManyIteration;}
\DoxyCodeLine{02019\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ maxFileSize;}
\DoxyCodeLine{02020\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ maxTokenLength;}
\DoxyCodeLine{02021\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ maxMessageLength;}
\DoxyCodeLine{02022\ }
\DoxyCodeLine{02023\ \ \ \ \ \textcolor{keywordtype}{void}\ init(std::string\ fileName,\ TMode\ mode);}
\DoxyCodeLine{02024\ }
\DoxyCodeLine{02025\ \ \ \ \ \textcolor{keywordtype}{void}\ init(std::FILE\ *f,\ TMode\ mode);}
\DoxyCodeLine{02026\ }
\DoxyCodeLine{02027\ \ \ \ \ \textcolor{keywordtype}{void}\ setTestCase(\textcolor{keywordtype}{int}\ testCase);}
\DoxyCodeLine{02028\ \ \ \ \ std::vector<int>\ getReadChars();}
\DoxyCodeLine{02029\ }
\DoxyCodeLine{02030\ \ \ \ \ \textcolor{comment}{/*\ Moves\ stream\ pointer\ to\ the\ first\ non-\/white-\/space\ character\ or\ EOF.\ */}}
\DoxyCodeLine{02031\ \ \ \ \ \textcolor{keywordtype}{void}\ skipBlanks();}
\DoxyCodeLine{02032\ }
\DoxyCodeLine{02033\ \ \ \ \ \textcolor{comment}{/*\ Returns\ current\ character\ in\ the\ stream.\ Doesn't\ remove\ it\ from\ stream.\ */}}
\DoxyCodeLine{02034\ \ \ \ \ \textcolor{keywordtype}{char}\ curChar();}
\DoxyCodeLine{02035\ }
\DoxyCodeLine{02036\ \ \ \ \ \textcolor{comment}{/*\ Moves\ stream\ pointer\ one\ character\ forward.\ */}}
\DoxyCodeLine{02037\ \ \ \ \ \textcolor{keywordtype}{void}\ skipChar();}
\DoxyCodeLine{02038\ }
\DoxyCodeLine{02039\ \ \ \ \ \textcolor{comment}{/*\ Returns\ current\ character\ and\ moves\ pointer\ one\ character\ forward.\ */}}
\DoxyCodeLine{02040\ \ \ \ \ \textcolor{keywordtype}{char}\ nextChar();}
\DoxyCodeLine{02041\ }
\DoxyCodeLine{02042\ \ \ \ \ \textcolor{comment}{/*\ Returns\ current\ character\ and\ moves\ pointer\ one\ character\ forward.\ */}}
\DoxyCodeLine{02043\ \ \ \ \ \textcolor{keywordtype}{char}\ readChar();}
\DoxyCodeLine{02044\ }
\DoxyCodeLine{02045\ \ \ \ \ \textcolor{comment}{/*\ As\ "{}readChar()"{}\ but\ ensures\ that\ the\ result\ is\ equal\ to\ given\ parameter.\ */}}
\DoxyCodeLine{02046\ \ \ \ \ \textcolor{keywordtype}{char}\ readChar(\textcolor{keywordtype}{char}\ c);}
\DoxyCodeLine{02047\ }
\DoxyCodeLine{02048\ \ \ \ \ \textcolor{comment}{/*\ As\ "{}readChar()"{}\ but\ ensures\ that\ the\ result\ is\ equal\ to\ the\ space\ (code=32).\ */}}
\DoxyCodeLine{02049\ \ \ \ \ \textcolor{keywordtype}{char}\ readSpace();}
\DoxyCodeLine{02050\ }
\DoxyCodeLine{02051\ \ \ \ \ \textcolor{comment}{/*\ Puts\ back\ the\ character\ into\ the\ stream.\ */}}
\DoxyCodeLine{02052\ \ \ \ \ \textcolor{keywordtype}{void}\ unreadChar(\textcolor{keywordtype}{char}\ c);}
\DoxyCodeLine{02053\ }
\DoxyCodeLine{02054\ \ \ \ \ \textcolor{comment}{/*\ Reopens\ stream,\ you\ should\ not\ use\ it.\ */}}
\DoxyCodeLine{02055\ \ \ \ \ \textcolor{keywordtype}{void}\ reset(std::FILE\ *file\ =\ NULL);}
\DoxyCodeLine{02056\ }
\DoxyCodeLine{02057\ \ \ \ \ \textcolor{comment}{/*\ Checks\ that\ current\ position\ is\ EOF.\ If\ not\ it\ doesn't\ move\ stream\ pointer.\ */}}
\DoxyCodeLine{02058\ \ \ \ \ \textcolor{keywordtype}{bool}\ eof();}
\DoxyCodeLine{02059\ }
\DoxyCodeLine{02060\ \ \ \ \ \textcolor{comment}{/*\ Moves\ pointer\ to\ the\ first\ non-\/white-\/space\ character\ and\ calls\ "{}eof()"{}.\ */}}
\DoxyCodeLine{02061\ \ \ \ \ \textcolor{keywordtype}{bool}\ seekEof();}
\DoxyCodeLine{02062\ }
\DoxyCodeLine{02063\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02064\ \textcolor{comment}{\ \ \ \ \ *\ Checks\ that\ current\ position\ contains\ EOLN.}}
\DoxyCodeLine{02065\ \textcolor{comment}{\ \ \ \ \ *\ If\ not\ it\ doesn't\ move\ stream\ pointer.}}
\DoxyCodeLine{02066\ \textcolor{comment}{\ \ \ \ \ *\ In\ strict\ mode\ expects\ "{}\#13\#10"{}\ for\ windows\ or\ "{}\#10"{}\ for\ other\ platforms.}}
\DoxyCodeLine{02067\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02068\ \ \ \ \ \textcolor{keywordtype}{bool}\ eoln();}
\DoxyCodeLine{02069\ }
\DoxyCodeLine{02070\ \ \ \ \ \textcolor{comment}{/*\ Moves\ pointer\ to\ the\ first\ non-\/space\ and\ non-\/tab\ character\ and\ calls\ "{}eoln()"{}.\ */}}
\DoxyCodeLine{02071\ \ \ \ \ \textcolor{keywordtype}{bool}\ seekEoln();}
\DoxyCodeLine{02072\ }
\DoxyCodeLine{02073\ \ \ \ \ \textcolor{comment}{/*\ Moves\ stream\ pointer\ to\ the\ first\ character\ of\ the\ next\ line\ (if\ exists).\ */}}
\DoxyCodeLine{02074\ \ \ \ \ \textcolor{keywordtype}{void}\ nextLine();}
\DoxyCodeLine{02075\ }
\DoxyCodeLine{02076\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02077\ \textcolor{comment}{\ \ \ \ \ *\ Reads\ new\ token.\ Ignores\ white-\/spaces\ into\ the\ non-\/strict\ mode}}
\DoxyCodeLine{02078\ \textcolor{comment}{\ \ \ \ \ *\ (strict\ mode\ is\ used\ in\ validators\ usually).}}
\DoxyCodeLine{02079\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02080\ \ \ \ \ std::string\ readWord();}
\DoxyCodeLine{02081\ }
\DoxyCodeLine{02082\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readWord()"{},\ it\ is\ preferred\ to\ use\ "{}readToken()"{}.\ */}}
\DoxyCodeLine{02083\ \ \ \ \ std::string\ readToken();}
\DoxyCodeLine{02084\ }
\DoxyCodeLine{02085\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readWord()"{},\ but\ ensures\ that\ token\ matches\ to\ given\ pattern.\ */}}
\DoxyCodeLine{02086\ \ \ \ \ std::string\ readWord(\textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02087\ }
\DoxyCodeLine{02088\ \ \ \ \ std::string\ readWord(\textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02089\ }
\DoxyCodeLine{02090\ \ \ \ \ std::vector<std::string>}
\DoxyCodeLine{02091\ \ \ \ \ readWords(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02092\ }
\DoxyCodeLine{02093\ \ \ \ \ std::vector<std::string>}
\DoxyCodeLine{02094\ \ \ \ \ readWords(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02095\ }
\DoxyCodeLine{02096\ \ \ \ \ std::vector<std::string>\ readWords(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02097\ }
\DoxyCodeLine{02098\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readToken()"{},\ but\ ensures\ that\ token\ matches\ to\ given\ pattern.\ */}}
\DoxyCodeLine{02099\ \ \ \ \ std::string\ readToken(\textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02100\ }
\DoxyCodeLine{02101\ \ \ \ \ std::string\ readToken(\textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02102\ }
\DoxyCodeLine{02103\ \ \ \ \ std::vector<std::string>}
\DoxyCodeLine{02104\ \ \ \ \ readTokens(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02105\ }
\DoxyCodeLine{02106\ \ \ \ \ std::vector<std::string>}
\DoxyCodeLine{02107\ \ \ \ \ readTokens(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02108\ }
\DoxyCodeLine{02109\ \ \ \ \ std::vector<std::string>\ readTokens(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02110\ }
\DoxyCodeLine{02111\ \ \ \ \ \textcolor{keywordtype}{void}\ readWordTo(std::string\ \&result);}
\DoxyCodeLine{02112\ }
\DoxyCodeLine{02113\ \ \ \ \ \textcolor{keywordtype}{void}\ readWordTo(std::string\ \&result,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02114\ }
\DoxyCodeLine{02115\ \ \ \ \ \textcolor{keywordtype}{void}\ readWordTo(std::string\ \&result,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02116\ }
\DoxyCodeLine{02117\ \ \ \ \ \textcolor{keywordtype}{void}\ readTokenTo(std::string\ \&result);}
\DoxyCodeLine{02118\ }
\DoxyCodeLine{02119\ \ \ \ \ \textcolor{keywordtype}{void}\ readTokenTo(std::string\ \&result,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02120\ }
\DoxyCodeLine{02121\ \ \ \ \ \textcolor{keywordtype}{void}\ readTokenTo(std::string\ \&result,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02122\ }
\DoxyCodeLine{02123\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02124\ \textcolor{comment}{\ \ \ \ \ *\ Reads\ new\ long\ long\ value.\ Ignores\ white-\/spaces\ into\ the\ non-\/strict\ mode}}
\DoxyCodeLine{02125\ \textcolor{comment}{\ \ \ \ \ *\ (strict\ mode\ is\ used\ in\ validators\ usually).}}
\DoxyCodeLine{02126\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02127\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ readLong();}
\DoxyCodeLine{02128\ }
\DoxyCodeLine{02129\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ readUnsignedLong();}
\DoxyCodeLine{02130\ }
\DoxyCodeLine{02131\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02132\ \textcolor{comment}{\ \ \ \ \ *\ Reads\ new\ int.\ Ignores\ white-\/spaces\ into\ the\ non-\/strict\ mode}}
\DoxyCodeLine{02133\ \textcolor{comment}{\ \ \ \ \ *\ (strict\ mode\ is\ used\ in\ validators\ usually).}}
\DoxyCodeLine{02134\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02135\ \ \ \ \ \textcolor{keywordtype}{int}\ readInteger();}
\DoxyCodeLine{02136\ }
\DoxyCodeLine{02137\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02138\ \textcolor{comment}{\ \ \ \ \ *\ Reads\ new\ int.\ Ignores\ white-\/spaces\ into\ the\ non-\/strict\ mode}}
\DoxyCodeLine{02139\ \textcolor{comment}{\ \ \ \ \ *\ (strict\ mode\ is\ used\ in\ validators\ usually).}}
\DoxyCodeLine{02140\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02141\ \ \ \ \ \textcolor{keywordtype}{int}\ readInt();}
\DoxyCodeLine{02142\ }
\DoxyCodeLine{02143\ \ \ \ \ \textcolor{comment}{/*\ As\ "{}readLong()"{}\ but\ ensures\ that\ value\ in\ the\ range\ [minv,maxv].\ */}}
\DoxyCodeLine{02144\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ readLong(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02145\ }
\DoxyCodeLine{02146\ \ \ \ \ \textcolor{comment}{/*\ Reads\ space-\/separated\ sequence\ of\ long\ longs.\ */}}
\DoxyCodeLine{02147\ \ \ \ \ std::vector<long\ long>}
\DoxyCodeLine{02148\ \ \ \ \ readLongs(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02149\ }
\DoxyCodeLine{02150\ \ \ \ \ \textcolor{comment}{/*\ Reads\ space-\/separated\ sequence\ of\ long\ longs.\ */}}
\DoxyCodeLine{02151\ \ \ \ \ std::vector<long\ long>\ readLongs(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02152\ }
\DoxyCodeLine{02153\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}}
\DoxyCodeLine{02154\ \ \ \ \ readUnsignedLong(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02155\ }
\DoxyCodeLine{02156\ \ \ \ \ std::vector<unsigned\ long\ long>}
\DoxyCodeLine{02157\ \ \ \ \ readUnsignedLongs(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{02158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02159\ }
\DoxyCodeLine{02160\ \ \ \ \ std::vector<unsigned\ long\ long>\ readUnsignedLongs(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02161\ }
\DoxyCodeLine{02162\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ readLong(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02163\ }
\DoxyCodeLine{02164\ \ \ \ \ std::vector<unsigned\ long\ long>}
\DoxyCodeLine{02165\ \ \ \ \ readLongs(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{02166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02167\ }
\DoxyCodeLine{02168\ \ \ \ \ \textcolor{comment}{/*\ As\ "{}readInteger()"{}\ but\ ensures\ that\ value\ in\ the\ range\ [minv,maxv].\ */}}
\DoxyCodeLine{02169\ \ \ \ \ \textcolor{keywordtype}{int}\ readInteger(\textcolor{keywordtype}{int}\ minv,\ \textcolor{keywordtype}{int}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02170\ }
\DoxyCodeLine{02171\ \ \ \ \ \textcolor{comment}{/*\ As\ "{}readInt()"{}\ but\ ensures\ that\ value\ in\ the\ range\ [minv,maxv].\ */}}
\DoxyCodeLine{02172\ \ \ \ \ \textcolor{keywordtype}{int}\ readInt(\textcolor{keywordtype}{int}\ minv,\ \textcolor{keywordtype}{int}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02173\ }
\DoxyCodeLine{02174\ \ \ \ \ \textcolor{comment}{/*\ Reads\ space-\/separated\ sequence\ of\ integers.\ */}}
\DoxyCodeLine{02175\ \ \ \ \ std::vector<int>}
\DoxyCodeLine{02176\ \ \ \ \ readIntegers(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ minv,\ \textcolor{keywordtype}{int}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02177\ }
\DoxyCodeLine{02178\ \ \ \ \ \textcolor{comment}{/*\ Reads\ space-\/separated\ sequence\ of\ integers.\ */}}
\DoxyCodeLine{02179\ \ \ \ \ std::vector<int>\ readIntegers(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02180\ }
\DoxyCodeLine{02181\ \ \ \ \ \textcolor{comment}{/*\ Reads\ space-\/separated\ sequence\ of\ integers.\ */}}
\DoxyCodeLine{02182\ \ \ \ \ std::vector<int>\ readInts(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ minv,\ \textcolor{keywordtype}{int}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02183\ }
\DoxyCodeLine{02184\ \ \ \ \ \textcolor{comment}{/*\ Reads\ space-\/separated\ sequence\ of\ integers.\ */}}
\DoxyCodeLine{02185\ \ \ \ \ std::vector<int>\ readInts(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02186\ }
\DoxyCodeLine{02187\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02188\ \textcolor{comment}{\ \ \ \ \ *\ Reads\ new\ double.\ Ignores\ white-\/spaces\ into\ the\ non-\/strict\ mode}}
\DoxyCodeLine{02189\ \textcolor{comment}{\ \ \ \ \ *\ (strict\ mode\ is\ used\ in\ validators\ usually).}}
\DoxyCodeLine{02190\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02191\ \ \ \ \ \textcolor{keywordtype}{double}\ readReal();}
\DoxyCodeLine{02192\ }
\DoxyCodeLine{02193\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02194\ \textcolor{comment}{\ \ \ \ \ *\ Reads\ new\ double.\ Ignores\ white-\/spaces\ into\ the\ non-\/strict\ mode}}
\DoxyCodeLine{02195\ \textcolor{comment}{\ \ \ \ \ *\ (strict\ mode\ is\ used\ in\ validators\ usually).}}
\DoxyCodeLine{02196\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02197\ \ \ \ \ \textcolor{keywordtype}{double}\ readDouble();}
\DoxyCodeLine{02198\ }
\DoxyCodeLine{02199\ \ \ \ \ \textcolor{comment}{/*\ As\ "{}readReal()"{}\ but\ ensures\ that\ value\ in\ the\ range\ [minv,maxv].\ */}}
\DoxyCodeLine{02200\ \ \ \ \ \textcolor{keywordtype}{double}\ readReal(\textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02201\ }
\DoxyCodeLine{02202\ \ \ \ \ std::vector<double>}
\DoxyCodeLine{02203\ \ \ \ \ readReals(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02204\ }
\DoxyCodeLine{02205\ \ \ \ \ std::vector<double>\ readReals(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02206\ }
\DoxyCodeLine{02207\ \ \ \ \ \textcolor{comment}{/*\ As\ "{}readDouble()"{}\ but\ ensures\ that\ value\ in\ the\ range\ [minv,maxv].\ */}}
\DoxyCodeLine{02208\ \ \ \ \ \textcolor{keywordtype}{double}\ readDouble(\textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02209\ }
\DoxyCodeLine{02210\ \ \ \ \ std::vector<double>}
\DoxyCodeLine{02211\ \ \ \ \ readDoubles(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02212\ }
\DoxyCodeLine{02213\ \ \ \ \ std::vector<double>\ readDoubles(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02214\ }
\DoxyCodeLine{02215\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02216\ \textcolor{comment}{\ \ \ \ \ *\ As\ "{}readReal()"{}\ but\ ensures\ that\ value\ in\ the\ range\ [minv,maxv]\ and}}
\DoxyCodeLine{02217\ \textcolor{comment}{\ \ \ \ \ *\ number\ of\ digit\ after\ the\ decimal\ point\ is\ in\ range\ [minAfterPointDigitCount,maxAfterPointDigitCount]}}
\DoxyCodeLine{02218\ \textcolor{comment}{\ \ \ \ \ *\ and\ number\ is\ in\ the\ form\ "{}[-\/]digit(s)[.digit(s)]"{}.}}
\DoxyCodeLine{02219\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02220\ \ \ \ \ \textcolor{keywordtype}{double}\ readStrictReal(\textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,}
\DoxyCodeLine{02221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ minAfterPointDigitCount,\ \textcolor{keywordtype}{int}\ maxAfterPointDigitCount,}
\DoxyCodeLine{02222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02223\ }
\DoxyCodeLine{02224\ \ \ \ \ std::vector<double>\ readStrictReals(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,}
\DoxyCodeLine{02225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ minAfterPointDigitCount,\ \textcolor{keywordtype}{int}\ maxAfterPointDigitCount,}
\DoxyCodeLine{02226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02227\ }
\DoxyCodeLine{02228\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02229\ \textcolor{comment}{\ \ \ \ \ *\ As\ "{}readDouble()"{}\ but\ ensures\ that\ value\ in\ the\ range\ [minv,maxv]\ and}}
\DoxyCodeLine{02230\ \textcolor{comment}{\ \ \ \ \ *\ number\ of\ digit\ after\ the\ decimal\ point\ is\ in\ range\ [minAfterPointDigitCount,maxAfterPointDigitCount]}}
\DoxyCodeLine{02231\ \textcolor{comment}{\ \ \ \ \ *\ and\ number\ is\ in\ the\ form\ "{}[-\/]digit(s)[.digit(s)]"{}.}}
\DoxyCodeLine{02232\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02233\ \ \ \ \ \textcolor{keywordtype}{double}\ readStrictDouble(\textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,}
\DoxyCodeLine{02234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ minAfterPointDigitCount,\ \textcolor{keywordtype}{int}\ maxAfterPointDigitCount,}
\DoxyCodeLine{02235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02236\ }
\DoxyCodeLine{02237\ \ \ \ \ std::vector<double>\ readStrictDoubles(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,}
\DoxyCodeLine{02238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ minAfterPointDigitCount,\ \textcolor{keywordtype}{int}\ maxAfterPointDigitCount,}
\DoxyCodeLine{02239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&variablesName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02240\ }
\DoxyCodeLine{02241\ \ \ \ \ \textcolor{comment}{/*\ As\ readLine().\ */}}
\DoxyCodeLine{02242\ \ \ \ \ std::string\ readString();}
\DoxyCodeLine{02243\ }
\DoxyCodeLine{02244\ \ \ \ \ \textcolor{comment}{/*\ Read\ many\ lines.\ */}}
\DoxyCodeLine{02245\ \ \ \ \ std::vector<std::string>\ readStrings(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02246\ }
\DoxyCodeLine{02247\ \ \ \ \ \textcolor{comment}{/*\ See\ readLine().\ */}}
\DoxyCodeLine{02248\ \ \ \ \ \textcolor{keywordtype}{void}\ readStringTo(std::string\ \&result);}
\DoxyCodeLine{02249\ }
\DoxyCodeLine{02250\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readLine()/readString()"{},\ but\ ensures\ that\ line\ matches\ to\ the\ given\ pattern.\ */}}
\DoxyCodeLine{02251\ \ \ \ \ std::string\ readString(\textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02252\ }
\DoxyCodeLine{02253\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readLine()/readString()"{},\ but\ ensures\ that\ line\ matches\ to\ the\ given\ pattern.\ */}}
\DoxyCodeLine{02254\ \ \ \ \ std::string\ readString(\textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02255\ }
\DoxyCodeLine{02256\ \ \ \ \ \textcolor{comment}{/*\ Read\ many\ lines.\ */}}
\DoxyCodeLine{02257\ \ \ \ \ std::vector<std::string>}
\DoxyCodeLine{02258\ \ \ \ \ readStrings(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02259\ }
\DoxyCodeLine{02260\ \ \ \ \ \textcolor{comment}{/*\ Read\ many\ lines.\ */}}
\DoxyCodeLine{02261\ \ \ \ \ std::vector<std::string>}
\DoxyCodeLine{02262\ \ \ \ \ readStrings(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02263\ }
\DoxyCodeLine{02264\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readLine()/readString()"{},\ but\ ensures\ that\ line\ matches\ to\ the\ given\ pattern.\ */}}
\DoxyCodeLine{02265\ \ \ \ \ \textcolor{keywordtype}{void}\ readStringTo(std::string\ \&result,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02266\ }
\DoxyCodeLine{02267\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readLine()/readString()"{},\ but\ ensures\ that\ line\ matches\ to\ the\ given\ pattern.\ */}}
\DoxyCodeLine{02268\ \ \ \ \ \textcolor{keywordtype}{void}\ readStringTo(std::string\ \&result,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02269\ }
\DoxyCodeLine{02270\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02271\ \textcolor{comment}{\ \ \ \ \ *\ Reads\ line\ from\ the\ current\ position\ to\ EOLN\ or\ EOF.\ Moves\ stream\ pointer\ to}}
\DoxyCodeLine{02272\ \textcolor{comment}{\ \ \ \ \ *\ the\ first\ character\ of\ the\ new\ line\ (if\ possible).}}
\DoxyCodeLine{02273\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02274\ \ \ \ \ std::string\ readLine();}
\DoxyCodeLine{02275\ }
\DoxyCodeLine{02276\ \ \ \ \ \textcolor{comment}{/*\ Read\ many\ lines.\ */}}
\DoxyCodeLine{02277\ \ \ \ \ std::vector<std::string>\ readLines(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02278\ }
\DoxyCodeLine{02279\ \ \ \ \ \textcolor{comment}{/*\ See\ readLine().\ */}}
\DoxyCodeLine{02280\ \ \ \ \ \textcolor{keywordtype}{void}\ readLineTo(std::string\ \&result);}
\DoxyCodeLine{02281\ }
\DoxyCodeLine{02282\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readLine()"{},\ but\ ensures\ that\ line\ matches\ to\ the\ given\ pattern.\ */}}
\DoxyCodeLine{02283\ \ \ \ \ std::string\ readLine(\textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02284\ }
\DoxyCodeLine{02285\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readLine()"{},\ but\ ensures\ that\ line\ matches\ to\ the\ given\ pattern.\ */}}
\DoxyCodeLine{02286\ \ \ \ \ std::string\ readLine(\textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02287\ }
\DoxyCodeLine{02288\ \ \ \ \ \textcolor{comment}{/*\ Read\ many\ lines.\ */}}
\DoxyCodeLine{02289\ \ \ \ \ std::vector<std::string>}
\DoxyCodeLine{02290\ \ \ \ \ readLines(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02291\ }
\DoxyCodeLine{02292\ \ \ \ \ \textcolor{comment}{/*\ Read\ many\ lines.\ */}}
\DoxyCodeLine{02293\ \ \ \ \ std::vector<std::string>}
\DoxyCodeLine{02294\ \ \ \ \ readLines(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keywordtype}{int}\ indexBase\ =\ 1);}
\DoxyCodeLine{02295\ }
\DoxyCodeLine{02296\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readLine()"{},\ but\ ensures\ that\ line\ matches\ to\ the\ given\ pattern.\ */}}
\DoxyCodeLine{02297\ \ \ \ \ \textcolor{keywordtype}{void}\ readLineTo(std::string\ \&result,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02298\ }
\DoxyCodeLine{02299\ \ \ \ \ \textcolor{comment}{/*\ The\ same\ as\ "{}readLine()"{},\ but\ ensures\ that\ line\ matches\ to\ the\ given\ pattern.\ */}}
\DoxyCodeLine{02300\ \ \ \ \ \textcolor{keywordtype}{void}\ readLineTo(std::string\ \&result,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02301\ }
\DoxyCodeLine{02302\ \ \ \ \ \textcolor{comment}{/*\ Reads\ EOLN\ or\ fails.\ Use\ it\ in\ validators.\ Calls\ "{}eoln()"{}\ method\ internally.\ */}}
\DoxyCodeLine{02303\ \ \ \ \ \textcolor{keywordtype}{void}\ readEoln();}
\DoxyCodeLine{02304\ }
\DoxyCodeLine{02305\ \ \ \ \ \textcolor{comment}{/*\ Reads\ EOF\ or\ fails.\ Use\ it\ in\ validators.\ Calls\ "{}eof()"{}\ method\ internally.\ */}}
\DoxyCodeLine{02306\ \ \ \ \ \textcolor{keywordtype}{void}\ readEof();}
\DoxyCodeLine{02307\ }
\DoxyCodeLine{02308\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02309\ \textcolor{comment}{\ \ \ \ \ *\ Quit-\/functions\ aborts\ program\ with\ <result>\ and\ <message>:}}
\DoxyCodeLine{02310\ \textcolor{comment}{\ \ \ \ \ *\ input/answer\ streams\ replace\ any\ result\ to\ FAIL.}}
\DoxyCodeLine{02311\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02312\ \ \ \ \ NORETURN\ \textcolor{keywordtype}{void}\ quit(TResult\ result,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg);}
\DoxyCodeLine{02313\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02314\ \textcolor{comment}{\ \ \ \ \ *\ Quit-\/functions\ aborts\ program\ with\ <result>\ and\ <message>:}}
\DoxyCodeLine{02315\ \textcolor{comment}{\ \ \ \ \ *\ input/answer\ streams\ replace\ any\ result\ to\ FAIL.}}
\DoxyCodeLine{02316\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02317\ \ \ \ \ NORETURN\ \textcolor{keywordtype}{void}\ quitf(TResult\ result,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg,\ ...);}
\DoxyCodeLine{02318\ }
\DoxyCodeLine{02319\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02320\ \textcolor{comment}{\ \ \ \ \ *\ Quit-\/functions\ aborts\ program\ with\ <result>\ and\ <message>:}}
\DoxyCodeLine{02321\ \textcolor{comment}{\ \ \ \ \ *\ input/answer\ streams\ replace\ any\ result\ to\ FAIL.}}
\DoxyCodeLine{02322\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02323\ \ \ \ \ \textcolor{keywordtype}{void}\ quitif(\textcolor{keywordtype}{bool}\ condition,\ TResult\ result,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg,\ ...);}
\DoxyCodeLine{02324\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02325\ \textcolor{comment}{\ \ \ \ \ *\ Quit-\/functions\ aborts\ program\ with\ <result>\ and\ <message>:}}
\DoxyCodeLine{02326\ \textcolor{comment}{\ \ \ \ \ *\ input/answer\ streams\ replace\ any\ result\ to\ FAIL.}}
\DoxyCodeLine{02327\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02328\ \ \ \ \ NORETURN\ \textcolor{keywordtype}{void}\ quits(TResult\ result,\ std::string\ msg);}
\DoxyCodeLine{02329\ }
\DoxyCodeLine{02330\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{02331\ \textcolor{comment}{\ \ \ \ \ *\ Checks\ condition\ and\ aborts\ a\ program\ if\ condition\ is\ false.}}
\DoxyCodeLine{02332\ \textcolor{comment}{\ \ \ \ \ *\ Returns\ \_wa\ for\ ouf\ and\ \_fail\ on\ any\ other\ streams.}}
\DoxyCodeLine{02333\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{02334\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{02335\ \ \ \ \ \_\_attribute\_\_\ ((format\ (printf,\ 3,\ 4)))}
\DoxyCodeLine{02336\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02337\ \ \ \ \ \textcolor{keywordtype}{void}\ ensuref(\textcolor{keywordtype}{bool}\ cond,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,\ ...);}
\DoxyCodeLine{02338\ }
\DoxyCodeLine{02339\ \ \ \ \ \textcolor{keywordtype}{void}\ \_\_testlib\_ensure(\textcolor{keywordtype}{bool}\ cond,\ std::string\ message);}
\DoxyCodeLine{02340\ }
\DoxyCodeLine{02341\ \ \ \ \ \textcolor{keywordtype}{void}\ close();}
\DoxyCodeLine{02342\ }
\DoxyCodeLine{02343\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ NO\_INDEX\ =\ INT\_MAX;}
\DoxyCodeLine{02344\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ OPEN\_BRACKET\ =\ char(11);}
\DoxyCodeLine{02345\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ CLOSE\_BRACKET\ =\ char(17);}
\DoxyCodeLine{02346\ }
\DoxyCodeLine{02347\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ WORD\ LightGray\ =\ 0x07;}
\DoxyCodeLine{02348\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ WORD\ LightRed\ =\ 0x0c;}
\DoxyCodeLine{02349\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ WORD\ LightCyan\ =\ 0x0b;}
\DoxyCodeLine{02350\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ WORD\ LightGreen\ =\ 0x0a;}
\DoxyCodeLine{02351\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ WORD\ LightYellow\ =\ 0x0e;}
\DoxyCodeLine{02352\ }
\DoxyCodeLine{02353\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ textColor(WORD\ color);}
\DoxyCodeLine{02354\ }
\DoxyCodeLine{02355\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ quitscr(WORD\ color,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg);}
\DoxyCodeLine{02356\ }
\DoxyCodeLine{02357\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ quitscrS(WORD\ color,\ std::string\ msg);}
\DoxyCodeLine{02358\ }
\DoxyCodeLine{02359\ \ \ \ \ \textcolor{keywordtype}{void}\ xmlSafeWrite(std::FILE\ *file,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg);}
\DoxyCodeLine{02360\ }
\DoxyCodeLine{02361\ \ \ \ \ \textcolor{comment}{/*\ Skips\ UTF-\/8\ Byte\ Order\ Mark.\ */}}
\DoxyCodeLine{02362\ \ \ \ \ \textcolor{keywordtype}{void}\ skipBom();}
\DoxyCodeLine{02363\ }
\DoxyCodeLine{02364\ \textcolor{keyword}{private}:}
\DoxyCodeLine{02365\ \ \ \ \ \mbox{\hyperlink{struct_in_stream}{InStream}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_in_stream}{InStream}}\ \&);}
\DoxyCodeLine{02366\ }
\DoxyCodeLine{02367\ \ \ \ \ \mbox{\hyperlink{struct_in_stream}{InStream}}\ \&operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_in_stream}{InStream}}\ \&);}
\DoxyCodeLine{02368\ \};}
\DoxyCodeLine{02369\ }
\DoxyCodeLine{02370\ \mbox{\hyperlink{struct_in_stream}{InStream}}\ inf;}
\DoxyCodeLine{02371\ \mbox{\hyperlink{struct_in_stream}{InStream}}\ ouf;}
\DoxyCodeLine{02372\ \mbox{\hyperlink{struct_in_stream}{InStream}}\ ans;}
\DoxyCodeLine{02373\ \textcolor{keywordtype}{bool}\ appesMode;}
\DoxyCodeLine{02374\ std::string\ appesModeEncoding\ =\ \textcolor{stringliteral}{"{}windows-\/1251"{}};}
\DoxyCodeLine{02375\ std::string\ resultName;}
\DoxyCodeLine{02376\ std::string\ checkerName\ =\ \textcolor{stringliteral}{"{}untitled\ checker"{}};}
\DoxyCodeLine{02377\ \mbox{\hyperlink{classrandom__t}{random\_t}}\ rnd;}
\DoxyCodeLine{02378\ TTestlibMode\ testlibMode\ =\ \_unknown;}
\DoxyCodeLine{02379\ \textcolor{keywordtype}{double}\ \_\_testlib\_points\ =\ std::numeric\_limits<float>::infinity();}
\DoxyCodeLine{02380\ }
\DoxyCodeLine{02381\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}\ \{}
\DoxyCodeLine{02382\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ EPS;}
\DoxyCodeLine{02383\ \ \ \ \ \textcolor{keywordtype}{bool}\ minHit;}
\DoxyCodeLine{02384\ \ \ \ \ \textcolor{keywordtype}{bool}\ maxHit;}
\DoxyCodeLine{02385\ }
\DoxyCodeLine{02386\ \ \ \ \ \mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}(\textcolor{keywordtype}{bool}\ minHit\ =\ \textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ maxHit\ =\ \textcolor{keyword}{false})\ :\ minHit(minHit),\ maxHit(maxHit)\ \{}
\DoxyCodeLine{02387\ \ \ \ \ \};}
\DoxyCodeLine{02388\ }
\DoxyCodeLine{02389\ \ \ \ \ \mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}\ merge(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}\ \&validatorBoundsHit,\ \textcolor{keywordtype}{bool}\ ignoreMinBound,\ \textcolor{keywordtype}{bool}\ ignoreMaxBound)\ \{}
\DoxyCodeLine{02390\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}(}
\DoxyCodeLine{02391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_max(minHit,\ validatorBoundsHit.minHit)\ ||\ ignoreMinBound,}
\DoxyCodeLine{02392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_max(maxHit,\ validatorBoundsHit.maxHit)\ ||\ ignoreMaxBound}
\DoxyCodeLine{02393\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{02394\ \ \ \ \ \}}
\DoxyCodeLine{02395\ \};}
\DoxyCodeLine{02396\ }
\DoxyCodeLine{02397\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ ValidatorBoundsHit::EPS\ =\ 1E-\/12;}
\DoxyCodeLine{02398\ }
\DoxyCodeLine{02399\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_validator}{Validator}}\ \{}
\DoxyCodeLine{02400\ \textcolor{keyword}{private}:}
\DoxyCodeLine{02401\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ std::string\ TEST\_MARKUP\_HEADER;}
\DoxyCodeLine{02402\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ std::string\ TEST\_CASE\_OPEN\_TAG;}
\DoxyCodeLine{02403\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ std::string\ TEST\_CASE\_CLOSE\_TAG;}
\DoxyCodeLine{02404\ }
\DoxyCodeLine{02405\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_initialized;}
\DoxyCodeLine{02406\ \ \ \ \ std::string\ \_testset;}
\DoxyCodeLine{02407\ \ \ \ \ std::string\ \_group;}
\DoxyCodeLine{02408\ }
\DoxyCodeLine{02409\ \ \ \ \ std::string\ \_testOverviewLogFileName;}
\DoxyCodeLine{02410\ \ \ \ \ std::string\ \_testMarkupFileName;}
\DoxyCodeLine{02411\ \ \ \ \ \textcolor{keywordtype}{int}\ \_testCase\ =\ -\/1;}
\DoxyCodeLine{02412\ \ \ \ \ std::string\ \_testCaseFileName;}
\DoxyCodeLine{02413\ }
\DoxyCodeLine{02414\ \ \ \ \ std::map<std::string,\ ValidatorBoundsHit>\ \_boundsHitByVariableName;}
\DoxyCodeLine{02415\ \ \ \ \ std::set<std::string>\ \_features;}
\DoxyCodeLine{02416\ \ \ \ \ std::set<std::string>\ \_hitFeatures;}
\DoxyCodeLine{02417\ }
\DoxyCodeLine{02418\ \ \ \ \ \textcolor{keywordtype}{bool}\ isVariableNameBoundsAnalyzable(\textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{02419\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ variableName.length();\ i++)}
\DoxyCodeLine{02420\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((variableName[i]\ >=\ \textcolor{charliteral}{'0'}\ \&\&\ variableName[i]\ <=\ \textcolor{charliteral}{'9'})\ ||\ variableName[i]\ <\ \textcolor{charliteral}{'\ '})}
\DoxyCodeLine{02421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02422\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02423\ \ \ \ \ \}}
\DoxyCodeLine{02424\ }
\DoxyCodeLine{02425\ \ \ \ \ \textcolor{keywordtype}{bool}\ isFeatureNameAnalyzable(\textcolor{keyword}{const}\ std::string\ \&featureName)\ \{}
\DoxyCodeLine{02426\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ featureName.length();\ i++)}
\DoxyCodeLine{02427\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (featureName[i]\ <\ \textcolor{charliteral}{'\ '})}
\DoxyCodeLine{02428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02429\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02430\ \ \ \ \ \}}
\DoxyCodeLine{02431\ }
\DoxyCodeLine{02432\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02433\ \ \ \ \ \mbox{\hyperlink{class_validator}{Validator}}()\ :\ \_initialized(\textcolor{keyword}{false}),\ \_testset(\textcolor{stringliteral}{"{}tests"{}}),\ \_group()\ \{}
\DoxyCodeLine{02434\ \ \ \ \ \}}
\DoxyCodeLine{02435\ }
\DoxyCodeLine{02436\ \ \ \ \ \textcolor{keywordtype}{void}\ initialize()\ \{}
\DoxyCodeLine{02437\ \ \ \ \ \ \ \ \ \_initialized\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02438\ \ \ \ \ \}}
\DoxyCodeLine{02439\ }
\DoxyCodeLine{02440\ \ \ \ \ std::string\ testset()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_initialized)}
\DoxyCodeLine{02442\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Validator\ should\ be\ initialized\ with\ registerValidation(argc,\ argv)\ instead\ of\ registerValidation()\ to\ support\ validator.testset()"{}});}
\DoxyCodeLine{02443\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_testset;}
\DoxyCodeLine{02444\ \ \ \ \ \}}
\DoxyCodeLine{02445\ }
\DoxyCodeLine{02446\ \ \ \ \ std::string\ group()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02447\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_initialized)}
\DoxyCodeLine{02448\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Validator\ should\ be\ initialized\ with\ registerValidation(argc,\ argv)\ instead\ of\ registerValidation()\ to\ support\ validator.group()"{}});}
\DoxyCodeLine{02449\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_group;}
\DoxyCodeLine{02450\ \ \ \ \ \}}
\DoxyCodeLine{02451\ }
\DoxyCodeLine{02452\ \ \ \ \ std::string\ testOverviewLogFileName()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02453\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_testOverviewLogFileName;}
\DoxyCodeLine{02454\ \ \ \ \ \}}
\DoxyCodeLine{02455\ }
\DoxyCodeLine{02456\ \ \ \ \ std::string\ testMarkupFileName()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02457\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_testMarkupFileName;}
\DoxyCodeLine{02458\ \ \ \ \ \}}
\DoxyCodeLine{02459\ }
\DoxyCodeLine{02460\ \ \ \ \ \textcolor{keywordtype}{int}\ testCase()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02461\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_testCase;}
\DoxyCodeLine{02462\ \ \ \ \ \}}
\DoxyCodeLine{02463\ }
\DoxyCodeLine{02464\ \ \ \ \ std::string\ testCaseFileName()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02465\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_testCaseFileName;}
\DoxyCodeLine{02466\ \ \ \ \ \}}
\DoxyCodeLine{02467\ }
\DoxyCodeLine{02468\ \ \ \ \ \textcolor{keywordtype}{void}\ setTestset(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keyword}{const}\ testset)\ \{}
\DoxyCodeLine{02469\ \ \ \ \ \ \ \ \ \_testset\ =\ testset;}
\DoxyCodeLine{02470\ \ \ \ \ \}}
\DoxyCodeLine{02471\ }
\DoxyCodeLine{02472\ \ \ \ \ \textcolor{keywordtype}{void}\ setGroup(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keyword}{const}\ group)\ \{}
\DoxyCodeLine{02473\ \ \ \ \ \ \ \ \ \_group\ =\ group;}
\DoxyCodeLine{02474\ \ \ \ \ \}}
\DoxyCodeLine{02475\ }
\DoxyCodeLine{02476\ \ \ \ \ \textcolor{keywordtype}{void}\ setTestOverviewLogFileName(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keyword}{const}\ testOverviewLogFileName)\ \{}
\DoxyCodeLine{02477\ \ \ \ \ \ \ \ \ \_testOverviewLogFileName\ =\ testOverviewLogFileName;}
\DoxyCodeLine{02478\ \ \ \ \ \}}
\DoxyCodeLine{02479\ }
\DoxyCodeLine{02480\ \ \ \ \ \textcolor{keywordtype}{void}\ setTestMarkupFileName(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keyword}{const}\ testMarkupFileName)\ \{}
\DoxyCodeLine{02481\ \ \ \ \ \ \ \ \ \_testMarkupFileName\ =\ testMarkupFileName;}
\DoxyCodeLine{02482\ \ \ \ \ \}}
\DoxyCodeLine{02483\ }
\DoxyCodeLine{02484\ \ \ \ \ \textcolor{keywordtype}{void}\ setTestCase(\textcolor{keywordtype}{int}\ testCase)\ \{}
\DoxyCodeLine{02485\ \ \ \ \ \ \ \ \ \_testCase\ =\ testCase;}
\DoxyCodeLine{02486\ \ \ \ \ \}}
\DoxyCodeLine{02487\ }
\DoxyCodeLine{02488\ \ \ \ \ \textcolor{keywordtype}{void}\ setTestCaseFileName(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keyword}{const}\ testCaseFileName)\ \{}
\DoxyCodeLine{02489\ \ \ \ \ \ \ \ \ \_testCaseFileName\ =\ testCaseFileName;}
\DoxyCodeLine{02490\ \ \ \ \ \}}
\DoxyCodeLine{02491\ }
\DoxyCodeLine{02492\ \ \ \ \ std::string\ prepVariableName(\textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{02493\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.length()\ >=\ 2\ \&\&\ variableName\ !=\ \textcolor{stringliteral}{"{}\string~\string~"{}})\ \{}
\DoxyCodeLine{02494\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName[0]\ ==\ \textcolor{charliteral}{'\string~'}\ \&\&\ variableName.back()\ !=\ \textcolor{charliteral}{'\string~'})}
\DoxyCodeLine{02495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ variableName.substr(1);}
\DoxyCodeLine{02496\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName[0]\ !=\ \textcolor{charliteral}{'\string~'}\ \&\&\ variableName.back()\ ==\ \textcolor{charliteral}{'\string~'})}
\DoxyCodeLine{02497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ variableName.substr(0,\ variableName.length()\ -\/\ 1);}
\DoxyCodeLine{02498\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName[0]\ ==\ \textcolor{charliteral}{'\string~'}\ \&\&\ variableName.back()\ ==\ \textcolor{charliteral}{'\string~'})}
\DoxyCodeLine{02499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ variableName.substr(1,\ variableName.length()\ -\/\ 2);}
\DoxyCodeLine{02500\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02501\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ variableName;}
\DoxyCodeLine{02502\ \ \ \ \ \}}
\DoxyCodeLine{02503\ }
\DoxyCodeLine{02504\ \ \ \ \ \textcolor{keywordtype}{bool}\ ignoreMinBound(\textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{02505\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ variableName.length()\ >=\ 2\ \&\&\ variableName\ !=\ \textcolor{stringliteral}{"{}\string~\string~"{}}\ \&\&\ variableName[0]\ ==\ \textcolor{charliteral}{'\string~'};}
\DoxyCodeLine{02506\ \ \ \ \ \}}
\DoxyCodeLine{02507\ }
\DoxyCodeLine{02508\ \ \ \ \ \textcolor{keywordtype}{bool}\ ignoreMaxBound(\textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{02509\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ variableName.length()\ >=\ 2\ \&\&\ variableName\ !=\ \textcolor{stringliteral}{"{}\string~\string~"{}}\ \&\&\ variableName.back()\ ==\ \textcolor{charliteral}{'\string~'};}
\DoxyCodeLine{02510\ \ \ \ \ \}}
\DoxyCodeLine{02511\ }
\DoxyCodeLine{02512\ \ \ \ \ \textcolor{keywordtype}{void}\ addBoundsHit(\textcolor{keyword}{const}\ std::string\ \&variableName,\ \mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}\ boundsHit)\ \{}
\DoxyCodeLine{02513\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isVariableNameBoundsAnalyzable(variableName))\ \{}
\DoxyCodeLine{02514\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ preparedVariableName\ =\ prepVariableName(variableName);}
\DoxyCodeLine{02515\ \ \ \ \ \ \ \ \ \ \ \ \ \_boundsHitByVariableName[preparedVariableName]\ =\ boundsHit.merge(\_boundsHitByVariableName[preparedVariableName],}
\DoxyCodeLine{02516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ignoreMinBound(variableName),\ ignoreMaxBound(variableName));}
\DoxyCodeLine{02517\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02518\ \ \ \ \ \}}
\DoxyCodeLine{02519\ }
\DoxyCodeLine{02520\ \ \ \ \ std::string\ getBoundsHitLog()\ \{}
\DoxyCodeLine{02521\ \ \ \ \ \ \ \ \ std::string\ result;}
\DoxyCodeLine{02522\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ ValidatorBoundsHit>::iterator\ i\ =\ \_boundsHitByVariableName.begin();}
\DoxyCodeLine{02523\ \ \ \ \ \ \ \ \ \ \ \ \ \ i\ !=\ \_boundsHitByVariableName.end();}
\DoxyCodeLine{02524\ \ \ \ \ \ \ \ \ \ \ \ \ \ i++)\ \{}
\DoxyCodeLine{02525\ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}\ +\ i-\/>first\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}:"{}};}
\DoxyCodeLine{02526\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i-\/>second.minHit)}
\DoxyCodeLine{02527\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{}\ min-\/value-\/hit"{}};}
\DoxyCodeLine{02528\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i-\/>second.maxHit)}
\DoxyCodeLine{02529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{}\ max-\/value-\/hit"{}};}
\DoxyCodeLine{02530\ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{02531\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02532\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{02533\ \ \ \ \ \}}
\DoxyCodeLine{02534\ }
\DoxyCodeLine{02535\ \ \ \ \ std::string\ getFeaturesLog()\ \{}
\DoxyCodeLine{02536\ \ \ \ \ \ \ \ \ std::string\ result;}
\DoxyCodeLine{02537\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (std::set<std::string>::iterator\ i\ =\ \_features.begin();}
\DoxyCodeLine{02538\ \ \ \ \ \ \ \ \ \ \ \ \ \ i\ !=\ \_features.end();}
\DoxyCodeLine{02539\ \ \ \ \ \ \ \ \ \ \ \ \ \ i++)\ \{}
\DoxyCodeLine{02540\ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{}feature\ \(\backslash\)"{}"{}}\ +\ *i\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}:"{}};}
\DoxyCodeLine{02541\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_hitFeatures.count(*i))}
\DoxyCodeLine{02542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{}\ hit"{}};}
\DoxyCodeLine{02543\ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{02544\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02545\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{02546\ \ \ \ \ \}}
\DoxyCodeLine{02547\ }
\DoxyCodeLine{02548\ \ \ \ \ \textcolor{keywordtype}{void}\ writeTestOverviewLog()\ \{}
\DoxyCodeLine{02549\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_testOverviewLogFileName.empty())\ \{}
\DoxyCodeLine{02550\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ fileName(\_testOverviewLogFileName);}
\DoxyCodeLine{02551\ \ \ \ \ \ \ \ \ \ \ \ \ \_testOverviewLogFileName\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{02552\ }
\DoxyCodeLine{02553\ \ \ \ \ \ \ \ \ \ \ \ \ FILE*\ f;}
\DoxyCodeLine{02554\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ standard\_file\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02555\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fileName\ ==\ \textcolor{stringliteral}{"{}stdout"{}})}
\DoxyCodeLine{02556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ stdout,\ standard\_file\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02557\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (fileName\ ==\ \textcolor{stringliteral}{"{}stderr"{}})}
\DoxyCodeLine{02558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ stderr,\ standard\_file\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02559\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02560\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ fopen(fileName.c\_str(),\ \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{02561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ f)}
\DoxyCodeLine{02562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Validator::writeTestOverviewLog:\ can't\ write\ test\ overview\ log\ to\ ("{}}\ +\ fileName\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{02563\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02564\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(f,\ \textcolor{stringliteral}{"{}\%s\%s"{}},\ getBoundsHitLog().c\_str(),\ getFeaturesLog().c\_str());}
\DoxyCodeLine{02565\ \ \ \ \ \ \ \ \ \ \ \ \ std::fflush(f);}
\DoxyCodeLine{02566\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!standard\_file)}
\DoxyCodeLine{02567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::fclose(f))}
\DoxyCodeLine{02568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Validator::writeTestOverviewLog:\ can't\ close\ test\ overview\ log\ file\ ("{}}\ +\ fileName\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{02569\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02570\ \ \ \ \ \}}
\DoxyCodeLine{02571\ }
\DoxyCodeLine{02572\ \ \ \ \ \textcolor{keywordtype}{void}\ writeTestMarkup()\ \{}
\DoxyCodeLine{02573\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_testMarkupFileName.empty())\ \{}
\DoxyCodeLine{02574\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<int>\ readChars\ =\ inf.getReadChars();}
\DoxyCodeLine{02575\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!readChars.empty())\ \{}
\DoxyCodeLine{02576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ markup(TEST\_MARKUP\_HEADER);}
\DoxyCodeLine{02577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ readChars.size();\ i++)\ \{}
\DoxyCodeLine{02578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ c\ =\ readChars[i];}
\DoxyCodeLine{02579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ ==\ readChars.size()\ \&\&\ c\ ==\ -\/1)}
\DoxyCodeLine{02580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{02581\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ <=\ 256)\ \{}
\DoxyCodeLine{02582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ cc\ =\ char(c);}
\DoxyCodeLine{02583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cc\ ==\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}\ ||\ cc\ ==\ \textcolor{charliteral}{'!'})}
\DoxyCodeLine{02584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ markup\ +=\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'};}
\DoxyCodeLine{02585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ markup\ +=\ cc;}
\DoxyCodeLine{02586\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02587\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ markup\ +=\ TEST\_CASE\_OPEN\_TAG;}
\DoxyCodeLine{02588\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ markup\ +=\ toString(c\ -\/\ 256);}
\DoxyCodeLine{02589\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ markup\ +=\ TEST\_CASE\_CLOSE\_TAG;}
\DoxyCodeLine{02590\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02592\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FILE*\ f;}
\DoxyCodeLine{02593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ standard\_file\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_testMarkupFileName\ ==\ \textcolor{stringliteral}{"{}stdout"{}})}
\DoxyCodeLine{02595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ stdout,\ standard\_file\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\_testMarkupFileName\ ==\ \textcolor{stringliteral}{"{}stderr"{}})}
\DoxyCodeLine{02597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ stderr,\ standard\_file\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02599\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ fopen(\_testMarkupFileName.c\_str(),\ \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{02600\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ f)}
\DoxyCodeLine{02601\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Validator::writeTestMarkup:\ can't\ write\ test\ markup\ to\ ("{}}\ +\ \_testMarkupFileName\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{02602\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(f,\ \textcolor{stringliteral}{"{}\%s"{}},\ markup.c\_str());}
\DoxyCodeLine{02604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::fflush(f);}
\DoxyCodeLine{02605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!standard\_file)}
\DoxyCodeLine{02606\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::fclose(f))}
\DoxyCodeLine{02607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Validator::writeTestMarkup:\ can't\ close\ test\ markup\ file\ ("{}}\ +\ \_testCaseFileName\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{02608\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02609\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02610\ \ \ \ \ \}}
\DoxyCodeLine{02611\ }
\DoxyCodeLine{02612\ \ \ \ \ \textcolor{keywordtype}{void}\ writeTestCase()\ \{}
\DoxyCodeLine{02613\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_testCase\ >\ 0)\ \{}
\DoxyCodeLine{02614\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<int>\ readChars\ =\ inf.getReadChars();}
\DoxyCodeLine{02615\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!readChars.empty())\ \{}
\DoxyCodeLine{02616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ content,\ testCaseContent;}
\DoxyCodeLine{02617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ matchedTestCase\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ readChars.size();\ i++)\ \{}
\DoxyCodeLine{02619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ c\ =\ readChars[i];}
\DoxyCodeLine{02620\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ ==\ readChars.size()\ \&\&\ c\ ==\ -\/1)}
\DoxyCodeLine{02621\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{02622\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ <=\ 256)}
\DoxyCodeLine{02623\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ content\ +=\ char(c);}
\DoxyCodeLine{02624\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02625\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (matchedTestCase)\ \{}
\DoxyCodeLine{02626\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ testCaseContent\ =\ content;}
\DoxyCodeLine{02627\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matchedTestCase\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02628\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02629\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ content\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{02630\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ testCase\ =\ c\ -\/\ 256;}
\DoxyCodeLine{02631\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (testCase\ ==\ \_testCase)}
\DoxyCodeLine{02632\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matchedTestCase\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02633\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02634\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02635\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (matchedTestCase)}
\DoxyCodeLine{02636\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ testCaseContent\ =\ content;}
\DoxyCodeLine{02637\ }
\DoxyCodeLine{02638\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!testCaseContent.empty())\ \{}
\DoxyCodeLine{02639\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FILE*\ f;}
\DoxyCodeLine{02640\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ standard\_file\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_testCaseFileName.empty()\ ||\ \_testCaseFileName\ ==\ \textcolor{stringliteral}{"{}stdout"{}})}
\DoxyCodeLine{02642\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ stdout,\ standard\_file\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02643\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\_testCaseFileName\ ==\ \textcolor{stringliteral}{"{}stderr"{}})}
\DoxyCodeLine{02644\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ stderr,\ standard\_file\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02645\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02646\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ fopen(\_testCaseFileName.c\_str(),\ \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{02647\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ f)}
\DoxyCodeLine{02648\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Validator::writeTestCase:\ can't\ write\ test\ case\ to\ ("{}}\ +\ \_testCaseFileName\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{02649\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02650\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(f,\ \textcolor{stringliteral}{"{}\%s"{}},\ testCaseContent.c\_str());}
\DoxyCodeLine{02651\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::fflush(f);}
\DoxyCodeLine{02652\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!standard\_file)}
\DoxyCodeLine{02653\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::fclose(f))}
\DoxyCodeLine{02654\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Validator::writeTestCase:\ can't\ close\ test\ case\ file\ ("{}}\ +\ \_testCaseFileName\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{02655\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02656\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02657\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02658\ \ \ \ \ \}}
\DoxyCodeLine{02659\ }
\DoxyCodeLine{02660\ \ \ \ \ \textcolor{keywordtype}{void}\ addFeature(\textcolor{keyword}{const}\ std::string\ \&feature)\ \{}
\DoxyCodeLine{02661\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_features.count(feature))}
\DoxyCodeLine{02662\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Feature\ "{}}\ +\ feature\ +\ \textcolor{stringliteral}{"{}\ registered\ twice."{}});}
\DoxyCodeLine{02663\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!isFeatureNameAnalyzable(feature))}
\DoxyCodeLine{02664\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Feature\ name\ '"{}}\ +\ feature\ +\ \textcolor{stringliteral}{"{}'\ contains\ restricted\ characters."{}});}
\DoxyCodeLine{02665\ }
\DoxyCodeLine{02666\ \ \ \ \ \ \ \ \ \_features.insert(feature);}
\DoxyCodeLine{02667\ \ \ \ \ \}}
\DoxyCodeLine{02668\ }
\DoxyCodeLine{02669\ \ \ \ \ \textcolor{keywordtype}{void}\ feature(\textcolor{keyword}{const}\ std::string\ \&feature)\ \{}
\DoxyCodeLine{02670\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!isFeatureNameAnalyzable(feature))}
\DoxyCodeLine{02671\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Feature\ name\ '"{}}\ +\ feature\ +\ \textcolor{stringliteral}{"{}'\ contains\ restricted\ characters."{}});}
\DoxyCodeLine{02672\ }
\DoxyCodeLine{02673\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_features.count(feature))}
\DoxyCodeLine{02674\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Feature\ "{}}\ +\ feature\ +\ \textcolor{stringliteral}{"{}\ didn't\ registered\ via\ addFeature(feature)."{}});}
\DoxyCodeLine{02675\ }
\DoxyCodeLine{02676\ \ \ \ \ \ \ \ \ \_hitFeatures.insert(feature);}
\DoxyCodeLine{02677\ \ \ \ \ \}}
\DoxyCodeLine{02678\ \}\ validator;}
\DoxyCodeLine{02679\ }
\DoxyCodeLine{02680\ \textcolor{keyword}{const}\ std::string\ Validator::TEST\_MARKUP\_HEADER\ =\ \textcolor{stringliteral}{"{}MU\(\backslash\)xF3\(\backslash\)x01"{}};}
\DoxyCodeLine{02681\ \textcolor{keyword}{const}\ std::string\ Validator::TEST\_CASE\_OPEN\_TAG\ =\ \textcolor{stringliteral}{"{}!c"{}};}
\DoxyCodeLine{02682\ \textcolor{keyword}{const}\ std::string\ Validator::TEST\_CASE\_CLOSE\_TAG\ =\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{02683\ }
\DoxyCodeLine{02684\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_testlib_finalize_guard}{TestlibFinalizeGuard}}\ \{}
\DoxyCodeLine{02685\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ alive;}
\DoxyCodeLine{02686\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ registered;}
\DoxyCodeLine{02687\ }
\DoxyCodeLine{02688\ \ \ \ \ \textcolor{keywordtype}{int}\ quitCount,\ readEofCount;}
\DoxyCodeLine{02689\ }
\DoxyCodeLine{02690\ \ \ \ \ \mbox{\hyperlink{struct_testlib_finalize_guard}{TestlibFinalizeGuard}}()\ :\ quitCount(0),\ readEofCount(0)\ \{}
\DoxyCodeLine{02691\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ operations.}}
\DoxyCodeLine{02692\ \ \ \ \ \}}
\DoxyCodeLine{02693\ }
\DoxyCodeLine{02694\ \ \ \ \ \mbox{\hyperlink{struct_testlib_finalize_guard}{\string~TestlibFinalizeGuard}}()\ \{}
\DoxyCodeLine{02695\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \_alive\ =\ alive;}
\DoxyCodeLine{02696\ \ \ \ \ \ \ \ \ alive\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02697\ }
\DoxyCodeLine{02698\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_alive)\ \{}
\DoxyCodeLine{02699\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (testlibMode\ ==\ \_checker\ \&\&\ quitCount\ ==\ 0)}
\DoxyCodeLine{02700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Checker\ must\ end\ with\ quit\ or\ quitf\ call."{}});}
\DoxyCodeLine{02701\ }
\DoxyCodeLine{02702\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (testlibMode\ ==\ \_validator\ \&\&\ readEofCount\ ==\ 0\ \&\&\ quitCount\ ==\ 0)}
\DoxyCodeLine{02703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Validator\ must\ end\ with\ readEof\ call."{}});}
\DoxyCodeLine{02704\ }
\DoxyCodeLine{02705\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ opts\ */}}
\DoxyCodeLine{02706\ \ \ \ \ \ \ \ \ \ \ \ \ autoEnsureNoUnusedOpts();}
\DoxyCodeLine{02707\ }
\DoxyCodeLine{02708\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!registered)}
\DoxyCodeLine{02709\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Call\ register-\/function\ in\ the\ first\ line\ of\ the\ main\ (registerTestlibCmd\ or\ other\ similar)"{}});}
\DoxyCodeLine{02710\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02711\ }
\DoxyCodeLine{02712\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_testlib\_exitCode\ ==\ 0)\ \{}
\DoxyCodeLine{02713\ \ \ \ \ \ \ \ \ \ \ \ \ validator.writeTestOverviewLog();}
\DoxyCodeLine{02714\ \ \ \ \ \ \ \ \ \ \ \ \ validator.writeTestMarkup();}
\DoxyCodeLine{02715\ \ \ \ \ \ \ \ \ \ \ \ \ validator.writeTestCase();}
\DoxyCodeLine{02716\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02717\ \ \ \ \ \}}
\DoxyCodeLine{02718\ }
\DoxyCodeLine{02719\ \textcolor{keyword}{private}:}
\DoxyCodeLine{02720\ \ \ \ \ \textcolor{comment}{/*\ opts\ */}}
\DoxyCodeLine{02721\ \ \ \ \ \textcolor{keywordtype}{void}\ autoEnsureNoUnusedOpts();}
\DoxyCodeLine{02722\ \};}
\DoxyCodeLine{02723\ }
\DoxyCodeLine{02724\ \textcolor{keywordtype}{bool}\ TestlibFinalizeGuard::alive\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02725\ \textcolor{keywordtype}{bool}\ TestlibFinalizeGuard::registered\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02726\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_testlib_finalize_guard}{TestlibFinalizeGuard}}\ testlibFinalizeGuard;}
\DoxyCodeLine{02727\ }
\DoxyCodeLine{02728\ \textcolor{comment}{/*}}
\DoxyCodeLine{02729\ \textcolor{comment}{\ *\ Call\ it\ to\ disable\ checks\ on\ finalization.}}
\DoxyCodeLine{02730\ \textcolor{comment}{\ */}}
\DoxyCodeLine{02731\ \textcolor{keywordtype}{void}\ disableFinalizeGuard()\ \{}
\DoxyCodeLine{02732\ \ \ \ \ TestlibFinalizeGuard::alive\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02733\ \}}
\DoxyCodeLine{02734\ }
\DoxyCodeLine{02735\ \textcolor{comment}{/*\ Interactor\ streams.}}
\DoxyCodeLine{02736\ \textcolor{comment}{\ */}}
\DoxyCodeLine{02737\ std::fstream\ tout;}
\DoxyCodeLine{02738\ }
\DoxyCodeLine{02739\ \textcolor{comment}{/*\ implementation}}
\DoxyCodeLine{02740\ \textcolor{comment}{\ */}}
\DoxyCodeLine{02741\ }
\DoxyCodeLine{02742\ InStream::InStream()\ \{}
\DoxyCodeLine{02743\ \ \ \ \ reader\ =\ NULL;}
\DoxyCodeLine{02744\ \ \ \ \ lastLine\ =\ -\/1;}
\DoxyCodeLine{02745\ \ \ \ \ opened\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02746\ \ \ \ \ name\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{02747\ \ \ \ \ mode\ =\ \_input;}
\DoxyCodeLine{02748\ \ \ \ \ strict\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02749\ \ \ \ \ stdfile\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02750\ \ \ \ \ wordReserveSize\ =\ 4;}
\DoxyCodeLine{02751\ \ \ \ \ readManyIteration\ =\ NO\_INDEX;}
\DoxyCodeLine{02752\ \ \ \ \ maxFileSize\ =\ 128\ *\ 1024\ *\ 1024;\ \textcolor{comment}{//\ 128MB.}}
\DoxyCodeLine{02753\ \ \ \ \ maxTokenLength\ =\ 32\ *\ 1024\ *\ 1024;\ \textcolor{comment}{//\ 32MB.}}
\DoxyCodeLine{02754\ \ \ \ \ maxMessageLength\ =\ 32000;}
\DoxyCodeLine{02755\ \}}
\DoxyCodeLine{02756\ }
\DoxyCodeLine{02757\ InStream::InStream(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_in_stream}{InStream}}\ \&baseStream,\ std::string\ content)\ \{}
\DoxyCodeLine{02758\ \ \ \ \ reader\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_string_input_stream_reader}{StringInputStreamReader}}(content);}
\DoxyCodeLine{02759\ \ \ \ \ lastLine\ =\ -\/1;}
\DoxyCodeLine{02760\ \ \ \ \ opened\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02761\ \ \ \ \ strict\ =\ baseStream.strict;}
\DoxyCodeLine{02762\ \ \ \ \ stdfile\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02763\ \ \ \ \ mode\ =\ baseStream.mode;}
\DoxyCodeLine{02764\ \ \ \ \ name\ =\ \textcolor{stringliteral}{"{}based\ on\ "{}}\ +\ baseStream.name;}
\DoxyCodeLine{02765\ \ \ \ \ readManyIteration\ =\ NO\_INDEX;}
\DoxyCodeLine{02766\ \ \ \ \ maxFileSize\ =\ 128\ *\ 1024\ *\ 1024;\ \textcolor{comment}{//\ 128MB.}}
\DoxyCodeLine{02767\ \ \ \ \ maxTokenLength\ =\ 32\ *\ 1024\ *\ 1024;\ \textcolor{comment}{//\ 32MB.}}
\DoxyCodeLine{02768\ \ \ \ \ maxMessageLength\ =\ 32000;}
\DoxyCodeLine{02769\ \}}
\DoxyCodeLine{02770\ }
\DoxyCodeLine{02771\ InStream::\string~InStream()\ \{}
\DoxyCodeLine{02772\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ !=\ reader)\ \{}
\DoxyCodeLine{02773\ \ \ \ \ \ \ \ \ reader-\/>close();}
\DoxyCodeLine{02774\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ reader;}
\DoxyCodeLine{02775\ \ \ \ \ \ \ \ \ reader\ =\ NULL;}
\DoxyCodeLine{02776\ \ \ \ \ \}}
\DoxyCodeLine{02777\ \}}
\DoxyCodeLine{02778\ }
\DoxyCodeLine{02779\ \textcolor{keywordtype}{void}\ InStream::setTestCase(\textcolor{keywordtype}{int}\ testCase)\ \{}
\DoxyCodeLine{02780\ \ \ \ \ \textcolor{keywordflow}{if}\ (testlibMode\ !=\ \_validator\ ||\ mode\ !=\ \_input\ ||\ !stdfile\ ||\ \textcolor{keyword}{this}\ !=\ \&inf)}
\DoxyCodeLine{02781\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}InStream::setTestCase\ can\ be\ used\ only\ for\ inf\ in\ validator-\/mode."{}}}
\DoxyCodeLine{02782\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ Actually,\ prefer\ setTestCase\ function\ instead\ of\ InStream\ member"{}});}
\DoxyCodeLine{02783\ \ \ \ \ reader-\/>setTestCase(testCase);}
\DoxyCodeLine{02784\ \}}
\DoxyCodeLine{02785\ }
\DoxyCodeLine{02786\ std::vector<int>\ InStream::getReadChars()\ \{}
\DoxyCodeLine{02787\ \ \ \ \ \textcolor{keywordflow}{if}\ (testlibMode\ !=\ \_validator\ ||\ mode\ !=\ \_input\ ||\ !stdfile\ ||\ \textcolor{keyword}{this}\ !=\ \&inf)}
\DoxyCodeLine{02788\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}InStream::getReadChars\ can\ be\ used\ only\ for\ inf\ in\ validator-\/mode."{}});}
\DoxyCodeLine{02789\ \ \ \ \ \textcolor{keywordflow}{return}\ reader\ ==\ NULL\ ?\ std::vector<int>()\ :\ reader-\/>getReadChars();}
\DoxyCodeLine{02790\ \}}
\DoxyCodeLine{02791\ }
\DoxyCodeLine{02792\ \textcolor{keywordtype}{void}\ setTestCase(\textcolor{keywordtype}{int}\ testCase)\ \{}
\DoxyCodeLine{02793\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ first\_run\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02794\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ zero\_based\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02795\ }
\DoxyCodeLine{02796\ \ \ \ \ \textcolor{keywordflow}{if}\ (first\_run\ \&\&\ testCase\ ==\ 0)}
\DoxyCodeLine{02797\ \ \ \ \ \ \ \ \ zero\_based\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02798\ }
\DoxyCodeLine{02799\ \ \ \ \ \textcolor{keywordflow}{if}\ (zero\_based)}
\DoxyCodeLine{02800\ \ \ \ \ \ \ \ \ testCase++;}
\DoxyCodeLine{02801\ }
\DoxyCodeLine{02802\ \ \ \ \ \_\_testlib\_hasTestCase\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02803\ \ \ \ \ \_\_testlib\_testCase\ =\ testCase;}
\DoxyCodeLine{02804\ }
\DoxyCodeLine{02805\ \ \ \ \ \textcolor{keywordflow}{if}\ (testlibMode\ ==\ \_validator)}
\DoxyCodeLine{02806\ \ \ \ \ \ \ \ \ inf.setTestCase(testCase);}
\DoxyCodeLine{02807\ }
\DoxyCodeLine{02808\ \ \ \ \ first\_run\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02809\ \}}
\DoxyCodeLine{02810\ }
\DoxyCodeLine{02811\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{02812\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{02813\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02814\ \textcolor{keywordtype}{int}\ resultExitCode(TResult\ r)\ \{}
\DoxyCodeLine{02815\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ ==\ \_ok)}
\DoxyCodeLine{02816\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ OK\_EXIT\_CODE;}
\DoxyCodeLine{02817\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ ==\ \_wa)}
\DoxyCodeLine{02818\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ WA\_EXIT\_CODE;}
\DoxyCodeLine{02819\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ ==\ \_pe)}
\DoxyCodeLine{02820\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ PE\_EXIT\_CODE;}
\DoxyCodeLine{02821\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ ==\ \_fail)}
\DoxyCodeLine{02822\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ FAIL\_EXIT\_CODE;}
\DoxyCodeLine{02823\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ ==\ \_dirt)}
\DoxyCodeLine{02824\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ DIRT\_EXIT\_CODE;}
\DoxyCodeLine{02825\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ ==\ \_points)}
\DoxyCodeLine{02826\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ POINTS\_EXIT\_CODE;}
\DoxyCodeLine{02827\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ ==\ \_unexpected\_eof)}
\DoxyCodeLine{02828\ \textcolor{preprocessor}{\#ifdef\ ENABLE\_UNEXPECTED\_EOF}}
\DoxyCodeLine{02829\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ UNEXPECTED\_EOF\_EXIT\_CODE;}
\DoxyCodeLine{02830\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02831\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ PE\_EXIT\_CODE;}
\DoxyCodeLine{02832\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02833\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ >=\ \_partially)}
\DoxyCodeLine{02834\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ PC\_BASE\_EXIT\_CODE\ +\ (r\ -\/\ \_partially);}
\DoxyCodeLine{02835\ \ \ \ \ \textcolor{keywordflow}{return}\ FAIL\_EXIT\_CODE;}
\DoxyCodeLine{02836\ \}}
\DoxyCodeLine{02837\ }
\DoxyCodeLine{02838\ \textcolor{keywordtype}{void}\ InStream::textColor(}
\DoxyCodeLine{02839\ \#\textcolor{keywordflow}{if}\ !(defined(ON\_WINDOWS)\ \&\&\ (!defined(\_MSC\_VER)\ ||\ \_MSC\_VER\ >\ 1400))\ \&\&\ defined(\_\_GNUC\_\_)}
\DoxyCodeLine{02840\ \ \ \ \ \ \ \ \ \_\_attribute\_\_((unused))}
\DoxyCodeLine{02841\ \#endif}
\DoxyCodeLine{02842\ \ \ \ \ \ \ \ \ WORD\ color}
\DoxyCodeLine{02843\ )\ \{}
\DoxyCodeLine{02844\ \textcolor{preprocessor}{\#if\ defined(ON\_WINDOWS)\ \&\&\ (!defined(\_MSC\_VER)\ ||\ \_MSC\_VER\ >\ 1400)}}
\DoxyCodeLine{02845\ \ \ \ \ HANDLE\ handle\ =\ GetStdHandle(STD\_OUTPUT\_HANDLE);}
\DoxyCodeLine{02846\ \ \ \ \ SetConsoleTextAttribute(handle,\ color);}
\DoxyCodeLine{02847\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02848\ \textcolor{preprocessor}{\#if\ !defined(ON\_WINDOWS)\ \&\&\ defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{02849\ \ \ \ \ \textcolor{keywordflow}{if}\ (isatty(2))}
\DoxyCodeLine{02850\ \ \ \ \ \{}
\DoxyCodeLine{02851\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (color)}
\DoxyCodeLine{02852\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{02853\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ LightRed:}
\DoxyCodeLine{02854\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}\(\backslash\)033[1;31m"{}});}
\DoxyCodeLine{02855\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02856\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ LightCyan:}
\DoxyCodeLine{02857\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}\(\backslash\)033[1;36m"{}});}
\DoxyCodeLine{02858\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02859\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ LightGreen:}
\DoxyCodeLine{02860\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}\(\backslash\)033[1;32m"{}});}
\DoxyCodeLine{02861\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02862\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ LightYellow:}
\DoxyCodeLine{02863\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}\(\backslash\)033[1;33m"{}});}
\DoxyCodeLine{02864\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02865\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ LightGray:}
\DoxyCodeLine{02866\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02867\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}\(\backslash\)033[0m"{}});}
\DoxyCodeLine{02868\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02869\ \ \ \ \ \}}
\DoxyCodeLine{02870\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02871\ \}}
\DoxyCodeLine{02872\ }
\DoxyCodeLine{02873\ \textcolor{preprocessor}{\#ifdef\ TESTLIB\_THROW\_EXIT\_EXCEPTION\_INSTEAD\_OF\_EXIT}}
\DoxyCodeLine{02874\ \textcolor{keyword}{class\ }exit\_exception:\ \textcolor{keyword}{public}\ std::exception\ \{}
\DoxyCodeLine{02875\ \textcolor{keyword}{private}:}
\DoxyCodeLine{02876\ \ \ \ \ \textcolor{keywordtype}{int}\ exitCode;}
\DoxyCodeLine{02877\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02878\ \ \ \ \ exit\_exception(\textcolor{keywordtype}{int}\ exitCode):\ exitCode(exitCode)\ \{\}}
\DoxyCodeLine{02879\ \ \ \ \ \textcolor{keywordtype}{int}\ getExitCode()\ \{\ \textcolor{keywordflow}{return}\ exitCode;\ \}}
\DoxyCodeLine{02880\ \};}
\DoxyCodeLine{02881\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02882\ }
\DoxyCodeLine{02883\ NORETURN\ \textcolor{keywordtype}{void}\ halt(\textcolor{keywordtype}{int}\ exitCode)\ \{}
\DoxyCodeLine{02884\ \textcolor{preprocessor}{\#ifdef\ FOOTER}}
\DoxyCodeLine{02885\ \ \ \ \ InStream::textColor(InStream::LightGray);}
\DoxyCodeLine{02886\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}Checker:\ \(\backslash\)"{}\%s\(\backslash\)"{}\(\backslash\)n"{}},\ checkerName.c\_str());}
\DoxyCodeLine{02887\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}Exit\ code:\ \%d\(\backslash\)n"{}},\ exitCode);}
\DoxyCodeLine{02888\ \ \ \ \ InStream::textColor(InStream::LightGray);}
\DoxyCodeLine{02889\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02890\ \ \ \ \ \_\_testlib\_exitCode\ =\ exitCode;}
\DoxyCodeLine{02891\ \textcolor{preprocessor}{\#ifdef\ TESTLIB\_THROW\_EXIT\_EXCEPTION\_INSTEAD\_OF\_EXIT}}
\DoxyCodeLine{02892\ \ \ \ \ \textcolor{keywordflow}{throw}\ exit\_exception(exitCode);}
\DoxyCodeLine{02893\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02894\ \ \ \ \ std::exit(exitCode);}
\DoxyCodeLine{02895\ \}}
\DoxyCodeLine{02896\ }
\DoxyCodeLine{02897\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \_\_testlib\_shouldCheckDirt(TResult\ result)\ \{}
\DoxyCodeLine{02898\ \ \ \ \ \textcolor{keywordflow}{return}\ result\ ==\ \_ok\ ||\ result\ ==\ \_points\ ||\ result\ >=\ \_partially;}
\DoxyCodeLine{02899\ \}}
\DoxyCodeLine{02900\ }
\DoxyCodeLine{02901\ \textcolor{keyword}{static}\ std::string\ \_\_testlib\_appendMessage(\textcolor{keyword}{const}\ std::string\ \&message,\ \textcolor{keyword}{const}\ std::string\ \&extra)\ \{}
\DoxyCodeLine{02902\ \ \ \ \ \textcolor{keywordtype}{int}\ openPos\ =\ -\/1,\ closePos\ =\ -\/1;}
\DoxyCodeLine{02903\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ message.length();\ i++)\ \{}
\DoxyCodeLine{02904\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (message[i]\ ==\ InStream::OPEN\_BRACKET)\ \{}
\DoxyCodeLine{02905\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (openPos\ ==\ -\/1)}
\DoxyCodeLine{02906\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ openPos\ =\ int(i);}
\DoxyCodeLine{02907\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02908\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ openPos\ =\ INT\_MAX;}
\DoxyCodeLine{02909\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02910\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (message[i]\ ==\ InStream::CLOSE\_BRACKET)\ \{}
\DoxyCodeLine{02911\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (closePos\ ==\ -\/1)}
\DoxyCodeLine{02912\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ closePos\ =\ int(i);}
\DoxyCodeLine{02913\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02914\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ closePos\ =\ INT\_MAX;}
\DoxyCodeLine{02915\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02916\ \ \ \ \ \}}
\DoxyCodeLine{02917\ \ \ \ \ \textcolor{keywordflow}{if}\ (openPos\ !=\ -\/1\ \&\&\ openPos\ !=\ INT\_MAX}
\DoxyCodeLine{02918\ \ \ \ \ \ \ \ \ \&\&\ closePos\ !=\ -\/1\ \&\&\ closePos\ !=\ INT\_MAX}
\DoxyCodeLine{02919\ \ \ \ \ \ \ \ \ \&\&\ openPos\ <\ closePos)\ \{}
\DoxyCodeLine{02920\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ index\ =\ message.find(extra,\ openPos);}
\DoxyCodeLine{02921\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ ==\ std::string::npos\ ||\ \textcolor{keywordtype}{int}(index)\ >=\ closePos)\ \{}
\DoxyCodeLine{02922\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ result(message);}
\DoxyCodeLine{02923\ \ \ \ \ \ \ \ \ \ \ \ \ result.insert(closePos,\ \textcolor{stringliteral}{"{},\ "{}}\ +\ extra);}
\DoxyCodeLine{02924\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{02925\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02926\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ message;}
\DoxyCodeLine{02927\ \ \ \ \ \}}
\DoxyCodeLine{02928\ }
\DoxyCodeLine{02929\ \ \ \ \ \textcolor{keywordflow}{return}\ message\ +\ \textcolor{stringliteral}{"{}\ "{}}\ +\ InStream::OPEN\_BRACKET\ +\ extra\ +\ InStream::CLOSE\_BRACKET;}
\DoxyCodeLine{02930\ \}}
\DoxyCodeLine{02931\ }
\DoxyCodeLine{02932\ \textcolor{keyword}{static}\ std::string\ \_\_testlib\_toPrintableMessage(\textcolor{keyword}{const}\ std::string\ \&message)\ \{}
\DoxyCodeLine{02933\ \ \ \ \ \textcolor{keywordtype}{int}\ openPos\ =\ -\/1,\ closePos\ =\ -\/1;}
\DoxyCodeLine{02934\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ message.length();\ i++)\ \{}
\DoxyCodeLine{02935\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (message[i]\ ==\ InStream::OPEN\_BRACKET)\ \{}
\DoxyCodeLine{02936\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (openPos\ ==\ -\/1)}
\DoxyCodeLine{02937\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ openPos\ =\ int(i);}
\DoxyCodeLine{02938\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02939\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ openPos\ =\ INT\_MAX;}
\DoxyCodeLine{02940\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02941\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (message[i]\ ==\ InStream::CLOSE\_BRACKET)\ \{}
\DoxyCodeLine{02942\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (closePos\ ==\ -\/1)}
\DoxyCodeLine{02943\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ closePos\ =\ int(i);}
\DoxyCodeLine{02944\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02945\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ closePos\ =\ INT\_MAX;}
\DoxyCodeLine{02946\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02947\ \ \ \ \ \}}
\DoxyCodeLine{02948\ \ \ \ \ \textcolor{keywordflow}{if}\ (openPos\ !=\ -\/1\ \&\&\ openPos\ !=\ INT\_MAX}
\DoxyCodeLine{02949\ \ \ \ \ \ \ \ \ \&\&\ closePos\ !=\ -\/1\ \&\&\ closePos\ !=\ INT\_MAX}
\DoxyCodeLine{02950\ \ \ \ \ \ \ \ \ \&\&\ openPos\ <\ closePos)\ \{}
\DoxyCodeLine{02951\ \ \ \ \ \ \ \ \ std::string\ result(message);}
\DoxyCodeLine{02952\ \ \ \ \ \ \ \ \ result[openPos]\ =\ \textcolor{charliteral}{'('};}
\DoxyCodeLine{02953\ \ \ \ \ \ \ \ \ result[closePos]\ =\ \textcolor{charliteral}{')'};}
\DoxyCodeLine{02954\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{02955\ \ \ \ \ \}}
\DoxyCodeLine{02956\ }
\DoxyCodeLine{02957\ \ \ \ \ \textcolor{keywordflow}{return}\ message;}
\DoxyCodeLine{02958\ \}}
\DoxyCodeLine{02959\ }
\DoxyCodeLine{02960\ NORETURN\ \textcolor{keywordtype}{void}\ InStream::quit(TResult\ result,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg)\ \{}
\DoxyCodeLine{02961\ \ \ \ \ \textcolor{keywordflow}{if}\ (TestlibFinalizeGuard::alive)}
\DoxyCodeLine{02962\ \ \ \ \ \ \ \ \ testlibFinalizeGuard.quitCount++;}
\DoxyCodeLine{02963\ }
\DoxyCodeLine{02964\ \ \ \ \ std::string\ message(msg);}
\DoxyCodeLine{02965\ \ \ \ \ message\ =\ trim(message);}
\DoxyCodeLine{02966\ }
\DoxyCodeLine{02967\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_testlib\_hasTestCase)\ \{}
\DoxyCodeLine{02968\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ !=\ \_ok)}
\DoxyCodeLine{02969\ \ \ \ \ \ \ \ \ \ \ \ \ message\ =\ \_\_testlib\_appendMessage(message,\ \textcolor{stringliteral}{"{}test\ case\ "{}}\ +\ vtos(\_\_testlib\_testCase));}
\DoxyCodeLine{02970\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02971\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_testlib\_testCase\ ==\ 1)}
\DoxyCodeLine{02972\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message\ =\ \_\_testlib\_appendMessage(message,\ vtos(\_\_testlib\_testCase)\ +\ \textcolor{stringliteral}{"{}\ test\ case"{}});}
\DoxyCodeLine{02973\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02974\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message\ =\ \_\_testlib\_appendMessage(message,\ vtos(\_\_testlib\_testCase)\ +\ \textcolor{stringliteral}{"{}\ test\ cases"{}});}
\DoxyCodeLine{02975\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02976\ \ \ \ \ \}}
\DoxyCodeLine{02977\ }
\DoxyCodeLine{02978\ \ \ \ \ \textcolor{comment}{//\ You\ can\ change\ maxMessageLength.}}
\DoxyCodeLine{02979\ \ \ \ \ \textcolor{comment}{//\ Example:\ 'inf.maxMessageLength\ =\ 1024\ *\ 1024;'.}}
\DoxyCodeLine{02980\ \ \ \ \ \textcolor{keywordflow}{if}\ (message.length()\ >\ maxMessageLength)\ \{}
\DoxyCodeLine{02981\ \ \ \ \ \ \ \ \ std::string\ warn\ =\ \textcolor{stringliteral}{"{}message\ length\ exceeds\ "{}}\ +\ vtos(maxMessageLength)}
\DoxyCodeLine{02982\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ \textcolor{stringliteral}{"{},\ the\ message\ is\ truncated:\ "{}};}
\DoxyCodeLine{02983\ \ \ \ \ \ \ \ \ message\ =\ warn\ +\ message.substr(0,\ maxMessageLength\ -\/\ warn.length());}
\DoxyCodeLine{02984\ \ \ \ \ \}}
\DoxyCodeLine{02985\ }
\DoxyCodeLine{02986\ \textcolor{preprocessor}{\#ifndef\ ENABLE\_UNEXPECTED\_EOF}}
\DoxyCodeLine{02987\ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ ==\ \_unexpected\_eof)}
\DoxyCodeLine{02988\ \ \ \ \ \ \ \ \ result\ =\ \_pe;}
\DoxyCodeLine{02989\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02990\ }
\DoxyCodeLine{02991\ \ \ \ \ \textcolor{keywordflow}{if}\ (testlibMode\ ==\ \_scorer\ \&\&\ result\ !=\ \_fail)}
\DoxyCodeLine{02992\ \ \ \ \ \ \ \ \ quits(\_fail,\ \textcolor{stringliteral}{"{}Scorer\ should\ return\ points\ only.\ Don't\ use\ a\ quit\ function."{}});}
\DoxyCodeLine{02993\ }
\DoxyCodeLine{02994\ \ \ \ \ \textcolor{keywordflow}{if}\ (mode\ !=\ \_output\ \&\&\ result\ !=\ \_fail)\ \{}
\DoxyCodeLine{02995\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ \_input\ \&\&\ testlibMode\ ==\ \_validator\ \&\&\ lastLine\ !=\ -\/1)}
\DoxyCodeLine{02996\ \ \ \ \ \ \ \ \ \ \ \ \ quits(\_fail,\ \_\_testlib\_appendMessage(\_\_testlib\_appendMessage(message,\ name),\ \textcolor{stringliteral}{"{}line\ "{}}\ +\ vtos(lastLine)));}
\DoxyCodeLine{02997\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02998\ \ \ \ \ \ \ \ \ \ \ \ \ quits(\_fail,\ \_\_testlib\_appendMessage(message,\ name));}
\DoxyCodeLine{02999\ \ \ \ \ \}}
\DoxyCodeLine{03000\ }
\DoxyCodeLine{03001\ \ \ \ \ std::FILE\ *resultFile;}
\DoxyCodeLine{03002\ \ \ \ \ std::string\ errorName;}
\DoxyCodeLine{03003\ }
\DoxyCodeLine{03004\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_testlib\_shouldCheckDirt(result))\ \{}
\DoxyCodeLine{03005\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (testlibMode\ !=\ \_interactor\ \&\&\ !ouf.seekEof())}
\DoxyCodeLine{03006\ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_dirt,\ \textcolor{stringliteral}{"{}Extra\ information\ in\ the\ output\ file"{}});}
\DoxyCodeLine{03007\ \ \ \ \ \}}
\DoxyCodeLine{03008\ }
\DoxyCodeLine{03009\ \ \ \ \ \textcolor{keywordtype}{int}\ pctype\ =\ result\ -\/\ \_partially;}
\DoxyCodeLine{03010\ \ \ \ \ \textcolor{keywordtype}{bool}\ isPartial\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{03011\ }
\DoxyCodeLine{03012\ \ \ \ \ \textcolor{keywordflow}{switch}\ (result)\ \{}
\DoxyCodeLine{03013\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \_ok:}
\DoxyCodeLine{03014\ \ \ \ \ \ \ \ \ \ \ \ \ errorName\ =\ \textcolor{stringliteral}{"{}ok\ "{}};}
\DoxyCodeLine{03015\ \ \ \ \ \ \ \ \ \ \ \ \ quitscrS(LightGreen,\ errorName);}
\DoxyCodeLine{03016\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03017\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \_wa:}
\DoxyCodeLine{03018\ \ \ \ \ \ \ \ \ \ \ \ \ errorName\ =\ \textcolor{stringliteral}{"{}wrong\ answer\ "{}};}
\DoxyCodeLine{03019\ \ \ \ \ \ \ \ \ \ \ \ \ quitscrS(LightRed,\ errorName);}
\DoxyCodeLine{03020\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03021\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \_pe:}
\DoxyCodeLine{03022\ \ \ \ \ \ \ \ \ \ \ \ \ errorName\ =\ \textcolor{stringliteral}{"{}wrong\ output\ format\ "{}};}
\DoxyCodeLine{03023\ \ \ \ \ \ \ \ \ \ \ \ \ quitscrS(LightRed,\ errorName);}
\DoxyCodeLine{03024\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \_fail:}
\DoxyCodeLine{03026\ \ \ \ \ \ \ \ \ \ \ \ \ errorName\ =\ \textcolor{stringliteral}{"{}FAIL\ "{}};}
\DoxyCodeLine{03027\ \ \ \ \ \ \ \ \ \ \ \ \ quitscrS(LightRed,\ errorName);}
\DoxyCodeLine{03028\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \_dirt:}
\DoxyCodeLine{03030\ \ \ \ \ \ \ \ \ \ \ \ \ errorName\ =\ \textcolor{stringliteral}{"{}wrong\ output\ format\ "{}};}
\DoxyCodeLine{03031\ \ \ \ \ \ \ \ \ \ \ \ \ quitscrS(LightCyan,\ errorName);}
\DoxyCodeLine{03032\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ \_pe;}
\DoxyCodeLine{03033\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \_points:}
\DoxyCodeLine{03035\ \ \ \ \ \ \ \ \ \ \ \ \ errorName\ =\ \textcolor{stringliteral}{"{}points\ "{}};}
\DoxyCodeLine{03036\ \ \ \ \ \ \ \ \ \ \ \ \ quitscrS(LightYellow,\ errorName);}
\DoxyCodeLine{03037\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \_unexpected\_eof:}
\DoxyCodeLine{03039\ \ \ \ \ \ \ \ \ \ \ \ \ errorName\ =\ \textcolor{stringliteral}{"{}unexpected\ eof\ "{}};}
\DoxyCodeLine{03040\ \ \ \ \ \ \ \ \ \ \ \ \ quitscrS(LightCyan,\ errorName);}
\DoxyCodeLine{03041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{03043\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ >=\ \_partially)\ \{}
\DoxyCodeLine{03044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ errorName\ =\ format(\textcolor{stringliteral}{"{}partially\ correct\ (\%d)\ "{}},\ pctype);}
\DoxyCodeLine{03045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ isPartial\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{03046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quitscrS(LightYellow,\ errorName);}
\DoxyCodeLine{03047\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}What\ is\ the\ code\ ???\ "{}});}
\DoxyCodeLine{03049\ \ \ \ \ \}}
\DoxyCodeLine{03050\ }
\DoxyCodeLine{03051\ \ \ \ \ \textcolor{keywordflow}{if}\ (resultName\ !=\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{03052\ \ \ \ \ \ \ \ \ resultFile\ =\ std::fopen(resultName.c\_str(),\ \textcolor{stringliteral}{"{}w"{}});}
\DoxyCodeLine{03053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (resultFile\ ==\ NULL)\ \{}
\DoxyCodeLine{03054\ \ \ \ \ \ \ \ \ \ \ \ \ resultName\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{03055\ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}Can\ not\ write\ to\ the\ result\ file"{}});}
\DoxyCodeLine{03056\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03057\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (appesMode)\ \{}
\DoxyCodeLine{03058\ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(resultFile,\ \textcolor{stringliteral}{"{}<?xml\ version=\(\backslash\)"{}1.0\(\backslash\)"{}\ encoding=\(\backslash\)"{}\%s\(\backslash\)"{}?>"{}},\ appesModeEncoding.c\_str());}
\DoxyCodeLine{03059\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isPartial)}
\DoxyCodeLine{03060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(resultFile,\ \textcolor{stringliteral}{"{}<result\ outcome\ =\ \(\backslash\)"{}\%s\(\backslash\)"{}\ pctype\ =\ \(\backslash\)"{}\%d\(\backslash\)"{}>"{}},}
\DoxyCodeLine{03061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outcomes[(\textcolor{keywordtype}{int})\ \_partially].c\_str(),\ pctype);}
\DoxyCodeLine{03062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ !=\ \_points)}
\DoxyCodeLine{03064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(resultFile,\ \textcolor{stringliteral}{"{}<result\ outcome\ =\ \(\backslash\)"{}\%s\(\backslash\)"{}>"{}},\ outcomes[(\textcolor{keywordtype}{int})\ result].c\_str());}
\DoxyCodeLine{03065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_testlib\_points\ ==\ std::numeric\_limits<float>::infinity())}
\DoxyCodeLine{03067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}Expected\ points,\ but\ infinity\ found"{}});}
\DoxyCodeLine{03068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ stringPoints\ =\ removeDoubleTrailingZeroes(format(\textcolor{stringliteral}{"{}\%.10f"{}},\ \_\_testlib\_points));}
\DoxyCodeLine{03069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(resultFile,\ \textcolor{stringliteral}{"{}<result\ outcome\ =\ \(\backslash\)"{}\%s\(\backslash\)"{}\ points\ =\ \(\backslash\)"{}\%s\(\backslash\)"{}>"{}},}
\DoxyCodeLine{03070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outcomes[(\textcolor{keywordtype}{int})\ result].c\_str(),\ stringPoints.c\_str());}
\DoxyCodeLine{03071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03072\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03073\ \ \ \ \ \ \ \ \ \ \ \ \ xmlSafeWrite(resultFile,\ \_\_testlib\_toPrintableMessage(message).c\_str());}
\DoxyCodeLine{03074\ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(resultFile,\ \textcolor{stringliteral}{"{}</result>\(\backslash\)n"{}});}
\DoxyCodeLine{03075\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03076\ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(resultFile,\ \textcolor{stringliteral}{"{}\%s"{}},\ \_\_testlib\_toPrintableMessage(message).c\_str());}
\DoxyCodeLine{03077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ resultFile\ ||\ fclose(resultFile)\ !=\ 0)\ \{}
\DoxyCodeLine{03078\ \ \ \ \ \ \ \ \ \ \ \ \ resultName\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{03079\ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}Can\ not\ write\ to\ the\ result\ file"{}});}
\DoxyCodeLine{03080\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03081\ \ \ \ \ \}}
\DoxyCodeLine{03082\ }
\DoxyCodeLine{03083\ \ \ \ \ quitscr(LightGray,\ \_\_testlib\_toPrintableMessage(message).c\_str());}
\DoxyCodeLine{03084\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{03085\ }
\DoxyCodeLine{03086\ \ \ \ \ inf.close();}
\DoxyCodeLine{03087\ \ \ \ \ ouf.close();}
\DoxyCodeLine{03088\ \ \ \ \ ans.close();}
\DoxyCodeLine{03089\ \ \ \ \ \textcolor{keywordflow}{if}\ (tout.is\_open())}
\DoxyCodeLine{03090\ \ \ \ \ \ \ \ \ tout.close();}
\DoxyCodeLine{03091\ }
\DoxyCodeLine{03092\ \ \ \ \ textColor(LightGray);}
\DoxyCodeLine{03093\ }
\DoxyCodeLine{03094\ \ \ \ \ \textcolor{keywordflow}{if}\ (resultName\ !=\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{03095\ \ \ \ \ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}See\ file\ to\ check\ exit\ message\(\backslash\)n"{}});}
\DoxyCodeLine{03096\ }
\DoxyCodeLine{03097\ \ \ \ \ halt(resultExitCode(result));}
\DoxyCodeLine{03098\ \}}
\DoxyCodeLine{03099\ }
\DoxyCodeLine{03100\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{03101\ \_\_attribute\_\_\ ((format\ (printf,\ 3,\ 4)))}
\DoxyCodeLine{03102\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03103\ NORETURN\ \textcolor{keywordtype}{void}\ InStream::quitf(TResult\ result,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg,\ ...)\ \{}
\DoxyCodeLine{03104\ \ \ \ \ FMT\_TO\_RESULT(msg,\ msg,\ message);}
\DoxyCodeLine{03105\ \ \ \ \ InStream::quit(result,\ message.c\_str());}
\DoxyCodeLine{03106\ \}}
\DoxyCodeLine{03107\ }
\DoxyCodeLine{03108\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{03109\ \_\_attribute\_\_\ ((format\ (printf,\ 4,\ 5)))}
\DoxyCodeLine{03110\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03111\ \textcolor{keywordtype}{void}\ InStream::quitif(\textcolor{keywordtype}{bool}\ condition,\ TResult\ result,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg,\ ...)\ \{}
\DoxyCodeLine{03112\ \ \ \ \ \textcolor{keywordflow}{if}\ (condition)\ \{}
\DoxyCodeLine{03113\ \ \ \ \ \ \ \ \ FMT\_TO\_RESULT(msg,\ msg,\ message);}
\DoxyCodeLine{03114\ \ \ \ \ \ \ \ \ InStream::quit(result,\ message.c\_str());}
\DoxyCodeLine{03115\ \ \ \ \ \}}
\DoxyCodeLine{03116\ \}}
\DoxyCodeLine{03117\ }
\DoxyCodeLine{03118\ NORETURN\ \textcolor{keywordtype}{void}\ InStream::quits(TResult\ result,\ std::string\ msg)\ \{}
\DoxyCodeLine{03119\ \ \ \ \ InStream::quit(result,\ msg.c\_str());}
\DoxyCodeLine{03120\ \}}
\DoxyCodeLine{03121\ }
\DoxyCodeLine{03122\ \textcolor{keywordtype}{void}\ InStream::xmlSafeWrite(std::FILE\ *file,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg)\ \{}
\DoxyCodeLine{03123\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ lmsg\ =\ strlen(msg);}
\DoxyCodeLine{03124\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ lmsg;\ i++)\ \{}
\DoxyCodeLine{03125\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (msg[i]\ ==\ \textcolor{charliteral}{'\&'})\ \{}
\DoxyCodeLine{03126\ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(file,\ \textcolor{stringliteral}{"{}\%s"{}},\ \textcolor{stringliteral}{"{}\&amp;"{}});}
\DoxyCodeLine{03127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{03128\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03129\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (msg[i]\ ==\ \textcolor{charliteral}{'<'})\ \{}
\DoxyCodeLine{03130\ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(file,\ \textcolor{stringliteral}{"{}\%s"{}},\ \textcolor{stringliteral}{"{}\&lt;"{}});}
\DoxyCodeLine{03131\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{03132\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (msg[i]\ ==\ \textcolor{charliteral}{'>'})\ \{}
\DoxyCodeLine{03134\ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(file,\ \textcolor{stringliteral}{"{}\%s"{}},\ \textcolor{stringliteral}{"{}\&gt;"{}});}
\DoxyCodeLine{03135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{03136\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03137\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (msg[i]\ ==\ \textcolor{charliteral}{'"{}'})\ \{}
\DoxyCodeLine{03138\ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(file,\ \textcolor{stringliteral}{"{}\%s"{}},\ \textcolor{stringliteral}{"{}\&quot;"{}});}
\DoxyCodeLine{03139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{03140\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03141\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (0\ <=\ msg[i]\ \&\&\ msg[i]\ <=\ 31)\ \{}
\DoxyCodeLine{03142\ \ \ \ \ \ \ \ \ \ \ \ \ std::fprintf(file,\ \textcolor{stringliteral}{"{}\%c"{}},\ \textcolor{charliteral}{'.'});}
\DoxyCodeLine{03143\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{03144\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03145\ \ \ \ \ \ \ \ \ std::fprintf(file,\ \textcolor{stringliteral}{"{}\%c"{}},\ msg[i]);}
\DoxyCodeLine{03146\ \ \ \ \ \}}
\DoxyCodeLine{03147\ \}}
\DoxyCodeLine{03148\ }
\DoxyCodeLine{03149\ \textcolor{keywordtype}{void}\ InStream::quitscrS(WORD\ color,\ std::string\ msg)\ \{}
\DoxyCodeLine{03150\ \ \ \ \ quitscr(color,\ msg.c\_str());}
\DoxyCodeLine{03151\ \}}
\DoxyCodeLine{03152\ }
\DoxyCodeLine{03153\ \textcolor{keywordtype}{void}\ InStream::quitscr(WORD\ color,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg)\ \{}
\DoxyCodeLine{03154\ \ \ \ \ \textcolor{keywordflow}{if}\ (resultName\ ==\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{03155\ \ \ \ \ \ \ \ \ textColor(color);}
\DoxyCodeLine{03156\ \ \ \ \ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}\%s"{}},\ msg);}
\DoxyCodeLine{03157\ \ \ \ \ \ \ \ \ textColor(LightGray);}
\DoxyCodeLine{03158\ \ \ \ \ \}}
\DoxyCodeLine{03159\ \}}
\DoxyCodeLine{03160\ }
\DoxyCodeLine{03161\ \textcolor{keywordtype}{void}\ InStream::reset(std::FILE\ *file)\ \{}
\DoxyCodeLine{03162\ \ \ \ \ \textcolor{keywordflow}{if}\ (opened\ \&\&\ stdfile)}
\DoxyCodeLine{03163\ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}Can't\ reset\ standard\ handle"{}});}
\DoxyCodeLine{03164\ }
\DoxyCodeLine{03165\ \ \ \ \ \textcolor{keywordflow}{if}\ (opened)}
\DoxyCodeLine{03166\ \ \ \ \ \ \ \ \ close();}
\DoxyCodeLine{03167\ }
\DoxyCodeLine{03168\ \ \ \ \ \textcolor{keywordflow}{if}\ (!stdfile\ \&\&\ NULL\ ==\ file)}
\DoxyCodeLine{03169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ (file\ =\ std::fopen(name.c\_str(),\ \textcolor{stringliteral}{"{}rb"{}})))\ \{}
\DoxyCodeLine{03170\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ \_output)}
\DoxyCodeLine{03171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quits(\_pe,\ std::string(\textcolor{stringliteral}{"{}Output\ file\ not\ found:\ \(\backslash\)"{}"{}})\ +\ name\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{03172\ }
\DoxyCodeLine{03173\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ \_answer)}
\DoxyCodeLine{03174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quits(\_fail,\ std::string(\textcolor{stringliteral}{"{}Answer\ file\ not\ found:\ \(\backslash\)"{}"{}})\ +\ name\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{03175\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03176\ }
\DoxyCodeLine{03177\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ !=\ file)\ \{}
\DoxyCodeLine{03178\ \ \ \ \ \ \ \ \ opened\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{03179\ \ \ \ \ \ \ \ \ \_\_testlib\_set\_binary(file);}
\DoxyCodeLine{03180\ }
\DoxyCodeLine{03181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stdfile)}
\DoxyCodeLine{03182\ \ \ \ \ \ \ \ \ \ \ \ \ reader\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_file_input_stream_reader}{FileInputStreamReader}}(file,\ name);}
\DoxyCodeLine{03183\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03184\ \ \ \ \ \ \ \ \ \ \ \ \ reader\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_buffered_file_input_stream_reader}{BufferedFileInputStreamReader}}(file,\ name);}
\DoxyCodeLine{03185\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03186\ \ \ \ \ \ \ \ \ opened\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{03187\ \ \ \ \ \ \ \ \ reader\ =\ NULL;}
\DoxyCodeLine{03188\ \ \ \ \ \}}
\DoxyCodeLine{03189\ \}}
\DoxyCodeLine{03190\ }
\DoxyCodeLine{03191\ \textcolor{keywordtype}{void}\ InStream::init(std::string\ fileName,\ TMode\ mode)\ \{}
\DoxyCodeLine{03192\ \ \ \ \ opened\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{03193\ \ \ \ \ name\ =\ fileName;}
\DoxyCodeLine{03194\ \ \ \ \ stdfile\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{03195\ \ \ \ \ this-\/>mode\ =\ mode;}
\DoxyCodeLine{03196\ }
\DoxyCodeLine{03197\ \ \ \ \ std::ifstream\ stream;}
\DoxyCodeLine{03198\ \ \ \ \ stream.open(fileName.c\_str(),\ std::ios::in);}
\DoxyCodeLine{03199\ \ \ \ \ \textcolor{keywordflow}{if}\ (stream.is\_open())\ \{}
\DoxyCodeLine{03200\ \ \ \ \ \ \ \ \ std::streampos\ start\ =\ stream.tellg();}
\DoxyCodeLine{03201\ \ \ \ \ \ \ \ \ stream.seekg(0,\ std::ios::end);}
\DoxyCodeLine{03202\ \ \ \ \ \ \ \ \ std::streampos\ end\ =\ stream.tellg();}
\DoxyCodeLine{03203\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ fileSize\ =\ size\_t(end\ -\/\ start);}
\DoxyCodeLine{03204\ \ \ \ \ \ \ \ \ stream.close();}
\DoxyCodeLine{03205\ }
\DoxyCodeLine{03206\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ You\ can\ change\ maxFileSize.}}
\DoxyCodeLine{03207\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Example:\ 'inf.maxFileSize\ =\ 256\ *\ 1024\ *\ 1024;'.}}
\DoxyCodeLine{03208\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fileSize\ >\ maxFileSize)}
\DoxyCodeLine{03209\ \ \ \ \ \ \ \ \ \ \ \ \ quitf(\_pe,\ \textcolor{stringliteral}{"{}File\ size\ exceeds\ \%d\ bytes,\ size\ is\ \%d"{}},\ \textcolor{keywordtype}{int}(maxFileSize),\ \textcolor{keywordtype}{int}(fileSize));}
\DoxyCodeLine{03210\ \ \ \ \ \}}
\DoxyCodeLine{03211\ }
\DoxyCodeLine{03212\ \ \ \ \ reset();}
\DoxyCodeLine{03213\ \}}
\DoxyCodeLine{03214\ }
\DoxyCodeLine{03215\ \textcolor{keywordtype}{void}\ InStream::init(std::FILE\ *f,\ TMode\ mode)\ \{}
\DoxyCodeLine{03216\ \ \ \ \ opened\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{03217\ \ \ \ \ name\ =\ \textcolor{stringliteral}{"{}untitled"{}};}
\DoxyCodeLine{03218\ \ \ \ \ this-\/>mode\ =\ mode;}
\DoxyCodeLine{03219\ }
\DoxyCodeLine{03220\ \ \ \ \ \textcolor{keywordflow}{if}\ (f\ ==\ stdin)}
\DoxyCodeLine{03221\ \ \ \ \ \ \ \ \ name\ =\ \textcolor{stringliteral}{"{}stdin"{}},\ stdfile\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{03222\ \ \ \ \ \textcolor{keywordflow}{if}\ (f\ ==\ stdout)}
\DoxyCodeLine{03223\ \ \ \ \ \ \ \ \ name\ =\ \textcolor{stringliteral}{"{}stdout"{}},\ stdfile\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{03224\ \ \ \ \ \textcolor{keywordflow}{if}\ (f\ ==\ stderr)}
\DoxyCodeLine{03225\ \ \ \ \ \ \ \ \ name\ =\ \textcolor{stringliteral}{"{}stderr"{}},\ stdfile\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{03226\ }
\DoxyCodeLine{03227\ \ \ \ \ reset(f);}
\DoxyCodeLine{03228\ \}}
\DoxyCodeLine{03229\ }
\DoxyCodeLine{03230\ \textcolor{keywordtype}{void}\ InStream::skipBom()\ \{}
\DoxyCodeLine{03231\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ utf8Bom\ =\ \textcolor{stringliteral}{"{}\(\backslash\)xEF\(\backslash\)xBB\(\backslash\)xBF"{}};}
\DoxyCodeLine{03232\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ index\ =\ 0;}
\DoxyCodeLine{03233\ \ \ \ \ \textcolor{keywordflow}{while}\ (index\ <\ utf8Bom.size()\ \&\&\ curChar()\ ==\ utf8Bom[index])\ \{}
\DoxyCodeLine{03234\ \ \ \ \ \ \ \ \ index++;}
\DoxyCodeLine{03235\ \ \ \ \ \ \ \ \ skipChar();}
\DoxyCodeLine{03236\ \ \ \ \ \}}
\DoxyCodeLine{03237\ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ <\ utf8Bom.size())\ \{}
\DoxyCodeLine{03238\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (index\ !=\ 0)\ \{}
\DoxyCodeLine{03239\ \ \ \ \ \ \ \ \ \ \ \ \ unreadChar(utf8Bom[index\ -\/\ 1]);}
\DoxyCodeLine{03240\ \ \ \ \ \ \ \ \ \ \ \ \ index-\/-\/;}
\DoxyCodeLine{03241\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03242\ \ \ \ \ \}}
\DoxyCodeLine{03243\ \}}
\DoxyCodeLine{03244\ }
\DoxyCodeLine{03245\ \textcolor{keywordtype}{char}\ InStream::curChar()\ \{}
\DoxyCodeLine{03246\ \ \ \ \ \textcolor{keywordflow}{return}\ char(reader-\/>curChar());}
\DoxyCodeLine{03247\ \}}
\DoxyCodeLine{03248\ }
\DoxyCodeLine{03249\ \textcolor{keywordtype}{char}\ InStream::nextChar()\ \{}
\DoxyCodeLine{03250\ \ \ \ \ \textcolor{keywordflow}{return}\ char(reader-\/>nextChar());}
\DoxyCodeLine{03251\ \}}
\DoxyCodeLine{03252\ }
\DoxyCodeLine{03253\ \textcolor{keywordtype}{char}\ InStream::readChar()\ \{}
\DoxyCodeLine{03254\ \ \ \ \ \textcolor{keywordflow}{return}\ nextChar();}
\DoxyCodeLine{03255\ \}}
\DoxyCodeLine{03256\ }
\DoxyCodeLine{03257\ \textcolor{keywordtype}{char}\ InStream::readChar(\textcolor{keywordtype}{char}\ c)\ \{}
\DoxyCodeLine{03258\ \ \ \ \ lastLine\ =\ reader-\/>getLine();}
\DoxyCodeLine{03259\ \ \ \ \ \textcolor{keywordtype}{char}\ found\ =\ readChar();}
\DoxyCodeLine{03260\ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ !=\ found)\ \{}
\DoxyCodeLine{03261\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!isEoln(found))}
\DoxyCodeLine{03262\ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_pe,\ (\textcolor{stringliteral}{"{}Unexpected\ character\ '"{}}\ +\ std::string(1,\ found)\ +\ \textcolor{stringliteral}{"{}',\ but\ '"{}}\ +\ std::string(1,\ c)\ +}
\DoxyCodeLine{03263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}'\ expected"{}}).c\_str());}
\DoxyCodeLine{03264\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03265\ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_pe,\ (\textcolor{stringliteral}{"{}Unexpected\ character\ "{}}\ +\ (\textcolor{stringliteral}{"{}\#"{}}\ +\ vtos(\textcolor{keywordtype}{int}(found)))\ +\ \textcolor{stringliteral}{"{},\ but\ '"{}}\ +\ std::string(1,\ c)\ +}
\DoxyCodeLine{03266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}'\ expected"{}}).c\_str());}
\DoxyCodeLine{03267\ \ \ \ \ \}}
\DoxyCodeLine{03268\ \ \ \ \ \textcolor{keywordflow}{return}\ found;}
\DoxyCodeLine{03269\ \}}
\DoxyCodeLine{03270\ }
\DoxyCodeLine{03271\ \textcolor{keywordtype}{char}\ InStream::readSpace()\ \{}
\DoxyCodeLine{03272\ \ \ \ \ \textcolor{keywordflow}{return}\ readChar(\textcolor{charliteral}{'\ '});}
\DoxyCodeLine{03273\ \}}
\DoxyCodeLine{03274\ }
\DoxyCodeLine{03275\ \textcolor{keywordtype}{void}\ InStream::unreadChar(\textcolor{keywordtype}{char}\ c)\ \{}
\DoxyCodeLine{03276\ \ \ \ \ reader-\/>unreadChar(c);}
\DoxyCodeLine{03277\ \}}
\DoxyCodeLine{03278\ }
\DoxyCodeLine{03279\ \textcolor{keywordtype}{void}\ InStream::skipChar()\ \{}
\DoxyCodeLine{03280\ \ \ \ \ reader-\/>skipChar();}
\DoxyCodeLine{03281\ \}}
\DoxyCodeLine{03282\ }
\DoxyCodeLine{03283\ \textcolor{keywordtype}{void}\ InStream::skipBlanks()\ \{}
\DoxyCodeLine{03284\ \ \ \ \ \textcolor{keywordflow}{while}\ (isBlanks(reader-\/>curChar()))}
\DoxyCodeLine{03285\ \ \ \ \ \ \ \ \ reader-\/>skipChar();}
\DoxyCodeLine{03286\ \}}
\DoxyCodeLine{03287\ }
\DoxyCodeLine{03288\ std::string\ InStream::readWord()\ \{}
\DoxyCodeLine{03289\ \ \ \ \ readWordTo(\_tmpReadToken);}
\DoxyCodeLine{03290\ \ \ \ \ \textcolor{keywordflow}{return}\ \_tmpReadToken;}
\DoxyCodeLine{03291\ \}}
\DoxyCodeLine{03292\ }
\DoxyCodeLine{03293\ \textcolor{keywordtype}{void}\ InStream::readWordTo(std::string\ \&result)\ \{}
\DoxyCodeLine{03294\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict)}
\DoxyCodeLine{03295\ \ \ \ \ \ \ \ \ skipBlanks();}
\DoxyCodeLine{03296\ }
\DoxyCodeLine{03297\ \ \ \ \ lastLine\ =\ reader-\/>getLine();}
\DoxyCodeLine{03298\ \ \ \ \ \textcolor{keywordtype}{int}\ cur\ =\ reader-\/>nextChar();}
\DoxyCodeLine{03299\ }
\DoxyCodeLine{03300\ \ \ \ \ \textcolor{keywordflow}{if}\ (cur\ ==\ EOFC)}
\DoxyCodeLine{03301\ \ \ \ \ \ \ \ \ quit(\_unexpected\_eof,\ \textcolor{stringliteral}{"{}Unexpected\ end\ of\ file\ -\/\ token\ expected"{}});}
\DoxyCodeLine{03302\ }
\DoxyCodeLine{03303\ \ \ \ \ \textcolor{keywordflow}{if}\ (isBlanks(cur))}
\DoxyCodeLine{03304\ \ \ \ \ \ \ \ \ quit(\_pe,\ \textcolor{stringliteral}{"{}Unexpected\ white-\/space\ -\/\ token\ expected"{}});}
\DoxyCodeLine{03305\ }
\DoxyCodeLine{03306\ \ \ \ \ result.clear();}
\DoxyCodeLine{03307\ }
\DoxyCodeLine{03308\ \ \ \ \ \textcolor{keywordflow}{while}\ (!(isBlanks(cur)\ ||\ cur\ ==\ EOFC))\ \{}
\DoxyCodeLine{03309\ \ \ \ \ \ \ \ \ result\ +=\ char(cur);}
\DoxyCodeLine{03310\ }
\DoxyCodeLine{03311\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ You\ can\ change\ maxTokenLength.}}
\DoxyCodeLine{03312\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Example:\ 'inf.maxTokenLength\ =\ 128\ *\ 1024\ *\ 1024;'.}}
\DoxyCodeLine{03313\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (result.length()\ >\ maxTokenLength)}
\DoxyCodeLine{03314\ \ \ \ \ \ \ \ \ \ \ \ \ quitf(\_pe,\ \textcolor{stringliteral}{"{}Length\ of\ token\ exceeds\ \%d,\ token\ is\ '\%s...'"{}},\ \textcolor{keywordtype}{int}(maxTokenLength),}
\DoxyCodeLine{03315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_part(result).c\_str());}
\DoxyCodeLine{03316\ }
\DoxyCodeLine{03317\ \ \ \ \ \ \ \ \ cur\ =\ reader-\/>nextChar();}
\DoxyCodeLine{03318\ \ \ \ \ \}}
\DoxyCodeLine{03319\ }
\DoxyCodeLine{03320\ \ \ \ \ reader-\/>unreadChar(cur);}
\DoxyCodeLine{03321\ }
\DoxyCodeLine{03322\ \ \ \ \ \textcolor{keywordflow}{if}\ (result.length()\ ==\ 0)}
\DoxyCodeLine{03323\ \ \ \ \ \ \ \ \ quit(\_unexpected\_eof,\ \textcolor{stringliteral}{"{}Unexpected\ end\ of\ file\ or\ white-\/space\ -\/\ token\ expected"{}});}
\DoxyCodeLine{03324\ \}}
\DoxyCodeLine{03325\ }
\DoxyCodeLine{03326\ std::string\ InStream::readToken()\ \{}
\DoxyCodeLine{03327\ \ \ \ \ \textcolor{keywordflow}{return}\ readWord();}
\DoxyCodeLine{03328\ \}}
\DoxyCodeLine{03329\ }
\DoxyCodeLine{03330\ \textcolor{keywordtype}{void}\ InStream::readTokenTo(std::string\ \&result)\ \{}
\DoxyCodeLine{03331\ \ \ \ \ readWordTo(result);}
\DoxyCodeLine{03332\ \}}
\DoxyCodeLine{03333\ }
\DoxyCodeLine{03334\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{03335\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{03336\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03337\ \textcolor{keyword}{static}\ std::string\ \_\_testlib\_part(\textcolor{keyword}{const}\ std::string\ \&s)\ \{}
\DoxyCodeLine{03338\ \ \ \ \ std::string\ t;}
\DoxyCodeLine{03339\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)}
\DoxyCodeLine{03340\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ !=\ \textcolor{charliteral}{'\(\backslash\)0'})}
\DoxyCodeLine{03341\ \ \ \ \ \ \ \ \ \ \ \ \ t\ +=\ s[i];}
\DoxyCodeLine{03342\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03343\ \ \ \ \ \ \ \ \ \ \ \ \ t\ +=\ \textcolor{charliteral}{'\string~'};}
\DoxyCodeLine{03344\ \ \ \ \ \textcolor{keywordflow}{if}\ (t.length()\ <=\ 64)}
\DoxyCodeLine{03345\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ t;}
\DoxyCodeLine{03346\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03347\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ t.substr(0,\ 30)\ +\ \textcolor{stringliteral}{"{}..."{}}\ +\ t.substr(s.length()\ -\/\ 31,\ 31);}
\DoxyCodeLine{03348\ \}}
\DoxyCodeLine{03349\ }
\DoxyCodeLine{03350\ \textcolor{preprocessor}{\#define\ \_\_testlib\_readMany(readMany,\ readOne,\ typeName,\ space)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03351\ \textcolor{preprocessor}{\ \ \ \ if\ (size\ <\ 0)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03352\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ quit(\_fail,\ \#readMany\ "{}:\ size\ should\ be\ non-\/negative."{});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03353\ \textcolor{preprocessor}{\ \ \ \ if\ (size\ >\ 100000000)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03354\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ quit(\_fail,\ \#readMany\ "{}:\ size\ should\ be\ at\ most\ 100000000."{});\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03355\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03356\ \textcolor{preprocessor}{\ \ \ \ std::vector<typeName>\ result(size);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03357\ \textcolor{preprocessor}{\ \ \ \ readManyIteration\ =\ indexBase;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03358\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03359\ \textcolor{preprocessor}{\ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ size;\ i++)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03360\ \textcolor{preprocessor}{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03361\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ result[i]\ =\ readOne;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03362\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ readManyIteration++;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03363\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ if\ (strict\ \&\&\ space\ \&\&\ i\ +\ 1\ <\ size)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03364\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ readSpace();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03365\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03366\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03367\ \textcolor{preprocessor}{\ \ \ \ readManyIteration\ =\ NO\_INDEX;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03368\ \textcolor{preprocessor}{\ \ \ \ return\ result;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{03369\ \textcolor{preprocessor}{}}
\DoxyCodeLine{03370\ }
\DoxyCodeLine{03371\ std::string\ InStream::readWord(\textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03372\ \ \ \ \ readWordTo(\_tmpReadToken);}
\DoxyCodeLine{03373\ \ \ \ \ \textcolor{keywordflow}{if}\ (!p.matches(\_tmpReadToken))\ \{}
\DoxyCodeLine{03374\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (readManyIteration\ ==\ NO\_INDEX)\ \{}
\DoxyCodeLine{03375\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,}
\DoxyCodeLine{03377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}Token\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(\_tmpReadToken)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ doesn't\ correspond\ to\ pattern\ \(\backslash\)"{}"{}}\ +\ p.src()\ +}
\DoxyCodeLine{03378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}).c\_str());}
\DoxyCodeLine{03379\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Token\ parameter\ [name="{}}\ +\ variableName\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(\_tmpReadToken)\ +}
\DoxyCodeLine{03381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)"{},\ doesn't\ correspond\ to\ pattern\ \(\backslash\)"{}"{}}\ +\ p.src()\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}).c\_str());}
\DoxyCodeLine{03382\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03383\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Token\ element\ [index="{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ \(\backslash\)"{}"{}}\ +}
\DoxyCodeLine{03385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_part(\_tmpReadToken)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ doesn't\ correspond\ to\ pattern\ \(\backslash\)"{}"{}}\ +\ p.src()\ +}
\DoxyCodeLine{03386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}).c\_str());}
\DoxyCodeLine{03387\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Token\ element\ "{}}\ +\ variableName\ +\ \textcolor{stringliteral}{"{}["{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ \(\backslash\)"{}"{}}\ +}
\DoxyCodeLine{03389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_part(\_tmpReadToken)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{},\ doesn't\ correspond\ to\ pattern\ \(\backslash\)"{}"{}}\ +\ p.src()\ +}
\DoxyCodeLine{03390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}).c\_str());}
\DoxyCodeLine{03391\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03392\ \ \ \ \ \}}
\DoxyCodeLine{03393\ \ \ \ \ \textcolor{keywordflow}{return}\ \_tmpReadToken;}
\DoxyCodeLine{03394\ \}}
\DoxyCodeLine{03395\ }
\DoxyCodeLine{03396\ std::vector<std::string>}
\DoxyCodeLine{03397\ InStream::readWords(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03398\ \ \ \ \ \_\_testlib\_readMany(readWords,\ readWord(p,\ variablesName),\ std::string,\ \textcolor{keyword}{true});}
\DoxyCodeLine{03399\ \}}
\DoxyCodeLine{03400\ }
\DoxyCodeLine{03401\ std::vector<std::string>\ InStream::readWords(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03402\ \ \ \ \ \_\_testlib\_readMany(readWords,\ readWord(),\ std::string,\ \textcolor{keyword}{true});}
\DoxyCodeLine{03403\ \}}
\DoxyCodeLine{03404\ }
\DoxyCodeLine{03405\ std::string\ InStream::readWord(\textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03406\ \ \ \ \ \textcolor{keywordflow}{return}\ readWord(\mbox{\hyperlink{classpattern}{pattern}}(ptrn),\ variableName);}
\DoxyCodeLine{03407\ \}}
\DoxyCodeLine{03408\ }
\DoxyCodeLine{03409\ std::vector<std::string>}
\DoxyCodeLine{03410\ InStream::readWords(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03411\ \ \ \ \ \mbox{\hyperlink{classpattern}{pattern}}\ p(ptrn);}
\DoxyCodeLine{03412\ \ \ \ \ \_\_testlib\_readMany(readWords,\ readWord(p,\ variablesName),\ std::string,\ \textcolor{keyword}{true});}
\DoxyCodeLine{03413\ \}}
\DoxyCodeLine{03414\ }
\DoxyCodeLine{03415\ std::string\ InStream::readToken(\textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03416\ \ \ \ \ \textcolor{keywordflow}{return}\ readWord(p,\ variableName);}
\DoxyCodeLine{03417\ \}}
\DoxyCodeLine{03418\ }
\DoxyCodeLine{03419\ std::vector<std::string>}
\DoxyCodeLine{03420\ InStream::readTokens(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03421\ \ \ \ \ \_\_testlib\_readMany(readTokens,\ readToken(p,\ variablesName),\ std::string,\ \textcolor{keyword}{true});}
\DoxyCodeLine{03422\ \}}
\DoxyCodeLine{03423\ }
\DoxyCodeLine{03424\ std::vector<std::string>\ InStream::readTokens(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03425\ \ \ \ \ \_\_testlib\_readMany(readTokens,\ readToken(),\ std::string,\ \textcolor{keyword}{true});}
\DoxyCodeLine{03426\ \}}
\DoxyCodeLine{03427\ }
\DoxyCodeLine{03428\ std::string\ InStream::readToken(\textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03429\ \ \ \ \ \textcolor{keywordflow}{return}\ readWord(ptrn,\ variableName);}
\DoxyCodeLine{03430\ \}}
\DoxyCodeLine{03431\ }
\DoxyCodeLine{03432\ std::vector<std::string>}
\DoxyCodeLine{03433\ InStream::readTokens(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03434\ \ \ \ \ \mbox{\hyperlink{classpattern}{pattern}}\ p(ptrn);}
\DoxyCodeLine{03435\ \ \ \ \ \_\_testlib\_readMany(readTokens,\ readWord(p,\ variablesName),\ std::string,\ \textcolor{keyword}{true});}
\DoxyCodeLine{03436\ \}}
\DoxyCodeLine{03437\ }
\DoxyCodeLine{03438\ \textcolor{keywordtype}{void}\ InStream::readWordTo(std::string\ \&result,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03439\ \ \ \ \ readWordTo(result);}
\DoxyCodeLine{03440\ \ \ \ \ \textcolor{keywordflow}{if}\ (!p.matches(result))\ \{}
\DoxyCodeLine{03441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03442\ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Token\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(result)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ doesn't\ correspond\ to\ pattern\ \(\backslash\)"{}"{}}\ +\ p.src()\ +}
\DoxyCodeLine{03443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}).c\_str());}
\DoxyCodeLine{03444\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03445\ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Token\ parameter\ [name="{}}\ +\ variableName\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(result)\ +}
\DoxyCodeLine{03446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)"{},\ doesn't\ correspond\ to\ pattern\ \(\backslash\)"{}"{}}\ +\ p.src()\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}).c\_str());}
\DoxyCodeLine{03447\ \ \ \ \ \}}
\DoxyCodeLine{03448\ \}}
\DoxyCodeLine{03449\ }
\DoxyCodeLine{03450\ \textcolor{keywordtype}{void}\ InStream::readWordTo(std::string\ \&result,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03451\ \ \ \ \ \textcolor{keywordflow}{return}\ readWordTo(result,\ \mbox{\hyperlink{classpattern}{pattern}}(ptrn),\ variableName);}
\DoxyCodeLine{03452\ \}}
\DoxyCodeLine{03453\ }
\DoxyCodeLine{03454\ \textcolor{keywordtype}{void}\ InStream::readTokenTo(std::string\ \&result,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03455\ \ \ \ \ \textcolor{keywordflow}{return}\ readWordTo(result,\ p,\ variableName);}
\DoxyCodeLine{03456\ \}}
\DoxyCodeLine{03457\ }
\DoxyCodeLine{03458\ \textcolor{keywordtype}{void}\ InStream::readTokenTo(std::string\ \&result,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03459\ \ \ \ \ \textcolor{keywordflow}{return}\ readWordTo(result,\ ptrn,\ variableName);}
\DoxyCodeLine{03460\ \}}
\DoxyCodeLine{03461\ }
\DoxyCodeLine{03462\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{03463\ \_\_attribute\_\_((pure))}
\DoxyCodeLine{03464\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03465\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ equals(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ integer,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *s)\ \{}
\DoxyCodeLine{03466\ \ \ \ \ \textcolor{keywordflow}{if}\ (integer\ ==\ LLONG\_MIN)}
\DoxyCodeLine{03467\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ strcmp(s,\ \textcolor{stringliteral}{"{}-\/9223372036854775808"{}})\ ==\ 0;}
\DoxyCodeLine{03468\ }
\DoxyCodeLine{03469\ \ \ \ \ \textcolor{keywordflow}{if}\ (integer\ ==\ 0LL)}
\DoxyCodeLine{03470\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ strcmp(s,\ \textcolor{stringliteral}{"{}0"{}})\ ==\ 0;}
\DoxyCodeLine{03471\ }
\DoxyCodeLine{03472\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ =\ strlen(s);}
\DoxyCodeLine{03473\ }
\DoxyCodeLine{03474\ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ ==\ 0)}
\DoxyCodeLine{03475\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{03476\ }
\DoxyCodeLine{03477\ \ \ \ \ \textcolor{keywordflow}{if}\ (integer\ <\ 0\ \&\&\ s[0]\ !=\ \textcolor{charliteral}{'-\/'})}
\DoxyCodeLine{03478\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{03479\ }
\DoxyCodeLine{03480\ \ \ \ \ \textcolor{keywordflow}{if}\ (integer\ <\ 0)}
\DoxyCodeLine{03481\ \ \ \ \ \ \ \ \ s++,\ length-\/-\/,\ integer\ =\ -\/integer;}
\DoxyCodeLine{03482\ }
\DoxyCodeLine{03483\ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ ==\ 0)}
\DoxyCodeLine{03484\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{03485\ }
\DoxyCodeLine{03486\ \ \ \ \ \textcolor{keywordflow}{while}\ (integer\ >\ 0)\ \{}
\DoxyCodeLine{03487\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ digit\ =\ int(integer\ \%\ 10);}
\DoxyCodeLine{03488\ }
\DoxyCodeLine{03489\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[length\ -\/\ 1]\ !=\ \textcolor{charliteral}{'0'}\ +\ digit)}
\DoxyCodeLine{03490\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{03491\ }
\DoxyCodeLine{03492\ \ \ \ \ \ \ \ \ length-\/-\/;}
\DoxyCodeLine{03493\ \ \ \ \ \ \ \ \ integer\ /=\ 10;}
\DoxyCodeLine{03494\ \ \ \ \ \}}
\DoxyCodeLine{03495\ }
\DoxyCodeLine{03496\ \ \ \ \ \textcolor{keywordflow}{return}\ length\ ==\ 0;}
\DoxyCodeLine{03497\ \}}
\DoxyCodeLine{03498\ }
\DoxyCodeLine{03499\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{03500\ \_\_attribute\_\_((pure))}
\DoxyCodeLine{03501\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03502\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ equals(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ integer,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *s)\ \{}
\DoxyCodeLine{03503\ \ \ \ \ \textcolor{keywordflow}{if}\ (integer\ ==\ ULLONG\_MAX)}
\DoxyCodeLine{03504\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ strcmp(s,\ \textcolor{stringliteral}{"{}18446744073709551615"{}})\ ==\ 0;}
\DoxyCodeLine{03505\ }
\DoxyCodeLine{03506\ \ \ \ \ \textcolor{keywordflow}{if}\ (integer\ ==\ 0ULL)}
\DoxyCodeLine{03507\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ strcmp(s,\ \textcolor{stringliteral}{"{}0"{}})\ ==\ 0;}
\DoxyCodeLine{03508\ }
\DoxyCodeLine{03509\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ =\ strlen(s);}
\DoxyCodeLine{03510\ }
\DoxyCodeLine{03511\ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ ==\ 0)}
\DoxyCodeLine{03512\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{03513\ }
\DoxyCodeLine{03514\ \ \ \ \ \textcolor{keywordflow}{while}\ (integer\ >\ 0)\ \{}
\DoxyCodeLine{03515\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ digit\ =\ int(integer\ \%\ 10);}
\DoxyCodeLine{03516\ }
\DoxyCodeLine{03517\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[length\ -\/\ 1]\ !=\ \textcolor{charliteral}{'0'}\ +\ digit)}
\DoxyCodeLine{03518\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{03519\ }
\DoxyCodeLine{03520\ \ \ \ \ \ \ \ \ length-\/-\/;}
\DoxyCodeLine{03521\ \ \ \ \ \ \ \ \ integer\ /=\ 10;}
\DoxyCodeLine{03522\ \ \ \ \ \}}
\DoxyCodeLine{03523\ }
\DoxyCodeLine{03524\ \ \ \ \ \textcolor{keywordflow}{return}\ length\ ==\ 0;}
\DoxyCodeLine{03525\ \}}
\DoxyCodeLine{03526\ }
\DoxyCodeLine{03527\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ stringToDouble(\mbox{\hyperlink{struct_in_stream}{InStream}}\ \&in,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *buffer)\ \{}
\DoxyCodeLine{03528\ \ \ \ \ \textcolor{keywordtype}{double}\ result;}
\DoxyCodeLine{03529\ }
\DoxyCodeLine{03530\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ =\ strlen(buffer);}
\DoxyCodeLine{03531\ }
\DoxyCodeLine{03532\ \ \ \ \ \textcolor{keywordtype}{int}\ minusCount\ =\ 0;}
\DoxyCodeLine{03533\ \ \ \ \ \textcolor{keywordtype}{int}\ plusCount\ =\ 0;}
\DoxyCodeLine{03534\ \ \ \ \ \textcolor{keywordtype}{int}\ decimalPointCount\ =\ 0;}
\DoxyCodeLine{03535\ \ \ \ \ \textcolor{keywordtype}{int}\ digitCount\ =\ 0;}
\DoxyCodeLine{03536\ \ \ \ \ \textcolor{keywordtype}{int}\ eCount\ =\ 0;}
\DoxyCodeLine{03537\ }
\DoxyCodeLine{03538\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ length;\ i++)\ \{}
\DoxyCodeLine{03539\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\textcolor{charliteral}{'0'}\ <=\ buffer[i]\ \&\&\ buffer[i]\ <=\ \textcolor{charliteral}{'9'})\ ||\ buffer[i]\ ==\ \textcolor{charliteral}{'.'}}
\DoxyCodeLine{03540\ \ \ \ \ \ \ \ \ \ \ \ \ ||\ buffer[i]\ ==\ \textcolor{charliteral}{'e'}\ ||\ buffer[i]\ ==\ \textcolor{charliteral}{'E'}}
\DoxyCodeLine{03541\ \ \ \ \ \ \ \ \ \ \ \ \ ||\ buffer[i]\ ==\ \textcolor{charliteral}{'-\/'}\ ||\ buffer[i]\ ==\ \textcolor{charliteral}{'+'})\ \{}
\DoxyCodeLine{03542\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{charliteral}{'0'}\ <=\ buffer[i]\ \&\&\ buffer[i]\ <=\ \textcolor{charliteral}{'9'})}
\DoxyCodeLine{03543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ digitCount++;}
\DoxyCodeLine{03544\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ ==\ \textcolor{charliteral}{'e'}\ ||\ buffer[i]\ ==\ \textcolor{charliteral}{'E'})}
\DoxyCodeLine{03545\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ eCount++;}
\DoxyCodeLine{03546\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ ==\ \textcolor{charliteral}{'-\/'})}
\DoxyCodeLine{03547\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ minusCount++;}
\DoxyCodeLine{03548\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ ==\ \textcolor{charliteral}{'+'})}
\DoxyCodeLine{03549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ plusCount++;}
\DoxyCodeLine{03550\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ ==\ \textcolor{charliteral}{'.'})}
\DoxyCodeLine{03551\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ decimalPointCount++;}
\DoxyCodeLine{03552\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03553\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03554\ \ \ \ \ \}}
\DoxyCodeLine{03555\ }
\DoxyCodeLine{03556\ \ \ \ \ \textcolor{comment}{//\ If\ for\ sure\ is\ not\ a\ number\ in\ standard\ notation\ or\ in\ e-\/notation.}}
\DoxyCodeLine{03557\ \ \ \ \ \textcolor{keywordflow}{if}\ (digitCount\ ==\ 0\ ||\ minusCount\ >\ 2\ ||\ plusCount\ >\ 2\ ||\ decimalPointCount\ >\ 1\ ||\ eCount\ >\ 1)}
\DoxyCodeLine{03558\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03559\ }
\DoxyCodeLine{03560\ \ \ \ \ \textcolor{keywordtype}{char}\ *suffix\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{char}[length\ +\ 1];}
\DoxyCodeLine{03561\ \ \ \ \ std::memset(suffix,\ 0,\ length\ +\ 1);}
\DoxyCodeLine{03562\ \ \ \ \ \textcolor{keywordtype}{int}\ scanned\ =\ std::sscanf(buffer,\ \textcolor{stringliteral}{"{}\%lf\%s"{}},\ \&result,\ suffix);}
\DoxyCodeLine{03563\ \ \ \ \ \textcolor{keywordtype}{bool}\ empty\ =\ strlen(suffix)\ ==\ 0;}
\DoxyCodeLine{03564\ \ \ \ \ \textcolor{keyword}{delete}[]\ suffix;}
\DoxyCodeLine{03565\ }
\DoxyCodeLine{03566\ \ \ \ \ \textcolor{keywordflow}{if}\ (scanned\ ==\ 1\ ||\ (scanned\ ==\ 2\ \&\&\ empty))\ \{}
\DoxyCodeLine{03567\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_testlib\_isNaN(result))}
\DoxyCodeLine{03568\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03569\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{03570\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03571\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03572\ \}}
\DoxyCodeLine{03573\ }
\DoxyCodeLine{03574\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ stringToDouble(\mbox{\hyperlink{struct_in_stream}{InStream}}\ \&in,\ \textcolor{keyword}{const}\ std::string\&\ buffer)\ \{}
\DoxyCodeLine{03575\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ buffer.length();\ i++)}
\DoxyCodeLine{03576\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ ==\ \textcolor{charliteral}{'\(\backslash\)0'})}
\DoxyCodeLine{03577\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found\ (it\ contains\ \(\backslash\)\(\backslash\)0)"{}}).c\_str());}
\DoxyCodeLine{03578\ \ \ \ \ \textcolor{keywordflow}{return}\ stringToDouble(in,\ buffer.c\_str());}
\DoxyCodeLine{03579\ \}}
\DoxyCodeLine{03580\ }
\DoxyCodeLine{03581\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ stringToStrictDouble(\mbox{\hyperlink{struct_in_stream}{InStream}}\ \&in,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *buffer,}
\DoxyCodeLine{03582\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ minAfterPointDigitCount,\ \textcolor{keywordtype}{int}\ maxAfterPointDigitCount)\ \{}
\DoxyCodeLine{03583\ \ \ \ \ \textcolor{keywordflow}{if}\ (minAfterPointDigitCount\ <\ 0)}
\DoxyCodeLine{03584\ \ \ \ \ \ \ \ \ in.quit(\_fail,\ \textcolor{stringliteral}{"{}stringToStrictDouble:\ minAfterPointDigitCount\ should\ be\ non-\/negative."{}});}
\DoxyCodeLine{03585\ }
\DoxyCodeLine{03586\ \ \ \ \ \textcolor{keywordflow}{if}\ (minAfterPointDigitCount\ >\ maxAfterPointDigitCount)}
\DoxyCodeLine{03587\ \ \ \ \ \ \ \ \ in.quit(\_fail,}
\DoxyCodeLine{03588\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}stringToStrictDouble:\ minAfterPointDigitCount\ should\ be\ less\ or\ equal\ to\ maxAfterPointDigitCount."{}});}
\DoxyCodeLine{03589\ }
\DoxyCodeLine{03590\ \ \ \ \ \textcolor{keywordtype}{double}\ result;}
\DoxyCodeLine{03591\ }
\DoxyCodeLine{03592\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ =\ strlen(buffer);}
\DoxyCodeLine{03593\ }
\DoxyCodeLine{03594\ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ ==\ 0\ ||\ length\ >\ 1000)}
\DoxyCodeLine{03595\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ strict\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03596\ }
\DoxyCodeLine{03597\ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[0]\ !=\ \textcolor{charliteral}{'-\/'}\ \&\&\ (buffer[0]\ <\ \textcolor{charliteral}{'0'}\ ||\ buffer[0]\ >\ \textcolor{charliteral}{'9'}))}
\DoxyCodeLine{03598\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ strict\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03599\ }
\DoxyCodeLine{03600\ \ \ \ \ \textcolor{keywordtype}{int}\ pointPos\ =\ -\/1;}
\DoxyCodeLine{03601\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 1;\ i\ +\ 1\ <\ length;\ i++)\ \{}
\DoxyCodeLine{03602\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ ==\ \textcolor{charliteral}{'.'})\ \{}
\DoxyCodeLine{03603\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pointPos\ >\ -\/1)}
\DoxyCodeLine{03604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ strict\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03605\ \ \ \ \ \ \ \ \ \ \ \ \ pointPos\ =\ int(i);}
\DoxyCodeLine{03606\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03607\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ !=\ \textcolor{charliteral}{'.'}\ \&\&\ (buffer[i]\ <\ \textcolor{charliteral}{'0'}\ ||\ buffer[i]\ >\ \textcolor{charliteral}{'9'}))}
\DoxyCodeLine{03608\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ strict\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03609\ \ \ \ \ \}}
\DoxyCodeLine{03610\ }
\DoxyCodeLine{03611\ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[length\ -\/\ 1]\ <\ \textcolor{charliteral}{'0'}\ ||\ buffer[length\ -\/\ 1]\ >\ \textcolor{charliteral}{'9'})}
\DoxyCodeLine{03612\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ strict\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03613\ }
\DoxyCodeLine{03614\ \ \ \ \ \textcolor{keywordtype}{int}\ afterDigitsCount\ =\ (pointPos\ ==\ -\/1\ ?\ 0\ :\ int(length)\ -\/\ pointPos\ -\/\ 1);}
\DoxyCodeLine{03615\ \ \ \ \ \textcolor{keywordflow}{if}\ (afterDigitsCount\ <\ minAfterPointDigitCount\ ||\ afterDigitsCount\ >\ maxAfterPointDigitCount)}
\DoxyCodeLine{03616\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ strict\ double\ with\ number\ of\ digits\ after\ point\ in\ range\ ["{}}}
\DoxyCodeLine{03617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ vtos(minAfterPointDigitCount)}
\DoxyCodeLine{03618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ \textcolor{stringliteral}{"{},"{}}}
\DoxyCodeLine{03619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ vtos(maxAfterPointDigitCount)}
\DoxyCodeLine{03620\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ \textcolor{stringliteral}{"{}],\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str()}
\DoxyCodeLine{03621\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{03622\ }
\DoxyCodeLine{03623\ \ \ \ \ \textcolor{keywordtype}{int}\ firstDigitPos\ =\ -\/1;}
\DoxyCodeLine{03624\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ length;\ i++)}
\DoxyCodeLine{03625\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ >=\ \textcolor{charliteral}{'0'}\ \&\&\ buffer[i]\ <=\ \textcolor{charliteral}{'9'})\ \{}
\DoxyCodeLine{03626\ \ \ \ \ \ \ \ \ \ \ \ \ firstDigitPos\ =\ int(i);}
\DoxyCodeLine{03627\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03628\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03629\ }
\DoxyCodeLine{03630\ \ \ \ \ \textcolor{keywordflow}{if}\ (firstDigitPos\ >\ 1\ ||\ firstDigitPos\ ==\ -\/1)}
\DoxyCodeLine{03631\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ strict\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03632\ }
\DoxyCodeLine{03633\ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[firstDigitPos]\ ==\ \textcolor{charliteral}{'0'}\ \&\&\ firstDigitPos\ +\ 1\ <\ \textcolor{keywordtype}{int}(length)}
\DoxyCodeLine{03634\ \ \ \ \ \ \ \ \ \&\&\ buffer[firstDigitPos\ +\ 1]\ >=\ \textcolor{charliteral}{'0'}\ \&\&\ buffer[firstDigitPos\ +\ 1]\ <=\ \textcolor{charliteral}{'9'})}
\DoxyCodeLine{03635\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ strict\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03636\ }
\DoxyCodeLine{03637\ \ \ \ \ \textcolor{keywordtype}{char}\ *suffix\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{char}[length\ +\ 1];}
\DoxyCodeLine{03638\ \ \ \ \ std::memset(suffix,\ 0,\ length\ +\ 1);}
\DoxyCodeLine{03639\ \ \ \ \ \textcolor{keywordtype}{int}\ scanned\ =\ std::sscanf(buffer,\ \textcolor{stringliteral}{"{}\%lf\%s"{}},\ \&result,\ suffix);}
\DoxyCodeLine{03640\ \ \ \ \ \textcolor{keywordtype}{bool}\ empty\ =\ strlen(suffix)\ ==\ 0;}
\DoxyCodeLine{03641\ \ \ \ \ \textcolor{keyword}{delete}[]\ suffix;}
\DoxyCodeLine{03642\ }
\DoxyCodeLine{03643\ \ \ \ \ \textcolor{keywordflow}{if}\ (scanned\ ==\ 1\ ||\ (scanned\ ==\ 2\ \&\&\ empty))\ \{}
\DoxyCodeLine{03644\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_testlib\_isNaN(result)\ ||\ \_\_testlib\_isInfinite(result))}
\DoxyCodeLine{03645\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03646\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[0]\ ==\ \textcolor{charliteral}{'-\/'}\ \&\&\ result\ >=\ 0)}
\DoxyCodeLine{03647\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Redundant\ minus\ in\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03648\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{03649\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03650\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03651\ \}}
\DoxyCodeLine{03652\ }
\DoxyCodeLine{03653\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ stringToStrictDouble(\mbox{\hyperlink{struct_in_stream}{InStream}}\ \&in,\ \textcolor{keyword}{const}\ std::string\&\ buffer,}
\DoxyCodeLine{03654\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ minAfterPointDigitCount,\ \textcolor{keywordtype}{int}\ maxAfterPointDigitCount)\ \{}
\DoxyCodeLine{03655\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ buffer.length();\ i++)}
\DoxyCodeLine{03656\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ ==\ \textcolor{charliteral}{'\(\backslash\)0'})}
\DoxyCodeLine{03657\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ double,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found\ (it\ contains\ \(\backslash\)\(\backslash\)0)"{}}).c\_str());}
\DoxyCodeLine{03658\ \ \ \ \ \textcolor{keywordflow}{return}\ stringToStrictDouble(in,\ buffer.c\_str(),\ minAfterPointDigitCount,\ maxAfterPointDigitCount);}
\DoxyCodeLine{03659\ \}}
\DoxyCodeLine{03660\ }
\DoxyCodeLine{03661\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ stringToLongLong(\mbox{\hyperlink{struct_in_stream}{InStream}}\ \&in,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *buffer)\ \{}
\DoxyCodeLine{03662\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ =\ strlen(buffer);}
\DoxyCodeLine{03663\ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ ==\ 0\ ||\ length\ >\ 20)}
\DoxyCodeLine{03664\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03665\ }
\DoxyCodeLine{03666\ \ \ \ \ \textcolor{keywordtype}{bool}\ has\_minus\ =\ (length\ >\ 1\ \&\&\ buffer[0]\ ==\ \textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{03667\ \ \ \ \ \textcolor{keywordtype}{int}\ zeroes\ =\ 0;}
\DoxyCodeLine{03668\ \ \ \ \ \textcolor{keywordtype}{bool}\ processingZeroes\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{03669\ }
\DoxyCodeLine{03670\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ (has\_minus\ ?\ 1\ :\ 0);\ i\ <\ int(length);\ i++)\ \{}
\DoxyCodeLine{03671\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ ==\ \textcolor{charliteral}{'0'}\ \&\&\ processingZeroes)}
\DoxyCodeLine{03672\ \ \ \ \ \ \ \ \ \ \ \ \ zeroes++;}
\DoxyCodeLine{03673\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03674\ \ \ \ \ \ \ \ \ \ \ \ \ processingZeroes\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{03675\ }
\DoxyCodeLine{03676\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ <\ \textcolor{charliteral}{'0'}\ ||\ buffer[i]\ >\ \textcolor{charliteral}{'9'})}
\DoxyCodeLine{03677\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03678\ \ \ \ \ \}}
\DoxyCodeLine{03679\ }
\DoxyCodeLine{03680\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\ result;}
\DoxyCodeLine{03681\ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{03682\ \ \ \ \ \ \ \ \ result\ =\ std::stoll(buffer);}
\DoxyCodeLine{03683\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ std::exception\&)\ \{}
\DoxyCodeLine{03684\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03685\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{03686\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03687\ \ \ \ \ \}}
\DoxyCodeLine{03688\ }
\DoxyCodeLine{03689\ \ \ \ \ \textcolor{keywordflow}{if}\ ((zeroes\ >\ 0\ \&\&\ (result\ !=\ 0\ ||\ has\_minus))\ ||\ zeroes\ >\ 1)}
\DoxyCodeLine{03690\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03691\ }
\DoxyCodeLine{03692\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{03693\ \}}
\DoxyCodeLine{03694\ }
\DoxyCodeLine{03695\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ stringToLongLong(\mbox{\hyperlink{struct_in_stream}{InStream}}\ \&in,\ \textcolor{keyword}{const}\ std::string\&\ buffer)\ \{}
\DoxyCodeLine{03696\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ buffer.length();\ i++)}
\DoxyCodeLine{03697\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ ==\ \textcolor{charliteral}{'\(\backslash\)0'})}
\DoxyCodeLine{03698\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found\ (it\ contains\ \(\backslash\)\(\backslash\)0)"{}}).c\_str());}
\DoxyCodeLine{03699\ \ \ \ \ \textcolor{keywordflow}{return}\ stringToLongLong(in,\ buffer.c\_str());}
\DoxyCodeLine{03700\ \}}
\DoxyCodeLine{03701\ }
\DoxyCodeLine{03702\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ stringToUnsignedLongLong(\mbox{\hyperlink{struct_in_stream}{InStream}}\ \&in,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *buffer)\ \{}
\DoxyCodeLine{03703\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ =\ strlen(buffer);}
\DoxyCodeLine{03704\ }
\DoxyCodeLine{03705\ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ ==\ 0\ ||\ length\ >\ 20)}
\DoxyCodeLine{03706\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ unsigned\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03707\ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ >\ 1\ \&\&\ buffer[0]\ ==\ \textcolor{charliteral}{'0'})}
\DoxyCodeLine{03708\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ unsigned\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03709\ }
\DoxyCodeLine{03710\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ int(length);\ i++)\ \{}
\DoxyCodeLine{03711\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ <\ \textcolor{charliteral}{'0'}\ ||\ buffer[i]\ >\ \textcolor{charliteral}{'9'})}
\DoxyCodeLine{03712\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ unsigned\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03713\ \ \ \ \ \}}
\DoxyCodeLine{03714\ }
\DoxyCodeLine{03715\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ result;}
\DoxyCodeLine{03716\ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{03717\ \ \ \ \ \ \ \ \ result\ =\ std::stoull(buffer);}
\DoxyCodeLine{03718\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ std::exception\&)\ \{}
\DoxyCodeLine{03719\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ unsigned\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03720\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{03721\ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ unsigned\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03722\ \ \ \ \ \}}
\DoxyCodeLine{03723\ }
\DoxyCodeLine{03724\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{03725\ \}}
\DoxyCodeLine{03726\ }
\DoxyCodeLine{03727\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ stringToUnsignedLongLong(\mbox{\hyperlink{struct_in_stream}{InStream}}\ \&in,\ \textcolor{keyword}{const}\ std::string\&\ buffer)\ \{}
\DoxyCodeLine{03728\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ buffer.length();\ i++)}
\DoxyCodeLine{03729\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer[i]\ ==\ \textcolor{charliteral}{'\(\backslash\)0'})}
\DoxyCodeLine{03730\ \ \ \ \ \ \ \ \ \ \ \ \ in.quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ unsigned\ integer,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(buffer)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found\ (it\ contains\ \(\backslash\)\(\backslash\)0)"{}}).c\_str());}
\DoxyCodeLine{03731\ \ \ \ \ \textcolor{keywordflow}{return}\ stringToUnsignedLongLong(in,\ buffer.c\_str());}
\DoxyCodeLine{03732\ \}}
\DoxyCodeLine{03733\ }
\DoxyCodeLine{03734\ \textcolor{keywordtype}{int}\ InStream::readInteger()\ \{}
\DoxyCodeLine{03735\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict\ \&\&\ seekEof())}
\DoxyCodeLine{03736\ \ \ \ \ \ \ \ \ quit(\_unexpected\_eof,\ \textcolor{stringliteral}{"{}Unexpected\ end\ of\ file\ -\/\ int32\ expected"{}});}
\DoxyCodeLine{03737\ }
\DoxyCodeLine{03738\ \ \ \ \ readWordTo(\_tmpReadToken);}
\DoxyCodeLine{03739\ }
\DoxyCodeLine{03740\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ value\ =\ stringToLongLong(*\textcolor{keyword}{this},\ \_tmpReadToken);}
\DoxyCodeLine{03741\ \ \ \ \ \textcolor{keywordflow}{if}\ (value\ <\ INT\_MIN\ ||\ value\ >\ INT\_MAX)}
\DoxyCodeLine{03742\ \ \ \ \ \ \ \ \ quit(\_pe,\ (\textcolor{stringliteral}{"{}Expected\ int32,\ but\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(\_tmpReadToken)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ found"{}}).c\_str());}
\DoxyCodeLine{03743\ }
\DoxyCodeLine{03744\ \ \ \ \ \textcolor{keywordflow}{return}\ int(value);}
\DoxyCodeLine{03745\ \}}
\DoxyCodeLine{03746\ }
\DoxyCodeLine{03747\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ InStream::readLong()\ \{}
\DoxyCodeLine{03748\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict\ \&\&\ seekEof())}
\DoxyCodeLine{03749\ \ \ \ \ \ \ \ \ quit(\_unexpected\_eof,\ \textcolor{stringliteral}{"{}Unexpected\ end\ of\ file\ -\/\ int64\ expected"{}});}
\DoxyCodeLine{03750\ }
\DoxyCodeLine{03751\ \ \ \ \ readWordTo(\_tmpReadToken);}
\DoxyCodeLine{03752\ }
\DoxyCodeLine{03753\ \ \ \ \ \textcolor{keywordflow}{return}\ stringToLongLong(*\textcolor{keyword}{this},\ \_tmpReadToken);}
\DoxyCodeLine{03754\ \}}
\DoxyCodeLine{03755\ }
\DoxyCodeLine{03756\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ InStream::readUnsignedLong()\ \{}
\DoxyCodeLine{03757\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict\ \&\&\ seekEof())}
\DoxyCodeLine{03758\ \ \ \ \ \ \ \ \ quit(\_unexpected\_eof,\ \textcolor{stringliteral}{"{}Unexpected\ end\ of\ file\ -\/\ int64\ expected"{}});}
\DoxyCodeLine{03759\ }
\DoxyCodeLine{03760\ \ \ \ \ readWordTo(\_tmpReadToken);}
\DoxyCodeLine{03761\ }
\DoxyCodeLine{03762\ \ \ \ \ \textcolor{keywordflow}{return}\ stringToUnsignedLongLong(*\textcolor{keyword}{this},\ \_tmpReadToken);}
\DoxyCodeLine{03763\ \}}
\DoxyCodeLine{03764\ }
\DoxyCodeLine{03765\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ InStream::readLong(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03766\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ result\ =\ readLong();}
\DoxyCodeLine{03767\ }
\DoxyCodeLine{03768\ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ <\ minv\ ||\ result\ >\ maxv)\ \{}
\DoxyCodeLine{03769\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (readManyIteration\ ==\ NO\_INDEX)\ \{}
\DoxyCodeLine{03770\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03771\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Integer\ "{}}\ +\ vtos(result)\ +\ \textcolor{stringliteral}{"{}\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +}
\DoxyCodeLine{03772\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03773\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03774\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Integer\ parameter\ [name="{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +}
\DoxyCodeLine{03775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03776\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03777\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03778\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Integer\ element\ [index="{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +}
\DoxyCodeLine{03779\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03780\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03781\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,}
\DoxyCodeLine{03782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}Integer\ element\ "{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}["{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +}
\DoxyCodeLine{03783\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vtos(result)\ +\ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03784\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03785\ \ \ \ \ \}}
\DoxyCodeLine{03786\ }
\DoxyCodeLine{03787\ \ \ \ \ \textcolor{keywordflow}{if}\ (strict\ \&\&\ !variableName.empty())}
\DoxyCodeLine{03788\ \ \ \ \ \ \ \ \ validator.addBoundsHit(variableName,\ \mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}(minv\ ==\ result,\ maxv\ ==\ result));}
\DoxyCodeLine{03789\ }
\DoxyCodeLine{03790\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{03791\ \}}
\DoxyCodeLine{03792\ }
\DoxyCodeLine{03793\ std::vector<long\ long>}
\DoxyCodeLine{03794\ InStream::readLongs(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03795\ \ \ \ \ \_\_testlib\_readMany(readLongs,\ readLong(minv,\ maxv,\ variablesName),\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03796\ \}}
\DoxyCodeLine{03797\ }
\DoxyCodeLine{03798\ std::vector<long\ long>\ InStream::readLongs(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03799\ \ \ \ \ \_\_testlib\_readMany(readLongs,\ readLong(),\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03800\ \}}
\DoxyCodeLine{03801\ }
\DoxyCodeLine{03802\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}}
\DoxyCodeLine{03803\ InStream::readUnsignedLong(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03804\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ result\ =\ readUnsignedLong();}
\DoxyCodeLine{03805\ }
\DoxyCodeLine{03806\ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ <\ minv\ ||\ result\ >\ maxv)\ \{}
\DoxyCodeLine{03807\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (readManyIteration\ ==\ NO\_INDEX)\ \{}
\DoxyCodeLine{03808\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03809\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,}
\DoxyCodeLine{03810\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}Unsigned\ integer\ "{}}\ +\ vtos(result)\ +\ \textcolor{stringliteral}{"{}\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +}
\DoxyCodeLine{03811\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03812\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03813\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,}
\DoxyCodeLine{03814\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}Unsigned\ integer\ parameter\ [name="{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +}
\DoxyCodeLine{03815\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03816\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03817\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03818\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,}
\DoxyCodeLine{03819\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}Unsigned\ integer\ element\ [index="{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +}
\DoxyCodeLine{03820\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03821\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03822\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Unsigned\ integer\ element\ "{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}["{}}\ +\ vtos(readManyIteration)\ +}
\DoxyCodeLine{03823\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +\ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +}
\DoxyCodeLine{03824\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03825\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03826\ \ \ \ \ \}}
\DoxyCodeLine{03827\ }
\DoxyCodeLine{03828\ \ \ \ \ \textcolor{keywordflow}{if}\ (strict\ \&\&\ !variableName.empty())}
\DoxyCodeLine{03829\ \ \ \ \ \ \ \ \ validator.addBoundsHit(variableName,\ \mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}(minv\ ==\ result,\ maxv\ ==\ result));}
\DoxyCodeLine{03830\ }
\DoxyCodeLine{03831\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{03832\ \}}
\DoxyCodeLine{03833\ }
\DoxyCodeLine{03834\ std::vector<unsigned\ long\ long>\ InStream::readUnsignedLongs(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,}
\DoxyCodeLine{03835\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03836\ \ \ \ \ \_\_testlib\_readMany(readUnsignedLongs,\ readUnsignedLong(minv,\ maxv,\ variablesName),\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03837\ \}}
\DoxyCodeLine{03838\ }
\DoxyCodeLine{03839\ std::vector<unsigned\ long\ long>\ InStream::readUnsignedLongs(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03840\ \ \ \ \ \_\_testlib\_readMany(readUnsignedLongs,\ readUnsignedLong(),\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03841\ \}}
\DoxyCodeLine{03842\ }
\DoxyCodeLine{03843\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}}
\DoxyCodeLine{03844\ InStream::readLong(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ minv,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03845\ \ \ \ \ \textcolor{keywordflow}{return}\ readUnsignedLong(minv,\ maxv,\ variableName);}
\DoxyCodeLine{03846\ \}}
\DoxyCodeLine{03847\ }
\DoxyCodeLine{03848\ \textcolor{keywordtype}{int}\ InStream::readInt()\ \{}
\DoxyCodeLine{03849\ \ \ \ \ \textcolor{keywordflow}{return}\ readInteger();}
\DoxyCodeLine{03850\ \}}
\DoxyCodeLine{03851\ }
\DoxyCodeLine{03852\ \textcolor{keywordtype}{int}\ InStream::readInt(\textcolor{keywordtype}{int}\ minv,\ \textcolor{keywordtype}{int}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03853\ \ \ \ \ \textcolor{keywordtype}{int}\ result\ =\ readInt();}
\DoxyCodeLine{03854\ }
\DoxyCodeLine{03855\ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ <\ minv\ ||\ result\ >\ maxv)\ \{}
\DoxyCodeLine{03856\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (readManyIteration\ ==\ NO\_INDEX)\ \{}
\DoxyCodeLine{03857\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03858\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Integer\ "{}}\ +\ vtos(result)\ +\ \textcolor{stringliteral}{"{}\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +}
\DoxyCodeLine{03859\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03860\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03861\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Integer\ parameter\ [name="{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +}
\DoxyCodeLine{03862\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03863\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03864\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03865\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Integer\ element\ [index="{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +}
\DoxyCodeLine{03866\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03867\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03868\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,}
\DoxyCodeLine{03869\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}Integer\ element\ "{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}["{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +}
\DoxyCodeLine{03870\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vtos(result)\ +\ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ toHumanReadableString(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ toHumanReadableString(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03871\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03872\ \ \ \ \ \}}
\DoxyCodeLine{03873\ }
\DoxyCodeLine{03874\ \ \ \ \ \textcolor{keywordflow}{if}\ (strict\ \&\&\ !variableName.empty())}
\DoxyCodeLine{03875\ \ \ \ \ \ \ \ \ validator.addBoundsHit(variableName,\ \mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}(minv\ ==\ result,\ maxv\ ==\ result));}
\DoxyCodeLine{03876\ }
\DoxyCodeLine{03877\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{03878\ \}}
\DoxyCodeLine{03879\ }
\DoxyCodeLine{03880\ \textcolor{keywordtype}{int}\ InStream::readInteger(\textcolor{keywordtype}{int}\ minv,\ \textcolor{keywordtype}{int}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03881\ \ \ \ \ \textcolor{keywordflow}{return}\ readInt(minv,\ maxv,\ variableName);}
\DoxyCodeLine{03882\ \}}
\DoxyCodeLine{03883\ }
\DoxyCodeLine{03884\ std::vector<int>\ InStream::readInts(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ minv,\ \textcolor{keywordtype}{int}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03885\ \ \ \ \ \_\_testlib\_readMany(readInts,\ readInt(minv,\ maxv,\ variablesName),\ \textcolor{keywordtype}{int},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03886\ \}}
\DoxyCodeLine{03887\ }
\DoxyCodeLine{03888\ std::vector<int>\ InStream::readInts(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03889\ \ \ \ \ \_\_testlib\_readMany(readInts,\ readInt(),\ \textcolor{keywordtype}{int},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03890\ \}}
\DoxyCodeLine{03891\ }
\DoxyCodeLine{03892\ std::vector<int>\ InStream::readIntegers(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ minv,\ \textcolor{keywordtype}{int}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03893\ \ \ \ \ \_\_testlib\_readMany(readIntegers,\ readInt(minv,\ maxv,\ variablesName),\ \textcolor{keywordtype}{int},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03894\ \}}
\DoxyCodeLine{03895\ }
\DoxyCodeLine{03896\ std::vector<int>\ InStream::readIntegers(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03897\ \ \ \ \ \_\_testlib\_readMany(readIntegers,\ readInt(),\ \textcolor{keywordtype}{int},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03898\ \}}
\DoxyCodeLine{03899\ }
\DoxyCodeLine{03900\ \textcolor{keywordtype}{double}\ InStream::readReal()\ \{}
\DoxyCodeLine{03901\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict\ \&\&\ seekEof())}
\DoxyCodeLine{03902\ \ \ \ \ \ \ \ \ quit(\_unexpected\_eof,\ \textcolor{stringliteral}{"{}Unexpected\ end\ of\ file\ -\/\ double\ expected"{}});}
\DoxyCodeLine{03903\ }
\DoxyCodeLine{03904\ \ \ \ \ \textcolor{keywordflow}{return}\ stringToDouble(*\textcolor{keyword}{this},\ readWord());}
\DoxyCodeLine{03905\ \}}
\DoxyCodeLine{03906\ }
\DoxyCodeLine{03907\ \textcolor{keywordtype}{double}\ InStream::readDouble()\ \{}
\DoxyCodeLine{03908\ \ \ \ \ \textcolor{keywordflow}{return}\ readReal();}
\DoxyCodeLine{03909\ \}}
\DoxyCodeLine{03910\ }
\DoxyCodeLine{03911\ \textcolor{keywordtype}{double}\ InStream::readReal(\textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03912\ \ \ \ \ \textcolor{keywordtype}{double}\ result\ =\ readReal();}
\DoxyCodeLine{03913\ }
\DoxyCodeLine{03914\ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ <\ minv\ ||\ result\ >\ maxv)\ \{}
\DoxyCodeLine{03915\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (readManyIteration\ ==\ NO\_INDEX)\ \{}
\DoxyCodeLine{03916\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03917\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Double\ "{}}\ +\ vtos(result)\ +\ \textcolor{stringliteral}{"{}\ violates\ the\ range\ ["{}}\ +\ vtos(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ vtos(maxv)\ +}
\DoxyCodeLine{03918\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03919\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03920\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Double\ parameter\ [name="{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +}
\DoxyCodeLine{03921\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ vtos(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ vtos(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03922\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03923\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03924\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Double\ element\ [index="{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +}
\DoxyCodeLine{03925\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ vtos(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ vtos(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03926\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03927\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,}
\DoxyCodeLine{03928\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}Double\ element\ "{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}["{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +}
\DoxyCodeLine{03929\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vtos(result)\ +\ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ vtos(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ vtos(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03930\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03931\ \ \ \ \ \}}
\DoxyCodeLine{03932\ }
\DoxyCodeLine{03933\ \ \ \ \ \textcolor{keywordflow}{if}\ (strict\ \&\&\ !variableName.empty())}
\DoxyCodeLine{03934\ \ \ \ \ \ \ \ \ validator.addBoundsHit(variableName,\ \mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}(}
\DoxyCodeLine{03935\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ doubleDelta(minv,\ result)\ <\ ValidatorBoundsHit::EPS,}
\DoxyCodeLine{03936\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ doubleDelta(maxv,\ result)\ <\ ValidatorBoundsHit::EPS}
\DoxyCodeLine{03937\ \ \ \ \ \ \ \ \ ));}
\DoxyCodeLine{03938\ }
\DoxyCodeLine{03939\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{03940\ \}}
\DoxyCodeLine{03941\ }
\DoxyCodeLine{03942\ std::vector<double>}
\DoxyCodeLine{03943\ InStream::readReals(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03944\ \ \ \ \ \_\_testlib\_readMany(readReals,\ readReal(minv,\ maxv,\ variablesName),\ \textcolor{keywordtype}{double},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03945\ \}}
\DoxyCodeLine{03946\ }
\DoxyCodeLine{03947\ std::vector<double>\ InStream::readReals(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03948\ \ \ \ \ \_\_testlib\_readMany(readReals,\ readReal(),\ \textcolor{keywordtype}{double},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03949\ \}}
\DoxyCodeLine{03950\ }
\DoxyCodeLine{03951\ \textcolor{keywordtype}{double}\ InStream::readDouble(\textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03952\ \ \ \ \ \textcolor{keywordflow}{return}\ readReal(minv,\ maxv,\ variableName);}
\DoxyCodeLine{03953\ \}}
\DoxyCodeLine{03954\ }
\DoxyCodeLine{03955\ std::vector<double>}
\DoxyCodeLine{03956\ InStream::readDoubles(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03957\ \ \ \ \ \_\_testlib\_readMany(readDoubles,\ readDouble(minv,\ maxv,\ variablesName),\ \textcolor{keywordtype}{double},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03958\ \}}
\DoxyCodeLine{03959\ }
\DoxyCodeLine{03960\ std::vector<double>\ InStream::readDoubles(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{03961\ \ \ \ \ \_\_testlib\_readMany(readDoubles,\ readDouble(),\ \textcolor{keywordtype}{double},\ \textcolor{keyword}{true})}
\DoxyCodeLine{03962\ \}}
\DoxyCodeLine{03963\ }
\DoxyCodeLine{03964\ \textcolor{keywordtype}{double}\ InStream::readStrictReal(\textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,}
\DoxyCodeLine{03965\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ minAfterPointDigitCount,\ \textcolor{keywordtype}{int}\ maxAfterPointDigitCount,}
\DoxyCodeLine{03966\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{03967\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict\ \&\&\ seekEof())}
\DoxyCodeLine{03968\ \ \ \ \ \ \ \ \ quit(\_unexpected\_eof,\ \textcolor{stringliteral}{"{}Unexpected\ end\ of\ file\ -\/\ strict\ double\ expected"{}});}
\DoxyCodeLine{03969\ }
\DoxyCodeLine{03970\ \ \ \ \ \textcolor{keywordtype}{double}\ result\ =\ stringToStrictDouble(*\textcolor{keyword}{this},\ readWord(),\ minAfterPointDigitCount,\ maxAfterPointDigitCount);}
\DoxyCodeLine{03971\ }
\DoxyCodeLine{03972\ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ <\ minv\ ||\ result\ >\ maxv)\ \{}
\DoxyCodeLine{03973\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (readManyIteration\ ==\ NO\_INDEX)\ \{}
\DoxyCodeLine{03974\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03975\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Strict\ double\ "{}}\ +\ vtos(result)\ +\ \textcolor{stringliteral}{"{}\ violates\ the\ range\ ["{}}\ +\ vtos(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ vtos(maxv)\ +}
\DoxyCodeLine{03976\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03977\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03978\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,}
\DoxyCodeLine{03979\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}Strict\ double\ parameter\ [name="{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +}
\DoxyCodeLine{03980\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ vtos(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ vtos(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03981\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03982\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{03983\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Strict\ double\ element\ [index="{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +}
\DoxyCodeLine{03984\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ vtos(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ vtos(maxv)\ +\ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03985\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03986\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Strict\ double\ element\ "{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}["{}}\ +\ vtos(readManyIteration)\ +}
\DoxyCodeLine{03987\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}]\ equals\ to\ "{}}\ +\ vtos(result)\ +\ \textcolor{stringliteral}{"{},\ violates\ the\ range\ ["{}}\ +\ vtos(minv)\ +\ \textcolor{stringliteral}{"{},\ "{}}\ +\ vtos(maxv)\ +}
\DoxyCodeLine{03988\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}]"{}}).c\_str());}
\DoxyCodeLine{03989\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03990\ \ \ \ \ \}}
\DoxyCodeLine{03991\ }
\DoxyCodeLine{03992\ \ \ \ \ \textcolor{keywordflow}{if}\ (strict\ \&\&\ !variableName.empty())}
\DoxyCodeLine{03993\ \ \ \ \ \ \ \ \ validator.addBoundsHit(variableName,\ \mbox{\hyperlink{struct_validator_bounds_hit}{ValidatorBoundsHit}}(}
\DoxyCodeLine{03994\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ doubleDelta(minv,\ result)\ <\ ValidatorBoundsHit::EPS,}
\DoxyCodeLine{03995\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ doubleDelta(maxv,\ result)\ <\ ValidatorBoundsHit::EPS}
\DoxyCodeLine{03996\ \ \ \ \ \ \ \ \ ));}
\DoxyCodeLine{03997\ }
\DoxyCodeLine{03998\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{03999\ \}}
\DoxyCodeLine{04000\ }
\DoxyCodeLine{04001\ std::vector<double>\ InStream::readStrictReals(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,}
\DoxyCodeLine{04002\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ minAfterPointDigitCount,\ \textcolor{keywordtype}{int}\ maxAfterPointDigitCount,}
\DoxyCodeLine{04003\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{04004\ \ \ \ \ \_\_testlib\_readMany(readStrictReals,}
\DoxyCodeLine{04005\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ readStrictReal(minv,\ maxv,\ minAfterPointDigitCount,\ maxAfterPointDigitCount,\ variablesName),}
\DoxyCodeLine{04006\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double},\ \textcolor{keyword}{true})}
\DoxyCodeLine{04007\ \}}
\DoxyCodeLine{04008\ }
\DoxyCodeLine{04009\ \textcolor{keywordtype}{double}\ InStream::readStrictDouble(\textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,}
\DoxyCodeLine{04010\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ minAfterPointDigitCount,\ \textcolor{keywordtype}{int}\ maxAfterPointDigitCount,}
\DoxyCodeLine{04011\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{04012\ \ \ \ \ \textcolor{keywordflow}{return}\ readStrictReal(minv,\ maxv,}
\DoxyCodeLine{04013\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ minAfterPointDigitCount,\ maxAfterPointDigitCount,}
\DoxyCodeLine{04014\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ variableName);}
\DoxyCodeLine{04015\ \}}
\DoxyCodeLine{04016\ }
\DoxyCodeLine{04017\ std::vector<double>\ InStream::readStrictDoubles(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{double}\ minv,\ \textcolor{keywordtype}{double}\ maxv,}
\DoxyCodeLine{04018\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ minAfterPointDigitCount,\ \textcolor{keywordtype}{int}\ maxAfterPointDigitCount,}
\DoxyCodeLine{04019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{04020\ \ \ \ \ \_\_testlib\_readMany(readStrictDoubles,}
\DoxyCodeLine{04021\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ readStrictDouble(minv,\ maxv,\ minAfterPointDigitCount,\ maxAfterPointDigitCount,\ variablesName),}
\DoxyCodeLine{04022\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double},\ \textcolor{keyword}{true})}
\DoxyCodeLine{04023\ \}}
\DoxyCodeLine{04024\ }
\DoxyCodeLine{04025\ \textcolor{keywordtype}{bool}\ InStream::eof()\ \{}
\DoxyCodeLine{04026\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict\ \&\&\ NULL\ ==\ reader)}
\DoxyCodeLine{04027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{04028\ }
\DoxyCodeLine{04029\ \ \ \ \ \textcolor{keywordflow}{return}\ reader-\/>eof();}
\DoxyCodeLine{04030\ \}}
\DoxyCodeLine{04031\ }
\DoxyCodeLine{04032\ \textcolor{keywordtype}{bool}\ InStream::seekEof()\ \{}
\DoxyCodeLine{04033\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict\ \&\&\ NULL\ ==\ reader)}
\DoxyCodeLine{04034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{04035\ \ \ \ \ skipBlanks();}
\DoxyCodeLine{04036\ \ \ \ \ \textcolor{keywordflow}{return}\ eof();}
\DoxyCodeLine{04037\ \}}
\DoxyCodeLine{04038\ }
\DoxyCodeLine{04039\ \textcolor{keywordtype}{bool}\ InStream::eoln()\ \{}
\DoxyCodeLine{04040\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict\ \&\&\ NULL\ ==\ reader)}
\DoxyCodeLine{04041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{04042\ }
\DoxyCodeLine{04043\ \ \ \ \ \textcolor{keywordtype}{int}\ c\ =\ reader-\/>nextChar();}
\DoxyCodeLine{04044\ }
\DoxyCodeLine{04045\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict)\ \{}
\DoxyCodeLine{04046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ EOFC)}
\DoxyCodeLine{04047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{04048\ }
\DoxyCodeLine{04049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ CR)\ \{}
\DoxyCodeLine{04050\ \ \ \ \ \ \ \ \ \ \ \ \ c\ =\ reader-\/>nextChar();}
\DoxyCodeLine{04051\ }
\DoxyCodeLine{04052\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ !=\ LF)\ \{}
\DoxyCodeLine{04053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reader-\/>unreadChar(c);}
\DoxyCodeLine{04054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reader-\/>unreadChar(CR);}
\DoxyCodeLine{04055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{04056\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{04058\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04059\ }
\DoxyCodeLine{04060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ LF)}
\DoxyCodeLine{04061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{04062\ }
\DoxyCodeLine{04063\ \ \ \ \ \ \ \ \ reader-\/>unreadChar(c);}
\DoxyCodeLine{04064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{04065\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{04066\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ returnCr\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{04067\ }
\DoxyCodeLine{04068\ \textcolor{preprocessor}{\#if\ (defined(ON\_WINDOWS)\ \&\&\ !defined(FOR\_LINUX))\ ||\ defined(FOR\_WINDOWS)}}
\DoxyCodeLine{04069\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ !=\ CR)\ \{}
\DoxyCodeLine{04070\ \ \ \ \ \ \ \ \ \ \ \ \ reader-\/>unreadChar(c);}
\DoxyCodeLine{04071\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{04072\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{04073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!returnCr)}
\DoxyCodeLine{04074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ returnCr\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04075\ \ \ \ \ \ \ \ \ \ \ \ \ c\ =\ reader-\/>nextChar();}
\DoxyCodeLine{04076\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04077\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ !=\ LF)\ \{}
\DoxyCodeLine{04079\ \ \ \ \ \ \ \ \ \ \ \ \ reader-\/>unreadChar(c);}
\DoxyCodeLine{04080\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (returnCr)}
\DoxyCodeLine{04081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reader-\/>unreadChar(CR);}
\DoxyCodeLine{04082\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{04083\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04084\ }
\DoxyCodeLine{04085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{04086\ \ \ \ \ \}}
\DoxyCodeLine{04087\ \}}
\DoxyCodeLine{04088\ }
\DoxyCodeLine{04089\ \textcolor{keywordtype}{void}\ InStream::readEoln()\ \{}
\DoxyCodeLine{04090\ \ \ \ \ lastLine\ =\ reader-\/>getLine();}
\DoxyCodeLine{04091\ \ \ \ \ \textcolor{keywordflow}{if}\ (!eoln())}
\DoxyCodeLine{04092\ \ \ \ \ \ \ \ \ quit(\_pe,\ \textcolor{stringliteral}{"{}Expected\ EOLN"{}});}
\DoxyCodeLine{04093\ \}}
\DoxyCodeLine{04094\ }
\DoxyCodeLine{04095\ \textcolor{keywordtype}{void}\ InStream::readEof()\ \{}
\DoxyCodeLine{04096\ \ \ \ \ lastLine\ =\ reader-\/>getLine();}
\DoxyCodeLine{04097\ \ \ \ \ \textcolor{keywordflow}{if}\ (!eof())}
\DoxyCodeLine{04098\ \ \ \ \ \ \ \ \ quit(\_pe,\ \textcolor{stringliteral}{"{}Expected\ EOF"{}});}
\DoxyCodeLine{04099\ }
\DoxyCodeLine{04100\ \ \ \ \ \textcolor{keywordflow}{if}\ (TestlibFinalizeGuard::alive\ \&\&\ \textcolor{keyword}{this}\ ==\ \&inf)}
\DoxyCodeLine{04101\ \ \ \ \ \ \ \ \ testlibFinalizeGuard.readEofCount++;}
\DoxyCodeLine{04102\ \}}
\DoxyCodeLine{04103\ }
\DoxyCodeLine{04104\ \textcolor{keywordtype}{bool}\ InStream::seekEoln()\ \{}
\DoxyCodeLine{04105\ \ \ \ \ \textcolor{keywordflow}{if}\ (!strict\ \&\&\ NULL\ ==\ reader)}
\DoxyCodeLine{04106\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{04107\ }
\DoxyCodeLine{04108\ \ \ \ \ \textcolor{keywordtype}{int}\ cur;}
\DoxyCodeLine{04109\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{04110\ \ \ \ \ \ \ \ \ cur\ =\ reader-\/>nextChar();}
\DoxyCodeLine{04111\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (cur\ ==\ SPACE\ ||\ cur\ ==\ TAB);}
\DoxyCodeLine{04112\ }
\DoxyCodeLine{04113\ \ \ \ \ reader-\/>unreadChar(cur);}
\DoxyCodeLine{04114\ \ \ \ \ \textcolor{keywordflow}{return}\ eoln();}
\DoxyCodeLine{04115\ \}}
\DoxyCodeLine{04116\ }
\DoxyCodeLine{04117\ \textcolor{keywordtype}{void}\ InStream::nextLine()\ \{}
\DoxyCodeLine{04118\ \ \ \ \ readLine();}
\DoxyCodeLine{04119\ \}}
\DoxyCodeLine{04120\ }
\DoxyCodeLine{04121\ \textcolor{keywordtype}{void}\ InStream::readStringTo(std::string\ \&result)\ \{}
\DoxyCodeLine{04122\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ reader)}
\DoxyCodeLine{04123\ \ \ \ \ \ \ \ \ quit(\_pe,\ \textcolor{stringliteral}{"{}Expected\ line"{}});}
\DoxyCodeLine{04124\ }
\DoxyCodeLine{04125\ \ \ \ \ result.clear();}
\DoxyCodeLine{04126\ }
\DoxyCodeLine{04127\ \ \ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{04128\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cur\ =\ reader-\/>curChar();}
\DoxyCodeLine{04129\ }
\DoxyCodeLine{04130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cur\ ==\ LF\ ||\ cur\ ==\ EOFC)}
\DoxyCodeLine{04131\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{04132\ }
\DoxyCodeLine{04133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cur\ ==\ CR)\ \{}
\DoxyCodeLine{04134\ \ \ \ \ \ \ \ \ \ \ \ \ cur\ =\ reader-\/>nextChar();}
\DoxyCodeLine{04135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (reader-\/>curChar()\ ==\ LF)\ \{}
\DoxyCodeLine{04136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reader-\/>unreadChar(cur);}
\DoxyCodeLine{04137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{04138\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04139\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04140\ }
\DoxyCodeLine{04141\ \ \ \ \ \ \ \ \ lastLine\ =\ reader-\/>getLine();}
\DoxyCodeLine{04142\ \ \ \ \ \ \ \ \ result\ +=\ char(reader-\/>nextChar());}
\DoxyCodeLine{04143\ \ \ \ \ \}}
\DoxyCodeLine{04144\ }
\DoxyCodeLine{04145\ \ \ \ \ \textcolor{keywordflow}{if}\ (strict)}
\DoxyCodeLine{04146\ \ \ \ \ \ \ \ \ readEoln();}
\DoxyCodeLine{04147\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04148\ \ \ \ \ \ \ \ \ eoln();}
\DoxyCodeLine{04149\ \}}
\DoxyCodeLine{04150\ }
\DoxyCodeLine{04151\ std::string\ InStream::readString()\ \{}
\DoxyCodeLine{04152\ \ \ \ \ readStringTo(\_tmpReadToken);}
\DoxyCodeLine{04153\ \ \ \ \ \textcolor{keywordflow}{return}\ \_tmpReadToken;}
\DoxyCodeLine{04154\ \}}
\DoxyCodeLine{04155\ }
\DoxyCodeLine{04156\ std::vector<std::string>\ InStream::readStrings(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{04157\ \ \ \ \ \_\_testlib\_readMany(readStrings,\ readString(),\ std::string,\ \textcolor{keyword}{false})}
\DoxyCodeLine{04158\ \}}
\DoxyCodeLine{04159\ }
\DoxyCodeLine{04160\ \textcolor{keywordtype}{void}\ InStream::readStringTo(std::string\ \&result,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{04161\ \ \ \ \ readStringTo(result);}
\DoxyCodeLine{04162\ \ \ \ \ \textcolor{keywordflow}{if}\ (!p.matches(result))\ \{}
\DoxyCodeLine{04163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (readManyIteration\ ==\ NO\_INDEX)\ \{}
\DoxyCodeLine{04164\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{04165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Line\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(result)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ doesn't\ correspond\ to\ pattern\ \(\backslash\)"{}"{}}\ +\ p.src()\ +}
\DoxyCodeLine{04166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}).c\_str());}
\DoxyCodeLine{04167\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,\ (\textcolor{stringliteral}{"{}Line\ [name="{}}\ +\ variableName\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(result)\ +}
\DoxyCodeLine{04169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)"{},\ doesn't\ correspond\ to\ pattern\ \(\backslash\)"{}"{}}\ +\ p.src()\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}).c\_str());}
\DoxyCodeLine{04170\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{04171\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (variableName.empty())}
\DoxyCodeLine{04172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,}
\DoxyCodeLine{04173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}Line\ element\ [index="{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ \(\backslash\)"{}"{}}\ +\ \_\_testlib\_part(result)\ +}
\DoxyCodeLine{04174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ doesn't\ correspond\ to\ pattern\ \(\backslash\)"{}"{}}\ +\ p.src()\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}).c\_str());}
\DoxyCodeLine{04175\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_wa,}
\DoxyCodeLine{04177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}Line\ element\ "{}}\ +\ std::string(variableName)\ +\ \textcolor{stringliteral}{"{}["{}}\ +\ vtos(readManyIteration)\ +\ \textcolor{stringliteral}{"{}]\ equals\ to\ \(\backslash\)"{}"{}}\ +}
\DoxyCodeLine{04178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_part(result)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{},\ doesn't\ correspond\ to\ pattern\ \(\backslash\)"{}"{}}\ +\ p.src()\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}}).c\_str());}
\DoxyCodeLine{04179\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04180\ \ \ \ \ \}}
\DoxyCodeLine{04181\ \}}
\DoxyCodeLine{04182\ }
\DoxyCodeLine{04183\ \textcolor{keywordtype}{void}\ InStream::readStringTo(std::string\ \&result,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{04184\ \ \ \ \ readStringTo(result,\ \mbox{\hyperlink{classpattern}{pattern}}(ptrn),\ variableName);}
\DoxyCodeLine{04185\ \}}
\DoxyCodeLine{04186\ }
\DoxyCodeLine{04187\ std::string\ InStream::readString(\textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{04188\ \ \ \ \ readStringTo(\_tmpReadToken,\ p,\ variableName);}
\DoxyCodeLine{04189\ \ \ \ \ \textcolor{keywordflow}{return}\ \_tmpReadToken;}
\DoxyCodeLine{04190\ \}}
\DoxyCodeLine{04191\ }
\DoxyCodeLine{04192\ std::vector<std::string>}
\DoxyCodeLine{04193\ InStream::readStrings(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{04194\ \ \ \ \ \_\_testlib\_readMany(readStrings,\ readString(p,\ variablesName),\ std::string,\ \textcolor{keyword}{false})}
\DoxyCodeLine{04195\ \}}
\DoxyCodeLine{04196\ }
\DoxyCodeLine{04197\ std::string\ InStream::readString(\textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{04198\ \ \ \ \ readStringTo(\_tmpReadToken,\ ptrn,\ variableName);}
\DoxyCodeLine{04199\ \ \ \ \ \textcolor{keywordflow}{return}\ \_tmpReadToken;}
\DoxyCodeLine{04200\ \}}
\DoxyCodeLine{04201\ }
\DoxyCodeLine{04202\ std::vector<std::string>}
\DoxyCodeLine{04203\ InStream::readStrings(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{04204\ \ \ \ \ \mbox{\hyperlink{classpattern}{pattern}}\ p(ptrn);}
\DoxyCodeLine{04205\ \ \ \ \ \_\_testlib\_readMany(readStrings,\ readString(p,\ variablesName),\ std::string,\ \textcolor{keyword}{false})}
\DoxyCodeLine{04206\ \}}
\DoxyCodeLine{04207\ }
\DoxyCodeLine{04208\ \textcolor{keywordtype}{void}\ InStream::readLineTo(std::string\ \&result)\ \{}
\DoxyCodeLine{04209\ \ \ \ \ readStringTo(result);}
\DoxyCodeLine{04210\ \}}
\DoxyCodeLine{04211\ }
\DoxyCodeLine{04212\ std::string\ InStream::readLine()\ \{}
\DoxyCodeLine{04213\ \ \ \ \ \textcolor{keywordflow}{return}\ readString();}
\DoxyCodeLine{04214\ \}}
\DoxyCodeLine{04215\ }
\DoxyCodeLine{04216\ std::vector<std::string>\ InStream::readLines(\textcolor{keywordtype}{int}\ size,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{04217\ \ \ \ \ \_\_testlib\_readMany(readLines,\ readString(),\ std::string,\ \textcolor{keyword}{false})}
\DoxyCodeLine{04218\ \}}
\DoxyCodeLine{04219\ }
\DoxyCodeLine{04220\ \textcolor{keywordtype}{void}\ InStream::readLineTo(std::string\ \&result,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{04221\ \ \ \ \ readStringTo(result,\ p,\ variableName);}
\DoxyCodeLine{04222\ \}}
\DoxyCodeLine{04223\ }
\DoxyCodeLine{04224\ \textcolor{keywordtype}{void}\ InStream::readLineTo(std::string\ \&result,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{04225\ \ \ \ \ readStringTo(result,\ ptrn,\ variableName);}
\DoxyCodeLine{04226\ \}}
\DoxyCodeLine{04227\ }
\DoxyCodeLine{04228\ std::string\ InStream::readLine(\textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{04229\ \ \ \ \ \textcolor{keywordflow}{return}\ readString(p,\ variableName);}
\DoxyCodeLine{04230\ \}}
\DoxyCodeLine{04231\ }
\DoxyCodeLine{04232\ std::vector<std::string>}
\DoxyCodeLine{04233\ InStream::readLines(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpattern}{pattern}}\ \&p,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{04234\ \ \ \ \ \_\_testlib\_readMany(readLines,\ readString(p,\ variablesName),\ std::string,\ \textcolor{keyword}{false})}
\DoxyCodeLine{04235\ \}}
\DoxyCodeLine{04236\ }
\DoxyCodeLine{04237\ std::string\ InStream::readLine(\textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variableName)\ \{}
\DoxyCodeLine{04238\ \ \ \ \ \textcolor{keywordflow}{return}\ readString(ptrn,\ variableName);}
\DoxyCodeLine{04239\ \}}
\DoxyCodeLine{04240\ }
\DoxyCodeLine{04241\ std::vector<std::string>}
\DoxyCodeLine{04242\ InStream::readLines(\textcolor{keywordtype}{int}\ size,\ \textcolor{keyword}{const}\ std::string\ \&ptrn,\ \textcolor{keyword}{const}\ std::string\ \&variablesName,\ \textcolor{keywordtype}{int}\ indexBase)\ \{}
\DoxyCodeLine{04243\ \ \ \ \ \mbox{\hyperlink{classpattern}{pattern}}\ p(ptrn);}
\DoxyCodeLine{04244\ \ \ \ \ \_\_testlib\_readMany(readLines,\ readString(p,\ variablesName),\ std::string,\ \textcolor{keyword}{false})}
\DoxyCodeLine{04245\ \}}
\DoxyCodeLine{04246\ }
\DoxyCodeLine{04247\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04248\ \_\_attribute\_\_\ ((format\ (printf,\ 3,\ 4)))}
\DoxyCodeLine{04249\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04250\ \textcolor{keywordtype}{void}\ InStream::ensuref(\textcolor{keywordtype}{bool}\ cond,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,\ ...)\ \{}
\DoxyCodeLine{04251\ \ \ \ \ \textcolor{keywordflow}{if}\ (!cond)\ \{}
\DoxyCodeLine{04252\ \ \ \ \ \ \ \ \ FMT\_TO\_RESULT(format,\ format,\ message);}
\DoxyCodeLine{04253\ \ \ \ \ \ \ \ \ this-\/>\_\_testlib\_ensure(cond,\ message);}
\DoxyCodeLine{04254\ \ \ \ \ \}}
\DoxyCodeLine{04255\ \}}
\DoxyCodeLine{04256\ }
\DoxyCodeLine{04257\ \textcolor{keywordtype}{void}\ InStream::\_\_testlib\_ensure(\textcolor{keywordtype}{bool}\ cond,\ std::string\ message)\ \{}
\DoxyCodeLine{04258\ \ \ \ \ \textcolor{keywordflow}{if}\ (!cond)}
\DoxyCodeLine{04259\ \ \ \ \ \ \ \ \ this-\/>quit(\_wa,\ message.c\_str());}
\DoxyCodeLine{04260\ \}}
\DoxyCodeLine{04261\ }
\DoxyCodeLine{04262\ \textcolor{keywordtype}{void}\ InStream::close()\ \{}
\DoxyCodeLine{04263\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ !=\ reader)\ \{}
\DoxyCodeLine{04264\ \ \ \ \ \ \ \ \ reader-\/>close();}
\DoxyCodeLine{04265\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ reader;}
\DoxyCodeLine{04266\ \ \ \ \ \ \ \ \ reader\ =\ NULL;}
\DoxyCodeLine{04267\ \ \ \ \ \}}
\DoxyCodeLine{04268\ }
\DoxyCodeLine{04269\ \ \ \ \ opened\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{04270\ \}}
\DoxyCodeLine{04271\ }
\DoxyCodeLine{04272\ NORETURN\ \textcolor{keywordtype}{void}\ quit(TResult\ result,\ \textcolor{keyword}{const}\ std::string\ \&msg)\ \{}
\DoxyCodeLine{04273\ \ \ \ \ ouf.quit(result,\ msg.c\_str());}
\DoxyCodeLine{04274\ \}}
\DoxyCodeLine{04275\ }
\DoxyCodeLine{04276\ NORETURN\ \textcolor{keywordtype}{void}\ quit(TResult\ result,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg)\ \{}
\DoxyCodeLine{04277\ \ \ \ \ ouf.quit(result,\ msg);}
\DoxyCodeLine{04278\ \}}
\DoxyCodeLine{04279\ }
\DoxyCodeLine{04280\ NORETURN\ \textcolor{keywordtype}{void}\ \_\_testlib\_quitp(\textcolor{keywordtype}{double}\ points,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *message)\ \{}
\DoxyCodeLine{04281\ \ \ \ \ \_\_testlib\_points\ =\ points;}
\DoxyCodeLine{04282\ \ \ \ \ std::string\ stringPoints\ =\ removeDoubleTrailingZeroes(format(\textcolor{stringliteral}{"{}\%.10f"{}},\ points));}
\DoxyCodeLine{04283\ }
\DoxyCodeLine{04284\ \ \ \ \ std::string\ quitMessage;}
\DoxyCodeLine{04285\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ message\ ||\ 0\ ==\ strlen(message))}
\DoxyCodeLine{04286\ \ \ \ \ \ \ \ \ quitMessage\ =\ stringPoints;}
\DoxyCodeLine{04287\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04288\ \ \ \ \ \ \ \ \ quitMessage\ =\ stringPoints\ +\ \textcolor{stringliteral}{"{}\ "{}}\ +\ message;}
\DoxyCodeLine{04289\ }
\DoxyCodeLine{04290\ \ \ \ \ quit(\_points,\ quitMessage.c\_str());}
\DoxyCodeLine{04291\ \}}
\DoxyCodeLine{04292\ }
\DoxyCodeLine{04293\ NORETURN\ \textcolor{keywordtype}{void}\ \_\_testlib\_quitp(\textcolor{keywordtype}{int}\ points,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *message)\ \{}
\DoxyCodeLine{04294\ \ \ \ \ \_\_testlib\_points\ =\ points;}
\DoxyCodeLine{04295\ \ \ \ \ std::string\ stringPoints\ =\ format(\textcolor{stringliteral}{"{}\%d"{}},\ points);}
\DoxyCodeLine{04296\ }
\DoxyCodeLine{04297\ \ \ \ \ std::string\ quitMessage;}
\DoxyCodeLine{04298\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ message\ ||\ 0\ ==\ strlen(message))}
\DoxyCodeLine{04299\ \ \ \ \ \ \ \ \ quitMessage\ =\ stringPoints;}
\DoxyCodeLine{04300\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04301\ \ \ \ \ \ \ \ \ quitMessage\ =\ stringPoints\ +\ \textcolor{stringliteral}{"{}\ "{}}\ +\ message;}
\DoxyCodeLine{04302\ }
\DoxyCodeLine{04303\ \ \ \ \ quit(\_points,\ quitMessage.c\_str());}
\DoxyCodeLine{04304\ \}}
\DoxyCodeLine{04305\ }
\DoxyCodeLine{04306\ NORETURN\ \textcolor{keywordtype}{void}\ quitp(\textcolor{keywordtype}{float}\ points,\ \textcolor{keyword}{const}\ std::string\ \&message\ =\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{04307\ \ \ \ \ \_\_testlib\_quitp(\textcolor{keywordtype}{double}(points),\ message.c\_str());}
\DoxyCodeLine{04308\ \}}
\DoxyCodeLine{04309\ }
\DoxyCodeLine{04310\ NORETURN\ \textcolor{keywordtype}{void}\ quitp(\textcolor{keywordtype}{double}\ points,\ \textcolor{keyword}{const}\ std::string\ \&message\ =\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{04311\ \ \ \ \ \_\_testlib\_quitp(points,\ message.c\_str());}
\DoxyCodeLine{04312\ \}}
\DoxyCodeLine{04313\ }
\DoxyCodeLine{04314\ NORETURN\ \textcolor{keywordtype}{void}\ quitp(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ points,\ \textcolor{keyword}{const}\ std::string\ \&message\ =\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{04315\ \ \ \ \ \_\_testlib\_quitp(\textcolor{keywordtype}{double}(points),\ message.c\_str());}
\DoxyCodeLine{04316\ \}}
\DoxyCodeLine{04317\ }
\DoxyCodeLine{04318\ NORETURN\ \textcolor{keywordtype}{void}\ quitp(\textcolor{keywordtype}{int}\ points,\ \textcolor{keyword}{const}\ std::string\ \&message\ =\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{04319\ \ \ \ \ \_\_testlib\_quitp(points,\ message.c\_str());}
\DoxyCodeLine{04320\ \}}
\DoxyCodeLine{04321\ }
\DoxyCodeLine{04322\ NORETURN\ \textcolor{keywordtype}{void}\ quitpi(\textcolor{keyword}{const}\ std::string\ \&points\_info,\ \textcolor{keyword}{const}\ std::string\ \&message\ =\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{04323\ \ \ \ \ \textcolor{keywordflow}{if}\ (points\_info.find(\textcolor{charliteral}{'\ '})\ !=\ std::string::npos)}
\DoxyCodeLine{04324\ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}Parameter\ 'points\_info'\ can't\ contain\ spaces"{}});}
\DoxyCodeLine{04325\ \ \ \ \ \textcolor{keywordflow}{if}\ (message.empty())}
\DoxyCodeLine{04326\ \ \ \ \ \ \ \ \ quit(\_points,\ (\textcolor{stringliteral}{"{}points\_info="{}}\ +\ points\_info).c\_str());}
\DoxyCodeLine{04327\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04328\ \ \ \ \ \ \ \ \ quit(\_points,\ (\textcolor{stringliteral}{"{}points\_info="{}}\ +\ points\_info\ +\ \textcolor{stringliteral}{"{}\ "{}}\ +\ message).c\_str());}
\DoxyCodeLine{04329\ \}}
\DoxyCodeLine{04330\ }
\DoxyCodeLine{04331\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{04332\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04333\ \_\_attribute\_\_\ ((format\ (printf,\ 2,\ 3)))}
\DoxyCodeLine{04334\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04335\ NORETURN\ \textcolor{keywordtype}{void}\ quitp(F\ points,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,\ ...)\ \{}
\DoxyCodeLine{04336\ \ \ \ \ FMT\_TO\_RESULT(format,\ format,\ message);}
\DoxyCodeLine{04337\ \ \ \ \ quitp(points,\ message);}
\DoxyCodeLine{04338\ \}}
\DoxyCodeLine{04339\ }
\DoxyCodeLine{04340\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04341\ \_\_attribute\_\_\ ((format\ (printf,\ 2,\ 3)))}
\DoxyCodeLine{04342\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04343\ NORETURN\ \textcolor{keywordtype}{void}\ quitf(TResult\ result,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,\ ...)\ \{}
\DoxyCodeLine{04344\ \ \ \ \ FMT\_TO\_RESULT(format,\ format,\ message);}
\DoxyCodeLine{04345\ \ \ \ \ quit(result,\ message);}
\DoxyCodeLine{04346\ \}}
\DoxyCodeLine{04347\ }
\DoxyCodeLine{04348\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04349\ \_\_attribute\_\_\ ((format\ (printf,\ 3,\ 4)))}
\DoxyCodeLine{04350\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04351\ \textcolor{keywordtype}{void}\ quitif(\textcolor{keywordtype}{bool}\ condition,\ TResult\ result,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,\ ...)\ \{}
\DoxyCodeLine{04352\ \ \ \ \ \textcolor{keywordflow}{if}\ (condition)\ \{}
\DoxyCodeLine{04353\ \ \ \ \ \ \ \ \ FMT\_TO\_RESULT(format,\ format,\ message);}
\DoxyCodeLine{04354\ \ \ \ \ \ \ \ \ quit(result,\ message);}
\DoxyCodeLine{04355\ \ \ \ \ \}}
\DoxyCodeLine{04356\ \}}
\DoxyCodeLine{04357\ }
\DoxyCodeLine{04358\ NORETURN\ \textcolor{keywordtype}{void}\ \_\_testlib\_help()\ \{}
\DoxyCodeLine{04359\ \ \ \ \ InStream::textColor(InStream::LightCyan);}
\DoxyCodeLine{04360\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}TESTLIB\ \%s,\ https://github.com/MikeMirzayanov/testlib/\ "{}},\ VERSION);}
\DoxyCodeLine{04361\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}by\ Mike\ Mirzayanov,\ copyright(c)\ 2005-\/2020\(\backslash\)n"{}});}
\DoxyCodeLine{04362\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}Checker\ name:\ \(\backslash\)"{}\%s\(\backslash\)"{}\(\backslash\)n"{}},\ checkerName.c\_str());}
\DoxyCodeLine{04363\ \ \ \ \ InStream::textColor(InStream::LightGray);}
\DoxyCodeLine{04364\ }
\DoxyCodeLine{04365\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{04366\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}Latest\ features:\ \(\backslash\)n"{}});}
\DoxyCodeLine{04367\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \textcolor{keyword}{sizeof}(latestFeatures)\ /\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}\ *);\ i++)\ \{}
\DoxyCodeLine{04368\ \ \ \ \ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}*)\ \%s\(\backslash\)n"{}},\ latestFeatures[i]);}
\DoxyCodeLine{04369\ \ \ \ \ \}}
\DoxyCodeLine{04370\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{04371\ }
\DoxyCodeLine{04372\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}Program\ must\ be\ run\ with\ the\ following\ arguments:\ \(\backslash\)n"{}});}
\DoxyCodeLine{04373\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}\ \ \ \ [-\/-\/testset\ testset]\ [-\/-\/group\ group]\ <input-\/file>\ <output-\/file>\ <answer-\/file>\ [<report-\/file>\ [<-\/appes>]]\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{04374\ }
\DoxyCodeLine{04375\ \ \ \ \ \_\_testlib\_exitCode\ =\ FAIL\_EXIT\_CODE;}
\DoxyCodeLine{04376\ \ \ \ \ std::exit(FAIL\_EXIT\_CODE);}
\DoxyCodeLine{04377\ \}}
\DoxyCodeLine{04378\ }
\DoxyCodeLine{04379\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \_\_testlib\_ensuresPreconditions()\ \{}
\DoxyCodeLine{04380\ \ \ \ \ \textcolor{comment}{//\ testlib\ assumes:\ sizeof(int)\ =\ 4.}}
\DoxyCodeLine{04381\ \ \ \ \ \_\_TESTLIB\_STATIC\_ASSERT(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int})\ ==\ 4);}
\DoxyCodeLine{04382\ }
\DoxyCodeLine{04383\ \ \ \ \ \textcolor{comment}{//\ testlib\ assumes:\ INT\_MAX\ ==\ 2147483647.}}
\DoxyCodeLine{04384\ \ \ \ \ \_\_TESTLIB\_STATIC\_ASSERT(INT\_MAX\ ==\ 2147483647);}
\DoxyCodeLine{04385\ }
\DoxyCodeLine{04386\ \ \ \ \ \textcolor{comment}{//\ testlib\ assumes:\ sizeof(long\ long)\ =\ 8.}}
\DoxyCodeLine{04387\ \ \ \ \ \_\_TESTLIB\_STATIC\_ASSERT(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})\ ==\ 8);}
\DoxyCodeLine{04388\ }
\DoxyCodeLine{04389\ \ \ \ \ \textcolor{comment}{//\ testlib\ assumes:\ sizeof(double)\ =\ 8.}}
\DoxyCodeLine{04390\ \ \ \ \ \_\_TESTLIB\_STATIC\_ASSERT(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double})\ ==\ 8);}
\DoxyCodeLine{04391\ }
\DoxyCodeLine{04392\ \ \ \ \ \textcolor{comment}{//\ testlib\ assumes:\ no\ -\/ffast-\/math.}}
\DoxyCodeLine{04393\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_\_testlib\_isNaN(+\_\_testlib\_nan()))}
\DoxyCodeLine{04394\ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}Function\ \_\_testlib\_isNaN\ is\ not\ working\ correctly:\ possible\ reason\ is\ '-\/ffast-\/math'"{}});}
\DoxyCodeLine{04395\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_\_testlib\_isNaN(-\/\_\_testlib\_nan()))}
\DoxyCodeLine{04396\ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}Function\ \_\_testlib\_isNaN\ is\ not\ working\ correctly:\ possible\ reason\ is\ '-\/ffast-\/math'"{}});}
\DoxyCodeLine{04397\ \}}
\DoxyCodeLine{04398\ }
\DoxyCodeLine{04399\ std::string\ \_\_testlib\_testset;}
\DoxyCodeLine{04400\ }
\DoxyCodeLine{04401\ std::string\ getTestset()\ \{}
\DoxyCodeLine{04402\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_testset;}
\DoxyCodeLine{04403\ \}}
\DoxyCodeLine{04404\ }
\DoxyCodeLine{04405\ std::string\ \_\_testlib\_group;}
\DoxyCodeLine{04406\ }
\DoxyCodeLine{04407\ std::string\ getGroup()\ \{}
\DoxyCodeLine{04408\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_group;}
\DoxyCodeLine{04409\ \}}
\DoxyCodeLine{04410\ }
\DoxyCodeLine{04411\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \_\_testlib\_set\_testset\_and\_group(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}*\ argv[])\ \{}
\DoxyCodeLine{04412\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 1;\ i\ <\ argc;\ i++)\ \{}
\DoxyCodeLine{04413\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!strcmp(\textcolor{stringliteral}{"{}-\/-\/testset"{}},\ argv[i]))\ \{}
\DoxyCodeLine{04414\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ argc\ \&\&\ strlen(argv[i\ +\ 1])\ >\ 0)}
\DoxyCodeLine{04415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_testset\ =\ argv[++i];}
\DoxyCodeLine{04416\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ std::string(\textcolor{stringliteral}{"{}Expected\ non-\/empty\ testset\ after\ -\/-\/testset\ command\ line\ parameter"{}}));}
\DoxyCodeLine{04418\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!strcmp(\textcolor{stringliteral}{"{}-\/-\/group"{}},\ argv[i]))\ \{}
\DoxyCodeLine{04419\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ argc)}
\DoxyCodeLine{04420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_group\ =\ argv[++i];}
\DoxyCodeLine{04421\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ std::string(\textcolor{stringliteral}{"{}Expected\ group\ after\ -\/-\/group\ command\ line\ parameter"{}}));}
\DoxyCodeLine{04423\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04424\ \ \ \ \ \}}
\DoxyCodeLine{04425\ \}}
\DoxyCodeLine{04426\ }
\DoxyCodeLine{04427\ \textcolor{keywordtype}{void}\ registerGen(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[],\ \textcolor{keywordtype}{int}\ randomGeneratorVersion)\ \{}
\DoxyCodeLine{04428\ \ \ \ \ \textcolor{keywordflow}{if}\ (randomGeneratorVersion\ <\ 0\ ||\ randomGeneratorVersion\ >\ 1)}
\DoxyCodeLine{04429\ \ \ \ \ \ \ \ \ quitf(\_fail,\ \textcolor{stringliteral}{"{}Random\ generator\ version\ is\ expected\ to\ be\ 0\ or\ 1."{}});}
\DoxyCodeLine{04430\ \ \ \ \ random\_t::version\ =\ randomGeneratorVersion;}
\DoxyCodeLine{04431\ }
\DoxyCodeLine{04432\ \ \ \ \ \_\_testlib\_ensuresPreconditions();}
\DoxyCodeLine{04433\ \ \ \ \ TestlibFinalizeGuard::registered\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04434\ }
\DoxyCodeLine{04435\ \ \ \ \ testlibMode\ =\ \_generator;}
\DoxyCodeLine{04436\ \ \ \ \ \_\_testlib\_set\_binary(stdin);}
\DoxyCodeLine{04437\ \ \ \ \ rnd.setSeed(argc,\ argv);}
\DoxyCodeLine{04438\ }
\DoxyCodeLine{04439\ \textcolor{preprocessor}{\#if\ \_\_cplusplus\ >\ 199711L\ ||\ defined(\_MSC\_VER)}}
\DoxyCodeLine{04440\ \ \ \ \ prepareOpts(argc,\ argv);}
\DoxyCodeLine{04441\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04442\ \}}
\DoxyCodeLine{04443\ }
\DoxyCodeLine{04444\ \textcolor{preprocessor}{\#ifdef\ USE\_RND\_AS\_BEFORE\_087}}
\DoxyCodeLine{04445\ \textcolor{keywordtype}{void}\ registerGen(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}*\ argv[])}
\DoxyCodeLine{04446\ \{}
\DoxyCodeLine{04447\ \ \ \ \ registerGen(argc,\ argv,\ 0);}
\DoxyCodeLine{04448\ \}}
\DoxyCodeLine{04449\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{04450\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04451\ \textcolor{preprocessor}{\#if\ (\_\_GNUC\_\_\ >\ 4)\ ||\ ((\_\_GNUC\_\_\ ==\ 4)\ \&\&\ (\_\_GNUC\_MINOR\_\_\ >\ 4))}}
\DoxyCodeLine{04452\ \_\_attribute\_\_\ ((deprecated(\textcolor{stringliteral}{"{}Use\ registerGen(argc,\ argv,\ 0)\ or\ registerGen(argc,\ argv,\ 1)."{}}}
\DoxyCodeLine{04453\ \textcolor{stringliteral}{"{}\ The\ third\ parameter\ stands\ for\ the\ random\ generator\ version."{}}}
\DoxyCodeLine{04454\ \textcolor{stringliteral}{"{}\ If\ you\ are\ trying\ to\ compile\ old\ generator\ use\ macro\ -\/DUSE\_RND\_AS\_BEFORE\_087\ or\ registerGen(argc,\ argv,\ 0)."{}}}
\DoxyCodeLine{04455\ \textcolor{stringliteral}{"{}\ Version\ 1\ has\ been\ released\ on\ Spring,\ 2013.\ Use\ it\ to\ write\ new\ generators."{}})))}
\DoxyCodeLine{04456\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{04457\ \_\_attribute\_\_\ ((deprecated))}
\DoxyCodeLine{04458\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04459\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04460\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{04461\ \_\_declspec(deprecated(\textcolor{stringliteral}{"{}Use\ registerGen(argc,\ argv,\ 0)\ or\ registerGen(argc,\ argv,\ 1)."{}}}
\DoxyCodeLine{04462\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ The\ third\ parameter\ stands\ for\ the\ random\ generator\ version."{}}}
\DoxyCodeLine{04463\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ If\ you\ are\ trying\ to\ compile\ old\ generator\ use\ macro\ -\/DUSE\_RND\_AS\_BEFORE\_087\ or\ registerGen(argc,\ argv,\ 0)."{}}}
\DoxyCodeLine{04464\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ Version\ 1\ has\ been\ released\ on\ Spring,\ 2013.\ Use\ it\ to\ write\ new\ generators."{}}))}
\DoxyCodeLine{04465\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04466\ \textcolor{keywordtype}{void}\ registerGen(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[])\ \{}
\DoxyCodeLine{04467\ \ \ \ \ std::fprintf(stderr,\ \textcolor{stringliteral}{"{}Use\ registerGen(argc,\ argv,\ 0)\ or\ registerGen(argc,\ argv,\ 1)."{}}}
\DoxyCodeLine{04468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ The\ third\ parameter\ stands\ for\ the\ random\ generator\ version."{}}}
\DoxyCodeLine{04469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ If\ you\ are\ trying\ to\ compile\ old\ generator\ use\ macro\ -\/DUSE\_RND\_AS\_BEFORE\_087\ or\ registerGen(argc,\ argv,\ 0)."{}}}
\DoxyCodeLine{04470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ Version\ 1\ has\ been\ released\ on\ Spring,\ 2013.\ Use\ it\ to\ write\ new\ generators.\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{04471\ \ \ \ \ registerGen(argc,\ argv,\ 0);}
\DoxyCodeLine{04472\ \}}
\DoxyCodeLine{04473\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04474\ }
\DoxyCodeLine{04475\ \textcolor{keywordtype}{void}\ setAppesModeEncoding(std::string\ appesModeEncoding)\ \{}
\DoxyCodeLine{04476\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \textcolor{keyword}{const}\ ENCODINGS[]\ =\ \{\textcolor{stringliteral}{"{}ascii"{}},\ \textcolor{stringliteral}{"{}utf-\/7"{}},\ \textcolor{stringliteral}{"{}utf-\/8"{}},\ \textcolor{stringliteral}{"{}utf-\/16"{}},\ \textcolor{stringliteral}{"{}utf-\/16le"{}},\ \textcolor{stringliteral}{"{}utf-\/16be"{}},\ \textcolor{stringliteral}{"{}utf-\/32"{}},\ \textcolor{stringliteral}{"{}utf-\/32le"{}},\ \textcolor{stringliteral}{"{}utf-\/32be"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/1"{}},\ }
\DoxyCodeLine{04477\ \textcolor{stringliteral}{"{}iso-\/8859-\/2"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/3"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/4"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/5"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/6"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/7"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/8"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/9"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/10"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/11"{}},\ }
\DoxyCodeLine{04478\ \textcolor{stringliteral}{"{}iso-\/8859-\/13"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/14"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/15"{}},\ \textcolor{stringliteral}{"{}iso-\/8859-\/16"{}},\ \textcolor{stringliteral}{"{}windows-\/1250"{}},\ \textcolor{stringliteral}{"{}windows-\/1251"{}},\ \textcolor{stringliteral}{"{}windows-\/1252"{}},\ \textcolor{stringliteral}{"{}windows-\/1253"{}},\ \textcolor{stringliteral}{"{}windows-\/1254"{}},\ \textcolor{stringliteral}{"{}windows-\/1255"{}},\ }
\DoxyCodeLine{04479\ \textcolor{stringliteral}{"{}windows-\/1256"{}},\ \textcolor{stringliteral}{"{}windows-\/1257"{}},\ \textcolor{stringliteral}{"{}windows-\/1258"{}},\ \textcolor{stringliteral}{"{}gb2312"{}},\ \textcolor{stringliteral}{"{}gbk"{}},\ \textcolor{stringliteral}{"{}gb18030"{}},\ \textcolor{stringliteral}{"{}big5"{}},\ \textcolor{stringliteral}{"{}shift-\/jis"{}},\ \textcolor{stringliteral}{"{}euc-\/jp"{}},\ \textcolor{stringliteral}{"{}euc-\/kr"{}},\ }
\DoxyCodeLine{04480\ \textcolor{stringliteral}{"{}euc-\/cn"{}},\ \textcolor{stringliteral}{"{}euc-\/tw"{}},\ \textcolor{stringliteral}{"{}koi8-\/r"{}},\ \textcolor{stringliteral}{"{}koi8-\/u"{}},\ \textcolor{stringliteral}{"{}tis-\/620"{}},\ \textcolor{stringliteral}{"{}ibm437"{}},\ \textcolor{stringliteral}{"{}ibm850"{}},\ \textcolor{stringliteral}{"{}ibm852"{}},\ \textcolor{stringliteral}{"{}ibm855"{}},\ \textcolor{stringliteral}{"{}ibm857"{}},\ }
\DoxyCodeLine{04481\ \textcolor{stringliteral}{"{}ibm860"{}},\ \textcolor{stringliteral}{"{}ibm861"{}},\ \textcolor{stringliteral}{"{}ibm862"{}},\ \textcolor{stringliteral}{"{}ibm863"{}},\ \textcolor{stringliteral}{"{}ibm865"{}},\ \textcolor{stringliteral}{"{}ibm866"{}},\ \textcolor{stringliteral}{"{}ibm869"{}},\ \textcolor{stringliteral}{"{}macroman"{}},\ \textcolor{stringliteral}{"{}maccentraleurope"{}},\ \textcolor{stringliteral}{"{}maciceland"{}},\ }
\DoxyCodeLine{04482\ \textcolor{stringliteral}{"{}maccroatian"{}},\ \textcolor{stringliteral}{"{}macromania"{}},\ \textcolor{stringliteral}{"{}maccyrillic"{}},\ \textcolor{stringliteral}{"{}macukraine"{}},\ \textcolor{stringliteral}{"{}macgreek"{}},\ \textcolor{stringliteral}{"{}macturkish"{}},\ \textcolor{stringliteral}{"{}machebrew"{}},\ \textcolor{stringliteral}{"{}macarabic"{}},\ \textcolor{stringliteral}{"{}macthai"{}},\ \textcolor{stringliteral}{"{}hz-\/gb-\/2312"{}},\ }
\DoxyCodeLine{04483\ \textcolor{stringliteral}{"{}iso-\/2022-\/jp"{}},\ \textcolor{stringliteral}{"{}iso-\/2022-\/kr"{}},\ \textcolor{stringliteral}{"{}iso-\/2022-\/cn"{}},\ \textcolor{stringliteral}{"{}armscii-\/8"{}},\ \textcolor{stringliteral}{"{}tscii"{}},\ \textcolor{stringliteral}{"{}iscii"{}},\ \textcolor{stringliteral}{"{}viscii"{}},\ \textcolor{stringliteral}{"{}geostd8"{}},\ \textcolor{stringliteral}{"{}cp949"{}},\ \textcolor{stringliteral}{"{}cp874"{}},\ }
\DoxyCodeLine{04484\ \textcolor{stringliteral}{"{}cp1006"{}},\ \textcolor{stringliteral}{"{}cp775"{}},\ \textcolor{stringliteral}{"{}cp858"{}},\ \textcolor{stringliteral}{"{}cp737"{}},\ \textcolor{stringliteral}{"{}cp853"{}},\ \textcolor{stringliteral}{"{}cp856"{}},\ \textcolor{stringliteral}{"{}cp922"{}},\ \textcolor{stringliteral}{"{}cp1046"{}},\ \textcolor{stringliteral}{"{}cp1125"{}},\ \textcolor{stringliteral}{"{}cp1131"{}},\ }
\DoxyCodeLine{04485\ \textcolor{stringliteral}{"{}ptcp154"{}},\ \textcolor{stringliteral}{"{}koi8-\/t"{}},\ \textcolor{stringliteral}{"{}koi8-\/ru"{}},\ \textcolor{stringliteral}{"{}mulelao-\/1"{}},\ \textcolor{stringliteral}{"{}cp1133"{}},\ \textcolor{stringliteral}{"{}iso-\/ir-\/166"{}},\ \textcolor{stringliteral}{"{}tcvn"{}},\ \textcolor{stringliteral}{"{}iso-\/ir-\/14"{}},\ \textcolor{stringliteral}{"{}iso-\/ir-\/87"{}},\ \textcolor{stringliteral}{"{}iso-\/ir-\/159"{}}\};}
\DoxyCodeLine{04486\ \ \ \ \ }
\DoxyCodeLine{04487\ \ \ \ \ appesModeEncoding\ =\ lowerCase(appesModeEncoding);}
\DoxyCodeLine{04488\ \ \ \ \ \textcolor{keywordtype}{bool}\ valid\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{04489\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \textcolor{keyword}{sizeof}(ENCODINGS)\ /\ \textcolor{keyword}{sizeof}(ENCODINGS[0]);\ i++)}
\DoxyCodeLine{04490\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (appesModeEncoding\ ==\ ENCODINGS[i])\ \{}
\DoxyCodeLine{04491\ \ \ \ \ \ \ \ \ \ \ \ \ valid\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04492\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{04493\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04494\ \ \ \ \ \textcolor{keywordflow}{if}\ (!valid)}
\DoxyCodeLine{04495\ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}Unexpected\ encoding\ for\ setAppesModeEncoding(encoding)"{}});}
\DoxyCodeLine{04496\ \ \ \ \ ::appesModeEncoding\ =\ appesModeEncoding;}
\DoxyCodeLine{04497\ \}}
\DoxyCodeLine{04498\ }
\DoxyCodeLine{04499\ \textcolor{keywordtype}{void}\ registerInteraction(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[])\ \{}
\DoxyCodeLine{04500\ \ \ \ \ \_\_testlib\_ensuresPreconditions();}
\DoxyCodeLine{04501\ \ \ \ \ \_\_testlib\_set\_testset\_and\_group(argc,\ argv);}
\DoxyCodeLine{04502\ \ \ \ \ TestlibFinalizeGuard::registered\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04503\ }
\DoxyCodeLine{04504\ \ \ \ \ testlibMode\ =\ \_interactor;}
\DoxyCodeLine{04505\ \ \ \ \ \_\_testlib\_set\_binary(stdin);}
\DoxyCodeLine{04506\ }
\DoxyCodeLine{04507\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ >\ 1\ \&\&\ !strcmp(\textcolor{stringliteral}{"{}-\/-\/help"{}},\ argv[1]))}
\DoxyCodeLine{04508\ \ \ \ \ \ \ \ \ \_\_testlib\_help();}
\DoxyCodeLine{04509\ }
\DoxyCodeLine{04510\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ <\ 3\ ||\ argc\ >\ 6)\ \{}
\DoxyCodeLine{04511\ \ \ \ \ \ \ \ \ quit(\_fail,\ std::string(\textcolor{stringliteral}{"{}Program\ must\ be\ run\ with\ the\ following\ arguments:\ "{}})\ +}
\DoxyCodeLine{04512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string(\textcolor{stringliteral}{"{}<input-\/file>\ <output-\/file>\ [<answer-\/file>\ [<report-\/file>\ [<-\/appes>]]]"{}})\ +}
\DoxyCodeLine{04513\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)nUse\ \(\backslash\)"{}-\/-\/help\(\backslash\)"{}\ to\ get\ help\ information"{}});}
\DoxyCodeLine{04514\ \ \ \ \ \}}
\DoxyCodeLine{04515\ }
\DoxyCodeLine{04516\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ <=\ 4)\ \{}
\DoxyCodeLine{04517\ \ \ \ \ \ \ \ \ resultName\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{04518\ \ \ \ \ \ \ \ \ appesMode\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{04519\ \ \ \ \ \}}
\DoxyCodeLine{04520\ }
\DoxyCodeLine{04521\ \textcolor{preprocessor}{\#ifndef\ EJUDGE}}
\DoxyCodeLine{04522\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ ==\ 5)\ \{}
\DoxyCodeLine{04523\ \ \ \ \ \ \ \ \ resultName\ =\ argv[4];}
\DoxyCodeLine{04524\ \ \ \ \ \ \ \ \ appesMode\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{04525\ \ \ \ \ \}}
\DoxyCodeLine{04526\ }
\DoxyCodeLine{04527\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ ==\ 6)\ \{}
\DoxyCodeLine{04528\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strcmp(\textcolor{stringliteral}{"{}-\/APPES"{}},\ argv[5])\ \&\&\ strcmp(\textcolor{stringliteral}{"{}-\/appes"{}},\ argv[5]))\ \{}
\DoxyCodeLine{04529\ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ std::string(\textcolor{stringliteral}{"{}Program\ must\ be\ run\ with\ the\ following\ arguments:\ "{}})\ +}
\DoxyCodeLine{04530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}<input-\/file>\ <output-\/file>\ <answer-\/file>\ [<report-\/file>\ [<-\/appes>]]"{}});}
\DoxyCodeLine{04531\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{04532\ \ \ \ \ \ \ \ \ \ \ \ \ resultName\ =\ argv[4];}
\DoxyCodeLine{04533\ \ \ \ \ \ \ \ \ \ \ \ \ appesMode\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04534\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04535\ \ \ \ \ \}}
\DoxyCodeLine{04536\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04537\ }
\DoxyCodeLine{04538\ \ \ \ \ inf.init(argv[1],\ \_input);}
\DoxyCodeLine{04539\ }
\DoxyCodeLine{04540\ \ \ \ \ tout.open(argv[2],\ std::ios\_base::out);}
\DoxyCodeLine{04541\ \ \ \ \ \textcolor{keywordflow}{if}\ (tout.fail()\ ||\ !tout.is\_open())}
\DoxyCodeLine{04542\ \ \ \ \ \ \ \ \ quit(\_fail,\ std::string(\textcolor{stringliteral}{"{}Can\ not\ write\ to\ the\ test-\/output-\/file\ '"{}})\ +\ argv[2]\ +\ std::string(\textcolor{stringliteral}{"{}'"{}}));}
\DoxyCodeLine{04543\ }
\DoxyCodeLine{04544\ \ \ \ \ ouf.init(stdin,\ \_output);}
\DoxyCodeLine{04545\ }
\DoxyCodeLine{04546\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ >=\ 4)}
\DoxyCodeLine{04547\ \ \ \ \ \ \ \ \ ans.init(argv[3],\ \_answer);}
\DoxyCodeLine{04548\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04549\ \ \ \ \ \ \ \ \ ans.name\ =\ \textcolor{stringliteral}{"{}unopened\ answer\ stream"{}};}
\DoxyCodeLine{04550\ \}}
\DoxyCodeLine{04551\ }
\DoxyCodeLine{04552\ \textcolor{keywordtype}{void}\ registerValidation()\ \{}
\DoxyCodeLine{04553\ \ \ \ \ \_\_testlib\_ensuresPreconditions();}
\DoxyCodeLine{04554\ \ \ \ \ TestlibFinalizeGuard::registered\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04555\ }
\DoxyCodeLine{04556\ \ \ \ \ testlibMode\ =\ \_validator;}
\DoxyCodeLine{04557\ }
\DoxyCodeLine{04558\ \ \ \ \ \_\_testlib\_set\_binary(stdin);}
\DoxyCodeLine{04559\ \ \ \ \ \_\_testlib\_set\_binary(stdout);}
\DoxyCodeLine{04560\ \ \ \ \ \_\_testlib\_set\_binary(stderr);}
\DoxyCodeLine{04561\ }
\DoxyCodeLine{04562\ \ \ \ \ inf.init(stdin,\ \_input);}
\DoxyCodeLine{04563\ \ \ \ \ inf.strict\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04564\ \}}
\DoxyCodeLine{04565\ }
\DoxyCodeLine{04566\ \textcolor{keywordtype}{void}\ registerValidation(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[])\ \{}
\DoxyCodeLine{04567\ \ \ \ \ registerValidation();}
\DoxyCodeLine{04568\ \ \ \ \ \_\_testlib\_set\_testset\_and\_group(argc,\ argv);}
\DoxyCodeLine{04569\ }
\DoxyCodeLine{04570\ \ \ \ \ validator.initialize();}
\DoxyCodeLine{04571\ \ \ \ \ TestlibFinalizeGuard::registered\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04572\ }
\DoxyCodeLine{04573\ \ \ \ \ std::string\ comment\ =\ \textcolor{stringliteral}{"{}Validator\ must\ be\ run\ with\ the\ following\ arguments:"{}}}
\DoxyCodeLine{04574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ [-\/-\/testset\ testset]"{}}}
\DoxyCodeLine{04575\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ [-\/-\/group\ group]"{}}}
\DoxyCodeLine{04576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ [-\/-\/testOverviewLogFileName\ fileName]"{}}}
\DoxyCodeLine{04577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ [-\/-\/testMarkupFileName\ fileName]"{}}}
\DoxyCodeLine{04578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ [-\/-\/testCase\ testCase]"{}}}
\DoxyCodeLine{04579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ [-\/-\/testCaseFileName\ fileName]"{}}}
\DoxyCodeLine{04580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ;}
\DoxyCodeLine{04581\ }
\DoxyCodeLine{04582\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 1;\ i\ <\ argc;\ i++)\ \{}
\DoxyCodeLine{04583\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!strcmp(\textcolor{stringliteral}{"{}-\/-\/testset"{}},\ argv[i]))\ \{}
\DoxyCodeLine{04584\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ argc\ \&\&\ strlen(argv[i\ +\ 1])\ >\ 0)}
\DoxyCodeLine{04585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validator.setTestset(argv[++i]);}
\DoxyCodeLine{04586\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04587\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ comment);}
\DoxyCodeLine{04588\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04589\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!strcmp(\textcolor{stringliteral}{"{}-\/-\/group"{}},\ argv[i]))\ \{}
\DoxyCodeLine{04590\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ argc)}
\DoxyCodeLine{04591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validator.setGroup(argv[++i]);}
\DoxyCodeLine{04592\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ comment);}
\DoxyCodeLine{04594\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04595\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!strcmp(\textcolor{stringliteral}{"{}-\/-\/testOverviewLogFileName"{}},\ argv[i]))\ \{}
\DoxyCodeLine{04596\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ argc)}
\DoxyCodeLine{04597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validator.setTestOverviewLogFileName(argv[++i]);}
\DoxyCodeLine{04598\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04599\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ comment);}
\DoxyCodeLine{04600\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04601\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!strcmp(\textcolor{stringliteral}{"{}-\/-\/testMarkupFileName"{}},\ argv[i]))\ \{}
\DoxyCodeLine{04602\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ argc)}
\DoxyCodeLine{04603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validator.setTestMarkupFileName(argv[++i]);}
\DoxyCodeLine{04604\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ comment);}
\DoxyCodeLine{04606\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04607\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!strcmp(\textcolor{stringliteral}{"{}-\/-\/testCase"{}},\ argv[i]))\ \{}
\DoxyCodeLine{04608\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ argc)\ \{}
\DoxyCodeLine{04609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ testCase\ =\ stringToLongLong(inf,\ argv[++i]);}
\DoxyCodeLine{04610\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (testCase\ <\ 1\ ||\ testCase\ >=\ \_\_TESTLIB\_MAX\_TEST\_CASE)}
\DoxyCodeLine{04611\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ format(\textcolor{stringliteral}{"{}Argument\ testCase\ should\ be\ between\ 1\ and\ \%d,\ but\ "{}},\ \_\_TESTLIB\_MAX\_TEST\_CASE)}
\DoxyCodeLine{04612\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ toString(testCase)\ +\ \textcolor{stringliteral}{"{}\ found"{}});}
\DoxyCodeLine{04613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validator.setTestCase(\textcolor{keywordtype}{int}(testCase));}
\DoxyCodeLine{04614\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04615\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ comment);}
\DoxyCodeLine{04616\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04617\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!strcmp(\textcolor{stringliteral}{"{}-\/-\/testCaseFileName"{}},\ argv[i]))\ \{}
\DoxyCodeLine{04618\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ argc)\ \{}
\DoxyCodeLine{04619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validator.setTestCaseFileName(argv[++i]);}
\DoxyCodeLine{04620\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04621\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ comment);}
\DoxyCodeLine{04622\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04623\ \ \ \ \ \}}
\DoxyCodeLine{04624\ \}}
\DoxyCodeLine{04625\ }
\DoxyCodeLine{04626\ \textcolor{keywordtype}{void}\ addFeature(\textcolor{keyword}{const}\ std::string\ \&feature)\ \{}
\DoxyCodeLine{04627\ \ \ \ \ \textcolor{keywordflow}{if}\ (testlibMode\ !=\ \_validator)}
\DoxyCodeLine{04628\ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}Features\ are\ supported\ in\ validators\ only."{}});}
\DoxyCodeLine{04629\ \ \ \ \ validator.addFeature(feature);}
\DoxyCodeLine{04630\ \}}
\DoxyCodeLine{04631\ }
\DoxyCodeLine{04632\ \textcolor{keywordtype}{void}\ feature(\textcolor{keyword}{const}\ std::string\ \&feature)\ \{}
\DoxyCodeLine{04633\ \ \ \ \ \textcolor{keywordflow}{if}\ (testlibMode\ !=\ \_validator)}
\DoxyCodeLine{04634\ \ \ \ \ \ \ \ \ quit(\_fail,\ \textcolor{stringliteral}{"{}Features\ are\ supported\ in\ validators\ only."{}});}
\DoxyCodeLine{04635\ \ \ \ \ validator.feature(feature);}
\DoxyCodeLine{04636\ \}}
\DoxyCodeLine{04637\ }
\DoxyCodeLine{04638\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_checker}{Checker}}\ \{}
\DoxyCodeLine{04639\ \textcolor{keyword}{private}:}
\DoxyCodeLine{04640\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_initialized;}
\DoxyCodeLine{04641\ \ \ \ \ std::string\ \_testset;}
\DoxyCodeLine{04642\ \ \ \ \ std::string\ \_group;}
\DoxyCodeLine{04643\ }
\DoxyCodeLine{04644\ \textcolor{keyword}{public}:}
\DoxyCodeLine{04645\ \ \ \ \ \mbox{\hyperlink{class_checker}{Checker}}()\ :\ \_initialized(\textcolor{keyword}{false}),\ \_testset(\textcolor{stringliteral}{"{}tests"{}}),\ \_group()\ \{}
\DoxyCodeLine{04646\ \ \ \ \ \}}
\DoxyCodeLine{04647\ }
\DoxyCodeLine{04648\ \ \ \ \ \textcolor{keywordtype}{void}\ initialize()\ \{}
\DoxyCodeLine{04649\ \ \ \ \ \ \ \ \ \_initialized\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04650\ \ \ \ \ \}}
\DoxyCodeLine{04651\ }
\DoxyCodeLine{04652\ \ \ \ \ std::string\ testset()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{04653\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_initialized)}
\DoxyCodeLine{04654\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Checker\ should\ be\ initialized\ with\ registerTestlibCmd(argc,\ argv)\ instead\ of\ registerTestlibCmd()\ to\ support\ checker.testset()"{}});}
\DoxyCodeLine{04655\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_testset;}
\DoxyCodeLine{04656\ \ \ \ \ \}}
\DoxyCodeLine{04657\ }
\DoxyCodeLine{04658\ \ \ \ \ std::string\ group()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{04659\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_initialized)}
\DoxyCodeLine{04660\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Checker\ should\ be\ initialized\ with\ registerTestlibCmd(argc,\ argv)\ instead\ of\ registerTestlibCmd()\ to\ support\ checker.group()"{}});}
\DoxyCodeLine{04661\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_group;}
\DoxyCodeLine{04662\ \ \ \ \ \}}
\DoxyCodeLine{04663\ }
\DoxyCodeLine{04664\ \ \ \ \ \textcolor{keywordtype}{void}\ setTestset(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keyword}{const}\ testset)\ \{}
\DoxyCodeLine{04665\ \ \ \ \ \ \ \ \ \_testset\ =\ testset;}
\DoxyCodeLine{04666\ \ \ \ \ \}}
\DoxyCodeLine{04667\ }
\DoxyCodeLine{04668\ \ \ \ \ \textcolor{keywordtype}{void}\ setGroup(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keyword}{const}\ group)\ \{}
\DoxyCodeLine{04669\ \ \ \ \ \ \ \ \ \_group\ =\ group;}
\DoxyCodeLine{04670\ \ \ \ \ \}}
\DoxyCodeLine{04671\ \}\ checker;}
\DoxyCodeLine{04672\ }
\DoxyCodeLine{04673\ \textcolor{keywordtype}{void}\ registerTestlibCmd(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[])\ \{}
\DoxyCodeLine{04674\ \ \ \ \ \_\_testlib\_ensuresPreconditions();}
\DoxyCodeLine{04675\ \ \ \ \ \_\_testlib\_set\_testset\_and\_group(argc,\ argv);}
\DoxyCodeLine{04676\ \ \ \ \ TestlibFinalizeGuard::registered\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04677\ }
\DoxyCodeLine{04678\ \ \ \ \ testlibMode\ =\ \_checker;}
\DoxyCodeLine{04679\ \ \ \ \ \_\_testlib\_set\_binary(stdin);}
\DoxyCodeLine{04680\ }
\DoxyCodeLine{04681\ \ \ \ \ std::vector<std::string>\ args(1,\ argv[0]);}
\DoxyCodeLine{04682\ \ \ \ \ checker.initialize();}
\DoxyCodeLine{04683\ }
\DoxyCodeLine{04684\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 1;\ i\ <\ argc;\ i++)\ \{}
\DoxyCodeLine{04685\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!strcmp(\textcolor{stringliteral}{"{}-\/-\/testset"{}},\ argv[i]))\ \{}
\DoxyCodeLine{04686\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ argc\ \&\&\ strlen(argv[i\ +\ 1])\ >\ 0)}
\DoxyCodeLine{04687\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ checker.setTestset(argv[++i]);}
\DoxyCodeLine{04688\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04689\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ std::string(\textcolor{stringliteral}{"{}Expected\ testset\ after\ -\/-\/testset\ command\ line\ parameter"{}}));}
\DoxyCodeLine{04690\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!strcmp(\textcolor{stringliteral}{"{}-\/-\/group"{}},\ argv[i]))\ \{}
\DoxyCodeLine{04691\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ argc)}
\DoxyCodeLine{04692\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ checker.setGroup(argv[++i]);}
\DoxyCodeLine{04693\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04694\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ std::string(\textcolor{stringliteral}{"{}Expected\ group\ after\ -\/-\/group\ command\ line\ parameter"{}}));}
\DoxyCodeLine{04695\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04696\ \ \ \ \ \ \ \ \ \ \ \ \ args.push\_back(argv[i]);}
\DoxyCodeLine{04697\ \ \ \ \ \}}
\DoxyCodeLine{04698\ }
\DoxyCodeLine{04699\ \ \ \ \ argc\ =\ int(args.size());}
\DoxyCodeLine{04700\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ >\ 1\ \&\&\ \textcolor{stringliteral}{"{}-\/-\/help"{}}\ ==\ args[1])}
\DoxyCodeLine{04701\ \ \ \ \ \ \ \ \ \_\_testlib\_help();}
\DoxyCodeLine{04702\ }
\DoxyCodeLine{04703\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ <\ 4\ ||\ argc\ >\ 6)\ \{}
\DoxyCodeLine{04704\ \ \ \ \ \ \ \ \ quit(\_fail,\ std::string(\textcolor{stringliteral}{"{}Program\ must\ be\ run\ with\ the\ following\ arguments:\ "{}})\ +}
\DoxyCodeLine{04705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string(\textcolor{stringliteral}{"{}[-\/-\/testset\ testset]\ [-\/-\/group\ group]\ <input-\/file>\ <output-\/file>\ <answer-\/file>\ [<report-\/file>\ [<-\/appes>]]"{}})\ +}
\DoxyCodeLine{04706\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)nUse\ \(\backslash\)"{}-\/-\/help\(\backslash\)"{}\ to\ get\ help\ information"{}});}
\DoxyCodeLine{04707\ \ \ \ \ \}}
\DoxyCodeLine{04708\ }
\DoxyCodeLine{04709\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ ==\ 4)\ \{}
\DoxyCodeLine{04710\ \ \ \ \ \ \ \ \ resultName\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{04711\ \ \ \ \ \ \ \ \ appesMode\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{04712\ \ \ \ \ \}}
\DoxyCodeLine{04713\ }
\DoxyCodeLine{04714\ \textcolor{preprocessor}{\#ifndef\ EJUDGE}}
\DoxyCodeLine{04715\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ ==\ 5)\ \{}
\DoxyCodeLine{04716\ \ \ \ \ \ \ \ \ resultName\ =\ args[4];}
\DoxyCodeLine{04717\ \ \ \ \ \ \ \ \ appesMode\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{04718\ \ \ \ \ \}}
\DoxyCodeLine{04719\ }
\DoxyCodeLine{04720\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ ==\ 6)\ \{}
\DoxyCodeLine{04721\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{stringliteral}{"{}-\/APPES"{}}\ !=\ args[5]\ \&\&\ \textcolor{stringliteral}{"{}-\/appes"{}}\ !=\ args[5])\ \{}
\DoxyCodeLine{04722\ \ \ \ \ \ \ \ \ \ \ \ \ quit(\_fail,\ std::string(\textcolor{stringliteral}{"{}Program\ must\ be\ run\ with\ the\ following\ arguments:\ "{}})\ +}
\DoxyCodeLine{04723\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}<input-\/file>\ <output-\/file>\ <answer-\/file>\ [<report-\/file>\ [<-\/appes>]]"{}});}
\DoxyCodeLine{04724\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{04725\ \ \ \ \ \ \ \ \ \ \ \ \ resultName\ =\ args[4];}
\DoxyCodeLine{04726\ \ \ \ \ \ \ \ \ \ \ \ \ appesMode\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04727\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{04728\ \ \ \ \ \}}
\DoxyCodeLine{04729\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04730\ }
\DoxyCodeLine{04731\ \ \ \ \ inf.init(args[1],\ \_input);}
\DoxyCodeLine{04732\ \ \ \ \ ouf.init(args[2],\ \_output);}
\DoxyCodeLine{04733\ \ \ \ \ ouf.skipBom();}
\DoxyCodeLine{04734\ \ \ \ \ ans.init(args[3],\ \_answer);}
\DoxyCodeLine{04735\ \}}
\DoxyCodeLine{04736\ }
\DoxyCodeLine{04737\ \textcolor{keywordtype}{void}\ registerTestlib(\textcolor{keywordtype}{int}\ argc,\ ...)\ \{}
\DoxyCodeLine{04738\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ <\ 3\ ||\ argc\ >\ 5)}
\DoxyCodeLine{04739\ \ \ \ \ \ \ \ \ quit(\_fail,\ std::string(\textcolor{stringliteral}{"{}Program\ must\ be\ run\ with\ the\ following\ arguments:\ "{}})\ +}
\DoxyCodeLine{04740\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}<input-\/file>\ <output-\/file>\ <answer-\/file>\ [<report-\/file>\ [<-\/appes>]]"{}});}
\DoxyCodeLine{04741\ }
\DoxyCodeLine{04742\ \ \ \ \ \textcolor{keywordtype}{char}\ **argv\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{char}\ *[argc\ +\ 1];}
\DoxyCodeLine{04743\ }
\DoxyCodeLine{04744\ \ \ \ \ va\_list\ ap;}
\DoxyCodeLine{04745\ \ \ \ \ va\_start(ap,\ argc);}
\DoxyCodeLine{04746\ \ \ \ \ argv[0]\ =\ NULL;}
\DoxyCodeLine{04747\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ argc;\ i++)\ \{}
\DoxyCodeLine{04748\ \ \ \ \ \ \ \ \ argv[i\ +\ 1]\ =\ va\_arg(ap,\ \textcolor{keywordtype}{char}*);}
\DoxyCodeLine{04749\ \ \ \ \ \}}
\DoxyCodeLine{04750\ \ \ \ \ va\_end(ap);}
\DoxyCodeLine{04751\ }
\DoxyCodeLine{04752\ \ \ \ \ registerTestlibCmd(argc\ +\ 1,\ argv);}
\DoxyCodeLine{04753\ \ \ \ \ \textcolor{keyword}{delete}[]\ argv;}
\DoxyCodeLine{04754\ \}}
\DoxyCodeLine{04755\ }
\DoxyCodeLine{04756\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \_\_testlib\_ensure(\textcolor{keywordtype}{bool}\ cond,\ \textcolor{keyword}{const}\ std::string\ \&msg)\ \{}
\DoxyCodeLine{04757\ \ \ \ \ \textcolor{keywordflow}{if}\ (!cond)}
\DoxyCodeLine{04758\ \ \ \ \ \ \ \ \ quit(\_fail,\ msg.c\_str());}
\DoxyCodeLine{04759\ \}}
\DoxyCodeLine{04760\ }
\DoxyCodeLine{04761\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04762\ \_\_attribute\_\_((unused))}
\DoxyCodeLine{04763\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04764\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \_\_testlib\_ensure(\textcolor{keywordtype}{bool}\ cond,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *msg)\ \{}
\DoxyCodeLine{04765\ \ \ \ \ \textcolor{keywordflow}{if}\ (!cond)}
\DoxyCodeLine{04766\ \ \ \ \ \ \ \ \ quit(\_fail,\ msg);}
\DoxyCodeLine{04767\ \}}
\DoxyCodeLine{04768\ }
\DoxyCodeLine{04769\ \textcolor{preprocessor}{\#define\ ensure(cond)\ \_\_testlib\_ensure(cond,\ "{}Condition\ failed:\ \(\backslash\)"{}"{}\ \#cond\ "{}\(\backslash\)"{}"{})}}
\DoxyCodeLine{04770\ \textcolor{preprocessor}{\#define\ STRINGIZE\_DETAIL(x)\ \#x}}
\DoxyCodeLine{04771\ \textcolor{preprocessor}{\#define\ STRINGIZE(x)\ STRINGIZE\_DETAIL(x)}}
\DoxyCodeLine{04772\ \textcolor{preprocessor}{\#define\ ensure\_ext(cond)\ \_\_testlib\_ensure(cond,\ "{}Line\ "{}\ STRINGIZE(\_\_LINE\_\_)\ "{}:\ Condition\ failed:\ \(\backslash\)"{}"{}\ \#cond\ "{}\(\backslash\)"{}"{})}}
\DoxyCodeLine{04773\ }
\DoxyCodeLine{04774\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04775\ \_\_attribute\_\_\ ((format\ (printf,\ 2,\ 3)))}
\DoxyCodeLine{04776\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04777\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ ensuref(\textcolor{keywordtype}{bool}\ cond,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,\ ...)\ \{}
\DoxyCodeLine{04778\ \ \ \ \ \textcolor{keywordflow}{if}\ (!cond)\ \{}
\DoxyCodeLine{04779\ \ \ \ \ \ \ \ \ FMT\_TO\_RESULT(format,\ format,\ message);}
\DoxyCodeLine{04780\ \ \ \ \ \ \ \ \ \_\_testlib\_ensure(cond,\ message);}
\DoxyCodeLine{04781\ \ \ \ \ \}}
\DoxyCodeLine{04782\ \}}
\DoxyCodeLine{04783\ }
\DoxyCodeLine{04784\ NORETURN\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \_\_testlib\_fail(\textcolor{keyword}{const}\ std::string\ \&message)\ \{}
\DoxyCodeLine{04785\ \ \ \ \ quitf(\_fail,\ \textcolor{stringliteral}{"{}\%s"{}},\ message.c\_str());}
\DoxyCodeLine{04786\ \}}
\DoxyCodeLine{04787\ }
\DoxyCodeLine{04788\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04789\ \_\_attribute\_\_\ ((format\ (printf,\ 1,\ 2)))}
\DoxyCodeLine{04790\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04791\ \textcolor{keywordtype}{void}\ setName(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,\ ...)\ \{}
\DoxyCodeLine{04792\ \ \ \ \ FMT\_TO\_RESULT(format,\ format,\ name);}
\DoxyCodeLine{04793\ \ \ \ \ checkerName\ =\ name;}
\DoxyCodeLine{04794\ \}}
\DoxyCodeLine{04795\ }
\DoxyCodeLine{04796\ \textcolor{comment}{/*}}
\DoxyCodeLine{04797\ \textcolor{comment}{\ *\ Do\ not\ use\ random\_shuffle,\ because\ it\ will\ produce\ different\ result}}
\DoxyCodeLine{04798\ \textcolor{comment}{\ *\ for\ different\ C++\ compilers.}}
\DoxyCodeLine{04799\ \textcolor{comment}{\ *}}
\DoxyCodeLine{04800\ \textcolor{comment}{\ *\ This\ implementation\ uses\ testlib\ random\_t\ to\ produce\ random\ numbers,\ so}}
\DoxyCodeLine{04801\ \textcolor{comment}{\ *\ it\ is\ stable.}}
\DoxyCodeLine{04802\ \textcolor{comment}{\ */}}
\DoxyCodeLine{04803\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_RandomAccessIter>}
\DoxyCodeLine{04804\ \textcolor{keywordtype}{void}\ shuffle(\_RandomAccessIter\ \_\_first,\ \_RandomAccessIter\ \_\_last)\ \{}
\DoxyCodeLine{04805\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_first\ ==\ \_\_last)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{04806\ \ \ \ \ \textcolor{keywordflow}{for}\ (\_RandomAccessIter\ \_\_i\ =\ \_\_first\ +\ 1;\ \_\_i\ !=\ \_\_last;\ ++\_\_i)}
\DoxyCodeLine{04807\ \ \ \ \ \ \ \ \ std::iter\_swap(\_\_i,\ \_\_first\ +\ rnd.next(\textcolor{keywordtype}{int}(\_\_i\ -\/\ \_\_first)\ +\ 1));}
\DoxyCodeLine{04808\ \}}
\DoxyCodeLine{04809\ }
\DoxyCodeLine{04810\ }
\DoxyCodeLine{04811\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_RandomAccessIter>}
\DoxyCodeLine{04812\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_clang\_\_)}}
\DoxyCodeLine{04813\ \_\_attribute\_\_\ ((error(\textcolor{stringliteral}{"{}Don't\ use\ random\_shuffle(),\ use\ shuffle()\ instead"{}})))}
\DoxyCodeLine{04814\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04815\ \textcolor{keywordtype}{void}\ random\_shuffle(\_RandomAccessIter,\ \_RandomAccessIter)\ \{}
\DoxyCodeLine{04816\ \ \ \ \ quitf(\_fail,\ \textcolor{stringliteral}{"{}Don't\ use\ random\_shuffle(),\ use\ shuffle()\ instead"{}});}
\DoxyCodeLine{04817\ \}}
\DoxyCodeLine{04818\ }
\DoxyCodeLine{04819\ \textcolor{preprocessor}{\#ifdef\ \_\_GLIBC\_\_}}
\DoxyCodeLine{04820\ \textcolor{preprocessor}{\#\ \ define\ RAND\_THROW\_STATEMENT\ throw()}}
\DoxyCodeLine{04821\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{04822\ \textcolor{preprocessor}{\#\ \ define\ RAND\_THROW\_STATEMENT}}
\DoxyCodeLine{04823\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04824\ }
\DoxyCodeLine{04825\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_clang\_\_)}}
\DoxyCodeLine{04826\ }
\DoxyCodeLine{04827\ \_\_attribute\_\_\ ((error(\textcolor{stringliteral}{"{}Don't\ use\ rand(),\ use\ rnd.next()\ instead"{}})))}
\DoxyCodeLine{04828\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04829\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{04830\ \textcolor{preprocessor}{\#\ \ \ pragma\ warning(\ disable\ :\ 4273\ )}}
\DoxyCodeLine{04831\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04832\ \textcolor{keywordtype}{int}\ rand()\ RAND\_THROW\_STATEMENT}
\DoxyCodeLine{04833\ \{}
\DoxyCodeLine{04834\ \ \ \ \ quitf(\_fail,\ \textcolor{stringliteral}{"{}Don't\ use\ rand(),\ use\ rnd.next()\ instead"{}});}
\DoxyCodeLine{04835\ }
\DoxyCodeLine{04836\ \ \ \ \ \textcolor{comment}{/*\ This\ line\ never\ runs.\ */}}
\DoxyCodeLine{04837\ \ \ \ \ \textcolor{comment}{//throw\ "{}Don't\ use\ rand(),\ use\ rnd.next()\ instead"{};}}
\DoxyCodeLine{04838\ \}}
\DoxyCodeLine{04839\ }
\DoxyCodeLine{04840\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_clang\_\_)}}
\DoxyCodeLine{04841\ }
\DoxyCodeLine{04842\ \_\_attribute\_\_\ ((error(\textcolor{stringliteral}{"{}Don't\ use\ srand(),\ you\ should\ use\ "{}}}
\DoxyCodeLine{04843\ \textcolor{stringliteral}{"{}'registerGen(argc,\ argv,\ 1);'\ to\ initialize\ generator\ seed\ "{}}}
\DoxyCodeLine{04844\ \textcolor{stringliteral}{"{}by\ hash\ code\ of\ the\ command\ line\ params.\ The\ third\ parameter\ "{}}}
\DoxyCodeLine{04845\ \textcolor{stringliteral}{"{}is\ randomGeneratorVersion\ (currently\ the\ latest\ is\ 1)."{}})))}
\DoxyCodeLine{04846\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04847\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{04848\ \textcolor{preprocessor}{\#\ \ \ pragma\ warning(\ disable\ :\ 4273\ )}}
\DoxyCodeLine{04849\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04850\ \textcolor{keywordtype}{void}\ srand(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ seed)\ RAND\_THROW\_STATEMENT}
\DoxyCodeLine{04851\ \{}
\DoxyCodeLine{04852\ \ \ \ \ quitf(\_fail,\ \textcolor{stringliteral}{"{}Don't\ use\ srand(),\ you\ should\ use\ "{}}}
\DoxyCodeLine{04853\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}'registerGen(argc,\ argv,\ 1);'\ to\ initialize\ generator\ seed\ "{}}}
\DoxyCodeLine{04854\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}by\ hash\ code\ of\ the\ command\ line\ params.\ The\ third\ parameter\ "{}}}
\DoxyCodeLine{04855\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}is\ randomGeneratorVersion\ (currently\ the\ latest\ is\ 1)\ [ignored\ seed=\%u]."{}},\ seed);}
\DoxyCodeLine{04856\ \}}
\DoxyCodeLine{04857\ }
\DoxyCodeLine{04858\ \textcolor{keywordtype}{void}\ startTest(\textcolor{keywordtype}{int}\ test)\ \{}
\DoxyCodeLine{04859\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ testFileName\ =\ vtos(test);}
\DoxyCodeLine{04860\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ freopen(testFileName.c\_str(),\ \textcolor{stringliteral}{"{}wt"{}},\ stdout))}
\DoxyCodeLine{04861\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Unable\ to\ write\ file\ '"{}}\ +\ testFileName\ +\ \textcolor{stringliteral}{"{}'"{}});}
\DoxyCodeLine{04862\ \}}
\DoxyCodeLine{04863\ }
\DoxyCodeLine{04864\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04865\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{04866\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04867\ \textcolor{keyword}{inline}\ std::string\ compress(\textcolor{keyword}{const}\ std::string\ \&s)\ \{}
\DoxyCodeLine{04868\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_part(s);}
\DoxyCodeLine{04869\ \}}
\DoxyCodeLine{04870\ }
\DoxyCodeLine{04871\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04872\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{04873\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04874\ \textcolor{keyword}{inline}\ std::string\ englishEnding(\textcolor{keywordtype}{int}\ x)\ \{}
\DoxyCodeLine{04875\ \ \ \ \ x\ \%=\ 100;}
\DoxyCodeLine{04876\ \ \ \ \ \textcolor{keywordflow}{if}\ (x\ /\ 10\ ==\ 1)}
\DoxyCodeLine{04877\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}th"{}};}
\DoxyCodeLine{04878\ \ \ \ \ \textcolor{keywordflow}{if}\ (x\ \%\ 10\ ==\ 1)}
\DoxyCodeLine{04879\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}st"{}};}
\DoxyCodeLine{04880\ \ \ \ \ \textcolor{keywordflow}{if}\ (x\ \%\ 10\ ==\ 2)}
\DoxyCodeLine{04881\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}nd"{}};}
\DoxyCodeLine{04882\ \ \ \ \ \textcolor{keywordflow}{if}\ (x\ \%\ 10\ ==\ 3)}
\DoxyCodeLine{04883\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}rd"{}};}
\DoxyCodeLine{04884\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}th"{}};}
\DoxyCodeLine{04885\ \}}
\DoxyCodeLine{04886\ }
\DoxyCodeLine{04887\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_ForwardIterator,\ \textcolor{keyword}{typename}\ \_Separator>}
\DoxyCodeLine{04888\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04889\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{04890\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04891\ std::string\ join(\_ForwardIterator\ first,\ \_ForwardIterator\ last,\ \_Separator\ separator)\ \{}
\DoxyCodeLine{04892\ \ \ \ \ std::stringstream\ ss;}
\DoxyCodeLine{04893\ \ \ \ \ \textcolor{keywordtype}{bool}\ repeated\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{04894\ \ \ \ \ \textcolor{keywordflow}{for}\ (\_ForwardIterator\ i\ =\ first;\ i\ !=\ last;\ i++)\ \{}
\DoxyCodeLine{04895\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (repeated)}
\DoxyCodeLine{04896\ \ \ \ \ \ \ \ \ \ \ \ \ ss\ <<\ separator;}
\DoxyCodeLine{04897\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04898\ \ \ \ \ \ \ \ \ \ \ \ \ repeated\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04899\ \ \ \ \ \ \ \ \ ss\ <<\ *i;}
\DoxyCodeLine{04900\ \ \ \ \ \}}
\DoxyCodeLine{04901\ \ \ \ \ \textcolor{keywordflow}{return}\ ss.str();}
\DoxyCodeLine{04902\ \}}
\DoxyCodeLine{04903\ }
\DoxyCodeLine{04904\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_ForwardIterator>}
\DoxyCodeLine{04905\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04906\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{04907\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04908\ std::string\ join(\_ForwardIterator\ first,\ \_ForwardIterator\ last)\ \{}
\DoxyCodeLine{04909\ \ \ \ \ \textcolor{keywordflow}{return}\ join(first,\ last,\ \textcolor{charliteral}{'\ '});}
\DoxyCodeLine{04910\ \}}
\DoxyCodeLine{04911\ }
\DoxyCodeLine{04912\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Collection,\ \textcolor{keyword}{typename}\ \_Separator>}
\DoxyCodeLine{04913\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04914\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{04915\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04916\ std::string\ join(\textcolor{keyword}{const}\ \_Collection\ \&collection,\ \_Separator\ separator)\ \{}
\DoxyCodeLine{04917\ \ \ \ \ \textcolor{keywordflow}{return}\ join(collection.begin(),\ collection.end(),\ separator);}
\DoxyCodeLine{04918\ \}}
\DoxyCodeLine{04919\ }
\DoxyCodeLine{04920\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Collection>}
\DoxyCodeLine{04921\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04922\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{04923\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04924\ std::string\ join(\textcolor{keyword}{const}\ \_Collection\ \&collection)\ \{}
\DoxyCodeLine{04925\ \ \ \ \ \textcolor{keywordflow}{return}\ join(collection,\ \textcolor{charliteral}{'\ '});}
\DoxyCodeLine{04926\ \}}
\DoxyCodeLine{04927\ }
\DoxyCodeLine{04932\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04933\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{04934\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04935\ std::vector<std::string>\ split(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{char}\ separator)\ \{}
\DoxyCodeLine{04936\ \ \ \ \ std::vector<std::string>\ result;}
\DoxyCodeLine{04937\ \ \ \ \ std::string\ item;}
\DoxyCodeLine{04938\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)}
\DoxyCodeLine{04939\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ ==\ separator)\ \{}
\DoxyCodeLine{04940\ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(item);}
\DoxyCodeLine{04941\ \ \ \ \ \ \ \ \ \ \ \ \ item\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{04942\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04943\ \ \ \ \ \ \ \ \ \ \ \ \ item\ +=\ s[i];}
\DoxyCodeLine{04944\ \ \ \ \ result.push\_back(item);}
\DoxyCodeLine{04945\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{04946\ \}}
\DoxyCodeLine{04947\ }
\DoxyCodeLine{04952\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04953\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{04954\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04955\ std::vector<std::string>\ split(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keyword}{const}\ std::string\ \&separators)\ \{}
\DoxyCodeLine{04956\ \ \ \ \ \textcolor{keywordflow}{if}\ (separators.empty())}
\DoxyCodeLine{04957\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::vector<std::string>(1,\ s);}
\DoxyCodeLine{04958\ }
\DoxyCodeLine{04959\ \ \ \ \ std::vector<bool>\ isSeparator(256);}
\DoxyCodeLine{04960\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ separators.size();\ i++)}
\DoxyCodeLine{04961\ \ \ \ \ \ \ \ \ isSeparator[(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char})\ (separators[i])]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{04962\ }
\DoxyCodeLine{04963\ \ \ \ \ std::vector<std::string>\ result;}
\DoxyCodeLine{04964\ \ \ \ \ std::string\ item;}
\DoxyCodeLine{04965\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)}
\DoxyCodeLine{04966\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isSeparator[(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char})\ (s[i])])\ \{}
\DoxyCodeLine{04967\ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(item);}
\DoxyCodeLine{04968\ \ \ \ \ \ \ \ \ \ \ \ \ item\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{04969\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04970\ \ \ \ \ \ \ \ \ \ \ \ \ item\ +=\ s[i];}
\DoxyCodeLine{04971\ \ \ \ \ result.push\_back(item);}
\DoxyCodeLine{04972\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{04973\ \}}
\DoxyCodeLine{04974\ }
\DoxyCodeLine{04978\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{04979\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{04980\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04981\ std::vector<std::string>\ tokenize(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{char}\ separator)\ \{}
\DoxyCodeLine{04982\ \ \ \ \ std::vector<std::string>\ result;}
\DoxyCodeLine{04983\ \ \ \ \ std::string\ item;}
\DoxyCodeLine{04984\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)}
\DoxyCodeLine{04985\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ ==\ separator)\ \{}
\DoxyCodeLine{04986\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!item.empty())}
\DoxyCodeLine{04987\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(item);}
\DoxyCodeLine{04988\ \ \ \ \ \ \ \ \ \ \ \ \ item\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{04989\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{04990\ \ \ \ \ \ \ \ \ \ \ \ \ item\ +=\ s[i];}
\DoxyCodeLine{04991\ \ \ \ \ \textcolor{keywordflow}{if}\ (!item.empty())}
\DoxyCodeLine{04992\ \ \ \ \ \ \ \ \ result.push\_back(item);}
\DoxyCodeLine{04993\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{04994\ \}}
\DoxyCodeLine{04995\ }
\DoxyCodeLine{04999\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{05000\ \_\_attribute\_\_((\textcolor{keyword}{const}))}
\DoxyCodeLine{05001\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{05002\ std::vector<std::string>\ tokenize(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keyword}{const}\ std::string\ \&separators)\ \{}
\DoxyCodeLine{05003\ \ \ \ \ \textcolor{keywordflow}{if}\ (separators.empty())}
\DoxyCodeLine{05004\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::vector<std::string>(1,\ s);}
\DoxyCodeLine{05005\ }
\DoxyCodeLine{05006\ \ \ \ \ std::vector<bool>\ isSeparator(256);}
\DoxyCodeLine{05007\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ separators.size();\ i++)}
\DoxyCodeLine{05008\ \ \ \ \ \ \ \ \ isSeparator[(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char})\ (separators[i])]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{05009\ }
\DoxyCodeLine{05010\ \ \ \ \ std::vector<std::string>\ result;}
\DoxyCodeLine{05011\ \ \ \ \ std::string\ item;}
\DoxyCodeLine{05012\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)}
\DoxyCodeLine{05013\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isSeparator[(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char})\ (s[i])])\ \{}
\DoxyCodeLine{05014\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!item.empty())}
\DoxyCodeLine{05015\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(item);}
\DoxyCodeLine{05016\ \ \ \ \ \ \ \ \ \ \ \ \ item\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{05017\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{05018\ \ \ \ \ \ \ \ \ \ \ \ \ item\ +=\ s[i];}
\DoxyCodeLine{05019\ }
\DoxyCodeLine{05020\ \ \ \ \ \textcolor{keywordflow}{if}\ (!item.empty())}
\DoxyCodeLine{05021\ \ \ \ \ \ \ \ \ result.push\_back(item);}
\DoxyCodeLine{05022\ }
\DoxyCodeLine{05023\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{05024\ \}}
\DoxyCodeLine{05025\ }
\DoxyCodeLine{05026\ NORETURN\ \textcolor{keywordtype}{void}\ \_\_testlib\_expectedButFound(TResult\ result,\ std::string\ expected,\ std::string\ found,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *prepend)\ \{}
\DoxyCodeLine{05027\ \ \ \ \ std::string\ message;}
\DoxyCodeLine{05028\ \ \ \ \ \textcolor{keywordflow}{if}\ (strlen(prepend)\ !=\ 0)}
\DoxyCodeLine{05029\ \ \ \ \ \ \ \ \ message\ =\ format(\textcolor{stringliteral}{"{}\%s:\ expected\ '\%s',\ but\ found\ '\%s'"{}},}
\DoxyCodeLine{05030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ compress(prepend).c\_str(),\ compress(expected).c\_str(),\ compress(found).c\_str());}
\DoxyCodeLine{05031\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{05032\ \ \ \ \ \ \ \ \ message\ =\ format(\textcolor{stringliteral}{"{}expected\ '\%s',\ but\ found\ '\%s'"{}},}
\DoxyCodeLine{05033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ compress(expected).c\_str(),\ compress(found).c\_str());}
\DoxyCodeLine{05034\ \ \ \ \ quit(result,\ message);}
\DoxyCodeLine{05035\ \}}
\DoxyCodeLine{05036\ }
\DoxyCodeLine{05037\ NORETURN\ \textcolor{keywordtype}{void}\ \_\_testlib\_expectedButFound(TResult\ result,\ \textcolor{keywordtype}{double}\ expected,\ \textcolor{keywordtype}{double}\ found,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *prepend)\ \{}
\DoxyCodeLine{05038\ \ \ \ \ std::string\ expectedString\ =\ removeDoubleTrailingZeroes(format(\textcolor{stringliteral}{"{}\%.12f"{}},\ expected));}
\DoxyCodeLine{05039\ \ \ \ \ std::string\ foundString\ =\ removeDoubleTrailingZeroes(format(\textcolor{stringliteral}{"{}\%.12f"{}},\ found));}
\DoxyCodeLine{05040\ \ \ \ \ \_\_testlib\_expectedButFound(result,\ expectedString,\ foundString,\ prepend);}
\DoxyCodeLine{05041\ \}}
\DoxyCodeLine{05042\ }
\DoxyCodeLine{05043\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05044\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{05045\ \_\_attribute\_\_\ ((format\ (printf,\ 4,\ 5)))}
\DoxyCodeLine{05046\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{05047\ NORETURN\ \textcolor{keywordtype}{void}\ expectedButFound(TResult\ result,\ \_Tp\ expected,\ \_Tp\ found,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *prependFormat\ =\ \textcolor{stringliteral}{"{}"{}},\ ...)\ \{}
\DoxyCodeLine{05048\ \ \ \ \ FMT\_TO\_RESULT(prependFormat,\ prependFormat,\ prepend);}
\DoxyCodeLine{05049\ \ \ \ \ std::string\ expectedString\ =\ vtos(expected);}
\DoxyCodeLine{05050\ \ \ \ \ std::string\ foundString\ =\ vtos(found);}
\DoxyCodeLine{05051\ \ \ \ \ \_\_testlib\_expectedButFound(result,\ expectedString,\ foundString,\ prepend.c\_str());}
\DoxyCodeLine{05052\ \}}
\DoxyCodeLine{05053\ }
\DoxyCodeLine{05054\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05055\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{05056\ \_\_attribute\_\_\ ((format\ (printf,\ 4,\ 5)))}
\DoxyCodeLine{05057\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{05058\ NORETURN\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{05059\ expectedButFound<std::string>(TResult\ result,\ std::string\ expected,\ std::string\ found,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *prependFormat,\ ...)\ \{}
\DoxyCodeLine{05060\ \ \ \ \ FMT\_TO\_RESULT(prependFormat,\ prependFormat,\ prepend);}
\DoxyCodeLine{05061\ \ \ \ \ \_\_testlib\_expectedButFound(result,\ expected,\ found,\ prepend.c\_str());}
\DoxyCodeLine{05062\ \}}
\DoxyCodeLine{05063\ }
\DoxyCodeLine{05064\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05065\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{05066\ \_\_attribute\_\_\ ((format\ (printf,\ 4,\ 5)))}
\DoxyCodeLine{05067\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{05068\ NORETURN\ \textcolor{keywordtype}{void}\ expectedButFound<double>(TResult\ result,\ \textcolor{keywordtype}{double}\ expected,\ \textcolor{keywordtype}{double}\ found,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *prependFormat,\ ...)\ \{}
\DoxyCodeLine{05069\ \ \ \ \ FMT\_TO\_RESULT(prependFormat,\ prependFormat,\ prepend);}
\DoxyCodeLine{05070\ \ \ \ \ std::string\ expectedString\ =\ removeDoubleTrailingZeroes(format(\textcolor{stringliteral}{"{}\%.12f"{}},\ expected));}
\DoxyCodeLine{05071\ \ \ \ \ std::string\ foundString\ =\ removeDoubleTrailingZeroes(format(\textcolor{stringliteral}{"{}\%.12f"{}},\ found));}
\DoxyCodeLine{05072\ \ \ \ \ \_\_testlib\_expectedButFound(result,\ expectedString,\ foundString,\ prepend.c\_str());}
\DoxyCodeLine{05073\ \}}
\DoxyCodeLine{05074\ }
\DoxyCodeLine{05075\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05076\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{05077\ \_\_attribute\_\_\ ((format\ (printf,\ 4,\ 5)))}
\DoxyCodeLine{05078\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{05079\ NORETURN\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{05080\ expectedButFound<const\ char\ *>(TResult\ result,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *expected,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *found,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *prependFormat,}
\DoxyCodeLine{05081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ...)\ \{}
\DoxyCodeLine{05082\ \ \ \ \ FMT\_TO\_RESULT(prependFormat,\ prependFormat,\ prepend);}
\DoxyCodeLine{05083\ \ \ \ \ \_\_testlib\_expectedButFound(result,\ std::string(expected),\ std::string(found),\ prepend.c\_str());}
\DoxyCodeLine{05084\ \}}
\DoxyCodeLine{05085\ }
\DoxyCodeLine{05086\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05087\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{05088\ \_\_attribute\_\_\ ((format\ (printf,\ 4,\ 5)))}
\DoxyCodeLine{05089\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{05090\ NORETURN\ \textcolor{keywordtype}{void}\ expectedButFound<float>(TResult\ result,\ \textcolor{keywordtype}{float}\ expected,\ \textcolor{keywordtype}{float}\ found,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *prependFormat,\ ...)\ \{}
\DoxyCodeLine{05091\ \ \ \ \ FMT\_TO\_RESULT(prependFormat,\ prependFormat,\ prepend);}
\DoxyCodeLine{05092\ \ \ \ \ \_\_testlib\_expectedButFound(result,\ \textcolor{keywordtype}{double}(expected),\ \textcolor{keywordtype}{double}(found),\ prepend.c\_str());}
\DoxyCodeLine{05093\ \}}
\DoxyCodeLine{05094\ }
\DoxyCodeLine{05095\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05096\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{05097\ \_\_attribute\_\_\ ((format\ (printf,\ 4,\ 5)))}
\DoxyCodeLine{05098\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{05099\ NORETURN\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{05100\ expectedButFound<long\ double>(TResult\ result,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ expected,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ found,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *prependFormat,\ ...)\ \{}
\DoxyCodeLine{05101\ \ \ \ \ FMT\_TO\_RESULT(prependFormat,\ prependFormat,\ prepend);}
\DoxyCodeLine{05102\ \ \ \ \ \_\_testlib\_expectedButFound(result,\ \textcolor{keywordtype}{double}(expected),\ \textcolor{keywordtype}{double}(found),\ prepend.c\_str());}
\DoxyCodeLine{05103\ \}}
\DoxyCodeLine{05104\ }
\DoxyCodeLine{05105\ \textcolor{preprocessor}{\#if\ \_\_cplusplus\ >\ 199711L\ ||\ defined(\_MSC\_VER)}}
\DoxyCodeLine{05106\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05107\ \textcolor{keyword}{struct\ }is\_iterable\ \{}
\DoxyCodeLine{05108\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{05109\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ test(\textcolor{keyword}{typename}\ U::iterator\ *x);}
\DoxyCodeLine{05110\ }
\DoxyCodeLine{05111\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{05112\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{long}\ test(U\ *x);}
\DoxyCodeLine{05113\ }
\DoxyCodeLine{05114\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ value\ =\ \textcolor{keyword}{sizeof}(test<\_Tp>(0))\ ==\ 1;}
\DoxyCodeLine{05115\ \};}
\DoxyCodeLine{05116\ }
\DoxyCodeLine{05117\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ B,\ \textcolor{keyword}{class}\ \_Tp\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{05118\ \textcolor{keyword}{struct\ }\_\_testlib\_enable\_if\ \{}
\DoxyCodeLine{05119\ \};}
\DoxyCodeLine{05120\ }
\DoxyCodeLine{05121\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ \_Tp>}
\DoxyCodeLine{05122\ \textcolor{keyword}{struct\ }\_\_testlib\_enable\_if<true,\ \_Tp>\ \{}
\DoxyCodeLine{05123\ \ \ \ \ \textcolor{keyword}{typedef}\ \_Tp\ type;}
\DoxyCodeLine{05124\ \};}
\DoxyCodeLine{05125\ }
\DoxyCodeLine{05126\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05127\ \textcolor{keyword}{typename}\ \_\_testlib\_enable\_if<!is\_iterable<\_Tp>::value,\ \textcolor{keywordtype}{void}>::type\ \_\_testlib\_print\_one(\textcolor{keyword}{const}\ \_Tp\ \&t)\ \{}
\DoxyCodeLine{05128\ \ \ \ \ std::cout\ <<\ t;}
\DoxyCodeLine{05129\ \}}
\DoxyCodeLine{05130\ }
\DoxyCodeLine{05131\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05132\ \textcolor{keyword}{typename}\ \_\_testlib\_enable\_if<is\_iterable<\_Tp>::value,\ \textcolor{keywordtype}{void}>::type\ \_\_testlib\_print\_one(\textcolor{keyword}{const}\ \_Tp\ \&t)\ \{}
\DoxyCodeLine{05133\ \ \ \ \ \textcolor{keywordtype}{bool}\ first\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{05134\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{typename}\ \_Tp::const\_iterator\ i\ =\ t.begin();\ i\ !=\ t.end();\ i++)\ \{}
\DoxyCodeLine{05135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (first)}
\DoxyCodeLine{05136\ \ \ \ \ \ \ \ \ \ \ \ \ first\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{05137\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{05138\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05139\ \ \ \ \ \ \ \ \ std::cout\ <<\ *i;}
\DoxyCodeLine{05140\ \ \ \ \ \}}
\DoxyCodeLine{05141\ \}}
\DoxyCodeLine{05142\ }
\DoxyCodeLine{05143\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05144\ \textcolor{keyword}{typename}\ \_\_testlib\_enable\_if<is\_iterable<std::string>::value,\ \textcolor{keywordtype}{void}>::type}
\DoxyCodeLine{05145\ \_\_testlib\_print\_one<std::string>(\textcolor{keyword}{const}\ std::string\ \&t)\ \{}
\DoxyCodeLine{05146\ \ \ \ \ std::cout\ <<\ t;}
\DoxyCodeLine{05147\ \}}
\DoxyCodeLine{05148\ }
\DoxyCodeLine{05149\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B>}
\DoxyCodeLine{05150\ \textcolor{keywordtype}{void}\ \_\_println\_range(A\ begin,\ B\ end)\ \{}
\DoxyCodeLine{05151\ \ \ \ \ \textcolor{keywordtype}{bool}\ first\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{05152\ \ \ \ \ \textcolor{keywordflow}{for}\ (B\ i\ =\ B(begin);\ i\ !=\ end;\ i++)\ \{}
\DoxyCodeLine{05153\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (first)}
\DoxyCodeLine{05154\ \ \ \ \ \ \ \ \ \ \ \ \ first\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{05155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{05156\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05157\ \ \ \ \ \ \ \ \ \_\_testlib\_print\_one(*i);}
\DoxyCodeLine{05158\ \ \ \ \ \}}
\DoxyCodeLine{05159\ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{05160\ \}}
\DoxyCodeLine{05161\ }
\DoxyCodeLine{05162\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ \_Tp,\ \textcolor{keyword}{class}\ Enable\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{05163\ \textcolor{keyword}{struct\ }is\_iterator\ \{}
\DoxyCodeLine{05164\ \ \ \ \ \textcolor{keyword}{static}\ \_Tp\ makeT();}
\DoxyCodeLine{05165\ }
\DoxyCodeLine{05166\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}\ *twoptrs[2];}
\DoxyCodeLine{05167\ }
\DoxyCodeLine{05168\ \ \ \ \ \textcolor{keyword}{static}\ twoptrs\ \&test(...);}
\DoxyCodeLine{05169\ }
\DoxyCodeLine{05170\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ R>}
\DoxyCodeLine{05171\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{typename}\ R::iterator\_category\ *test(R);}
\DoxyCodeLine{05172\ }
\DoxyCodeLine{05173\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ R>}
\DoxyCodeLine{05174\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ *test(R\ *);}
\DoxyCodeLine{05175\ }
\DoxyCodeLine{05176\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ value\ =\ \textcolor{keyword}{sizeof}(test(makeT()))\ ==\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}\ *);}
\DoxyCodeLine{05177\ \};}
\DoxyCodeLine{05178\ }
\DoxyCodeLine{05179\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ \_Tp>}
\DoxyCodeLine{05180\ \textcolor{keyword}{struct\ }is\_iterator<\_Tp,\ typename\ \_\_testlib\_enable\_if<std::is\_array<\_Tp>::value>::type>\ \{}
\DoxyCodeLine{05181\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ value\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{05182\ \};}
\DoxyCodeLine{05183\ }
\DoxyCodeLine{05184\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B>}
\DoxyCodeLine{05185\ \textcolor{keyword}{typename}\ \_\_testlib\_enable\_if<!is\_iterator<B>::value,\ \textcolor{keywordtype}{void}>::type\ println(\textcolor{keyword}{const}\ A\ \&a,\ \textcolor{keyword}{const}\ B\ \&b)\ \{}
\DoxyCodeLine{05186\ \ \ \ \ \_\_testlib\_print\_one(a);}
\DoxyCodeLine{05187\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05188\ \ \ \ \ \_\_testlib\_print\_one(b);}
\DoxyCodeLine{05189\ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{05190\ \}}
\DoxyCodeLine{05191\ }
\DoxyCodeLine{05192\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B>}
\DoxyCodeLine{05193\ \textcolor{keyword}{typename}\ \_\_testlib\_enable\_if<is\_iterator<B>::value,\ \textcolor{keywordtype}{void}>::type\ println(\textcolor{keyword}{const}\ A\ \&a,\ \textcolor{keyword}{const}\ B\ \&b)\ \{}
\DoxyCodeLine{05194\ \ \ \ \ \_\_println\_range(a,\ b);}
\DoxyCodeLine{05195\ \}}
\DoxyCodeLine{05196\ }
\DoxyCodeLine{05197\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ A>}
\DoxyCodeLine{05198\ \textcolor{keywordtype}{void}\ println(\textcolor{keyword}{const}\ A\ *a,\ \textcolor{keyword}{const}\ A\ *b)\ \{}
\DoxyCodeLine{05199\ \ \ \ \ \_\_println\_range(a,\ b);}
\DoxyCodeLine{05200\ \}}
\DoxyCodeLine{05201\ }
\DoxyCodeLine{05202\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05203\ \textcolor{keywordtype}{void}\ println<char>(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *a,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *b)\ \{}
\DoxyCodeLine{05204\ \ \ \ \ \_\_testlib\_print\_one(a);}
\DoxyCodeLine{05205\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05206\ \ \ \ \ \_\_testlib\_print\_one(b);}
\DoxyCodeLine{05207\ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{05208\ \}}
\DoxyCodeLine{05209\ }
\DoxyCodeLine{05210\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05211\ \textcolor{keywordtype}{void}\ println(\textcolor{keyword}{const}\ \_Tp\ \&x)\ \{}
\DoxyCodeLine{05212\ \ \ \ \ \_\_testlib\_print\_one(x);}
\DoxyCodeLine{05213\ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{05214\ \}}
\DoxyCodeLine{05215\ }
\DoxyCodeLine{05216\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{05217\ \textcolor{keywordtype}{void}\ println(\textcolor{keyword}{const}\ A\ \&a,\ \textcolor{keyword}{const}\ B\ \&b,\ \textcolor{keyword}{const}\ C\ \&c)\ \{}
\DoxyCodeLine{05218\ \ \ \ \ \_\_testlib\_print\_one(a);}
\DoxyCodeLine{05219\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05220\ \ \ \ \ \_\_testlib\_print\_one(b);}
\DoxyCodeLine{05221\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05222\ \ \ \ \ \_\_testlib\_print\_one(c);}
\DoxyCodeLine{05223\ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{05224\ \}}
\DoxyCodeLine{05225\ }
\DoxyCodeLine{05226\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B,\ \textcolor{keyword}{typename}\ C,\ \textcolor{keyword}{typename}\ D>}
\DoxyCodeLine{05227\ \textcolor{keywordtype}{void}\ println(\textcolor{keyword}{const}\ A\ \&a,\ \textcolor{keyword}{const}\ B\ \&b,\ \textcolor{keyword}{const}\ C\ \&c,\ \textcolor{keyword}{const}\ D\ \&d)\ \{}
\DoxyCodeLine{05228\ \ \ \ \ \_\_testlib\_print\_one(a);}
\DoxyCodeLine{05229\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05230\ \ \ \ \ \_\_testlib\_print\_one(b);}
\DoxyCodeLine{05231\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05232\ \ \ \ \ \_\_testlib\_print\_one(c);}
\DoxyCodeLine{05233\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05234\ \ \ \ \ \_\_testlib\_print\_one(d);}
\DoxyCodeLine{05235\ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{05236\ \}}
\DoxyCodeLine{05237\ }
\DoxyCodeLine{05238\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B,\ \textcolor{keyword}{typename}\ C,\ \textcolor{keyword}{typename}\ D,\ \textcolor{keyword}{typename}\ E>}
\DoxyCodeLine{05239\ \textcolor{keywordtype}{void}\ println(\textcolor{keyword}{const}\ A\ \&a,\ \textcolor{keyword}{const}\ B\ \&b,\ \textcolor{keyword}{const}\ C\ \&c,\ \textcolor{keyword}{const}\ D\ \&d,\ \textcolor{keyword}{const}\ E\ \&e)\ \{}
\DoxyCodeLine{05240\ \ \ \ \ \_\_testlib\_print\_one(a);}
\DoxyCodeLine{05241\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05242\ \ \ \ \ \_\_testlib\_print\_one(b);}
\DoxyCodeLine{05243\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05244\ \ \ \ \ \_\_testlib\_print\_one(c);}
\DoxyCodeLine{05245\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05246\ \ \ \ \ \_\_testlib\_print\_one(d);}
\DoxyCodeLine{05247\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05248\ \ \ \ \ \_\_testlib\_print\_one(e);}
\DoxyCodeLine{05249\ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{05250\ \}}
\DoxyCodeLine{05251\ }
\DoxyCodeLine{05252\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B,\ \textcolor{keyword}{typename}\ C,\ \textcolor{keyword}{typename}\ D,\ \textcolor{keyword}{typename}\ E,\ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{05253\ \textcolor{keywordtype}{void}\ println(\textcolor{keyword}{const}\ A\ \&a,\ \textcolor{keyword}{const}\ B\ \&b,\ \textcolor{keyword}{const}\ C\ \&c,\ \textcolor{keyword}{const}\ D\ \&d,\ \textcolor{keyword}{const}\ E\ \&e,\ \textcolor{keyword}{const}\ F\ \&f)\ \{}
\DoxyCodeLine{05254\ \ \ \ \ \_\_testlib\_print\_one(a);}
\DoxyCodeLine{05255\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05256\ \ \ \ \ \_\_testlib\_print\_one(b);}
\DoxyCodeLine{05257\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05258\ \ \ \ \ \_\_testlib\_print\_one(c);}
\DoxyCodeLine{05259\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05260\ \ \ \ \ \_\_testlib\_print\_one(d);}
\DoxyCodeLine{05261\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05262\ \ \ \ \ \_\_testlib\_print\_one(e);}
\DoxyCodeLine{05263\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05264\ \ \ \ \ \_\_testlib\_print\_one(f);}
\DoxyCodeLine{05265\ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{05266\ \}}
\DoxyCodeLine{05267\ }
\DoxyCodeLine{05268\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B,\ \textcolor{keyword}{typename}\ C,\ \textcolor{keyword}{typename}\ D,\ \textcolor{keyword}{typename}\ E,\ \textcolor{keyword}{typename}\ F,\ \textcolor{keyword}{typename}\ G>}
\DoxyCodeLine{05269\ \textcolor{keywordtype}{void}\ println(\textcolor{keyword}{const}\ A\ \&a,\ \textcolor{keyword}{const}\ B\ \&b,\ \textcolor{keyword}{const}\ C\ \&c,\ \textcolor{keyword}{const}\ D\ \&d,\ \textcolor{keyword}{const}\ E\ \&e,\ \textcolor{keyword}{const}\ F\ \&f,\ \textcolor{keyword}{const}\ G\ \&g)\ \{}
\DoxyCodeLine{05270\ \ \ \ \ \_\_testlib\_print\_one(a);}
\DoxyCodeLine{05271\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05272\ \ \ \ \ \_\_testlib\_print\_one(b);}
\DoxyCodeLine{05273\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05274\ \ \ \ \ \_\_testlib\_print\_one(c);}
\DoxyCodeLine{05275\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05276\ \ \ \ \ \_\_testlib\_print\_one(d);}
\DoxyCodeLine{05277\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05278\ \ \ \ \ \_\_testlib\_print\_one(e);}
\DoxyCodeLine{05279\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05280\ \ \ \ \ \_\_testlib\_print\_one(f);}
\DoxyCodeLine{05281\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{05282\ \ \ \ \ \_\_testlib\_print\_one(g);}
\DoxyCodeLine{05283\ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{05284\ \}}
\DoxyCodeLine{05285\ }
\DoxyCodeLine{05286\ \textcolor{comment}{/*\ opts\ */}}
\DoxyCodeLine{05287\ }
\DoxyCodeLine{05292\ \textcolor{keyword}{struct\ }TestlibOpt\ \{}
\DoxyCodeLine{05293\ \ \ \ \ std::string\ value;}
\DoxyCodeLine{05294\ \ \ \ \ \textcolor{keywordtype}{bool}\ used;}
\DoxyCodeLine{05295\ }
\DoxyCodeLine{05296\ \ \ \ \ TestlibOpt()\ :\ value(),\ used(false)\ \{\}}
\DoxyCodeLine{05297\ \};}
\DoxyCodeLine{05298\ }
\DoxyCodeLine{05312\ \textcolor{keywordtype}{size\_t}\ getOptType(\textcolor{keywordtype}{char}\ *s)\ \{}
\DoxyCodeLine{05313\ \ \ \ \ \textcolor{keywordflow}{if}\ (!s\ ||\ strlen(s)\ <=\ 1)}
\DoxyCodeLine{05314\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{05315\ }
\DoxyCodeLine{05316\ \ \ \ \ \textcolor{keywordflow}{if}\ (s[0]\ ==\ \textcolor{charliteral}{'-\/'})\ \{}
\DoxyCodeLine{05317\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isalpha(s[1]))}
\DoxyCodeLine{05318\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{05319\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s[1]\ ==\ \textcolor{charliteral}{'-\/'})}
\DoxyCodeLine{05320\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isalpha(s[2])\ ?\ 2\ :\ 0;}
\DoxyCodeLine{05321\ \ \ \ \ \}}
\DoxyCodeLine{05322\ }
\DoxyCodeLine{05323\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{05324\ \}}
\DoxyCodeLine{05325\ }
\DoxyCodeLine{05355\ \textcolor{keywordtype}{size\_t}\ parseOpt(\textcolor{keywordtype}{size\_t}\ argc,\ \textcolor{keywordtype}{char}\ *argv[],\ \textcolor{keywordtype}{size\_t}\ index,\ std::map<std::string,\ TestlibOpt>\ \&opts)\ \{}
\DoxyCodeLine{05356\ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ >=\ argc)}
\DoxyCodeLine{05357\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{05358\ }
\DoxyCodeLine{05359\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ type\ =\ getOptType(argv[index]),\ inc\ =\ 1;}
\DoxyCodeLine{05360\ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ >\ 0)\ \{}
\DoxyCodeLine{05361\ \ \ \ \ \ \ \ \ std::string\ key(argv[index]\ +\ type),\ val;}
\DoxyCodeLine{05362\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ sep\ =\ key.find(\textcolor{charliteral}{'='});}
\DoxyCodeLine{05363\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sep\ !=\ std::string::npos)\ \{}
\DoxyCodeLine{05364\ \ \ \ \ \ \ \ \ \ \ \ \ val\ =\ key.substr(sep\ +\ 1);}
\DoxyCodeLine{05365\ \ \ \ \ \ \ \ \ \ \ \ \ key\ =\ key.substr(0,\ sep);}
\DoxyCodeLine{05366\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{05367\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ +\ 1\ <\ argc\ \&\&\ getOptType(argv[index\ +\ 1])\ ==\ 0)\ \{}
\DoxyCodeLine{05368\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ val\ =\ argv[index\ +\ 1];}
\DoxyCodeLine{05369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inc\ =\ 2;}
\DoxyCodeLine{05370\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{05371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (key.length()\ >\ 1\ \&\&\ isdigit(key[1]))\ \{}
\DoxyCodeLine{05372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ val\ =\ key.substr(1);}
\DoxyCodeLine{05373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ key\ =\ key.substr(0,\ 1);}
\DoxyCodeLine{05374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{05375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ val\ =\ \textcolor{stringliteral}{"{}true"{}};}
\DoxyCodeLine{05376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05377\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05378\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05379\ \ \ \ \ \ \ \ \ opts[key].value\ =\ val;}
\DoxyCodeLine{05380\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{05381\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ inc;}
\DoxyCodeLine{05382\ \ \ \ \ \}}
\DoxyCodeLine{05383\ }
\DoxyCodeLine{05384\ \ \ \ \ \textcolor{keywordflow}{return}\ inc;}
\DoxyCodeLine{05385\ \}}
\DoxyCodeLine{05386\ }
\DoxyCodeLine{05390\ std::vector<std::string>\ \_\_testlib\_argv;}
\DoxyCodeLine{05391\ }
\DoxyCodeLine{05395\ std::map<std::string,\ TestlibOpt>\ \_\_testlib\_opts;}
\DoxyCodeLine{05396\ }
\DoxyCodeLine{05404\ \textcolor{keywordtype}{bool}\ \_\_testlib\_ensureNoUnusedOptsFlag\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{05405\ }
\DoxyCodeLine{05410\ \textcolor{keywordtype}{bool}\ \_\_testlib\_ensureNoUnusedOptsSuppressed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{05411\ }
\DoxyCodeLine{05416\ \textcolor{keywordtype}{void}\ prepareOpts(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[])\ \{}
\DoxyCodeLine{05417\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ <=\ 0)}
\DoxyCodeLine{05418\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ argc>=0\ but\ found\ "{}}\ +\ toString(argc));}
\DoxyCodeLine{05419\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ n\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(argc);\ \textcolor{comment}{//\ NOLINT(hicpp-\/use-\/auto,modernize-\/use-\/auto)}}
\DoxyCodeLine{05420\ \ \ \ \ \_\_testlib\_opts\ =\ std::map<std::string,\ TestlibOpt>();}
\DoxyCodeLine{05421\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ index\ =\ 1;\ index\ <\ n;\ index\ +=\ parseOpt(n,\ argv,\ index,\ \_\_testlib\_opts));}
\DoxyCodeLine{05422\ \ \ \ \ \_\_testlib\_argv\ =\ std::vector<std::string>(n);}
\DoxyCodeLine{05423\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ index\ =\ 0;\ index\ <\ n;\ index++)}
\DoxyCodeLine{05424\ \ \ \ \ \ \ \ \ \_\_testlib\_argv[index]\ =\ argv[index];}
\DoxyCodeLine{05425\ \}}
\DoxyCodeLine{05426\ }
\DoxyCodeLine{05431\ std::string\ \_\_testlib\_indexToArgv(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{05432\ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ <\ 0\ ||\ index\ >=\ \textcolor{keywordtype}{int}(\_\_testlib\_argv.size()))}
\DoxyCodeLine{05433\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ index\ '"{}}\ +\ toString(index)\ +\ \textcolor{stringliteral}{"{}'\ is\ out\ of\ range\ [0,"{}}}
\DoxyCodeLine{05434\ \ \ \ \ \ \ \ \ \ \ \ \ +\ toString(\_\_testlib\_argv.size())\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{05435\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_argv[size\_t(index)];}
\DoxyCodeLine{05436\ \}}
\DoxyCodeLine{05437\ }
\DoxyCodeLine{05442\ std::string\ \_\_testlib\_keyToOpts(\textcolor{keyword}{const}\ std::string\ \&key)\ \{}
\DoxyCodeLine{05443\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ \_\_testlib\_opts.find(key);}
\DoxyCodeLine{05444\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ \_\_testlib\_opts.end())}
\DoxyCodeLine{05445\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ unknown\ key\ '"{}}\ +\ compress(key)\ +\ \textcolor{stringliteral}{"{}'"{}});}
\DoxyCodeLine{05446\ \ \ \ \ it-\/>second.used\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{05447\ \ \ \ \ \textcolor{keywordflow}{return}\ it-\/>second.value;}
\DoxyCodeLine{05448\ \}}
\DoxyCodeLine{05449\ }
\DoxyCodeLine{05450\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05451\ \_Tp\ optValueToIntegral(\textcolor{keyword}{const}\ std::string\ \&s,\ \textcolor{keywordtype}{bool}\ nonnegative);}
\DoxyCodeLine{05452\ }
\DoxyCodeLine{05453\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ optValueToLongDouble(\textcolor{keyword}{const}\ std::string\ \&s);}
\DoxyCodeLine{05454\ }
\DoxyCodeLine{05455\ std::string\ parseExponentialOptValue(\textcolor{keyword}{const}\ std::string\ \&s)\ \{}
\DoxyCodeLine{05456\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ pos\ =\ std::string::npos;}
\DoxyCodeLine{05457\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)}
\DoxyCodeLine{05458\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ ==\ \textcolor{charliteral}{'e'}\ ||\ s[i]\ ==\ \textcolor{charliteral}{'E'})\ \{}
\DoxyCodeLine{05459\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ !=\ std::string::npos)}
\DoxyCodeLine{05460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ typical\ exponential\ notation\ but\ '"{}}\ +\ compress(s)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05461\ \ \ \ \ \ \ \ \ \ \ \ \ pos\ =\ i;}
\DoxyCodeLine{05462\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05463\ \ \ \ \ \textcolor{keywordflow}{if}\ (pos\ ==\ std::string::npos)}
\DoxyCodeLine{05464\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{05465\ \ \ \ \ std::string\ e\ =\ s.substr(pos\ +\ 1);}
\DoxyCodeLine{05466\ \ \ \ \ \textcolor{keywordflow}{if}\ (!e.empty()\ \&\&\ e[0]\ ==\ \textcolor{charliteral}{'+'})}
\DoxyCodeLine{05467\ \ \ \ \ \ \ \ \ e\ =\ e.substr(1);}
\DoxyCodeLine{05468\ \ \ \ \ \textcolor{keywordflow}{if}\ (e.empty())}
\DoxyCodeLine{05469\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ typical\ exponential\ notation\ but\ '"{}}\ +\ compress(s)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05470\ \ \ \ \ \textcolor{keywordflow}{if}\ (e.length()\ >\ 20)}
\DoxyCodeLine{05471\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ typical\ exponential\ notation\ but\ '"{}}\ +\ compress(s)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05472\ \ \ \ \ \textcolor{keywordtype}{int}\ ne\ =\ optValueToIntegral<int>(e,\ \textcolor{keyword}{false});}
\DoxyCodeLine{05473\ \ \ \ \ std::string\ num\ =\ s.substr(0,\ pos);}
\DoxyCodeLine{05474\ \ \ \ \ \textcolor{keywordflow}{if}\ (num.length()\ >\ 20)}
\DoxyCodeLine{05475\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ typical\ exponential\ notation\ but\ '"{}}\ +\ compress(s)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05476\ \ \ \ \ \textcolor{keywordflow}{if}\ (!num.empty()\ \&\&\ num[0]\ ==\ \textcolor{charliteral}{'+'})}
\DoxyCodeLine{05477\ \ \ \ \ \ \ \ \ num\ =\ num.substr(1);}
\DoxyCodeLine{05478\ \ \ \ \ optValueToLongDouble(num);}
\DoxyCodeLine{05479\ \ \ \ \ \textcolor{keywordtype}{bool}\ minus\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{05480\ \ \ \ \ \textcolor{keywordflow}{if}\ (num[0]\ ==\ \textcolor{charliteral}{'-\/'})\ \{}
\DoxyCodeLine{05481\ \ \ \ \ \ \ \ \ minus\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{05482\ \ \ \ \ \ \ \ \ num\ =\ num.substr(1);}
\DoxyCodeLine{05483\ \ \ \ \ \}}
\DoxyCodeLine{05484\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ +ne;\ i++)\ \{}
\DoxyCodeLine{05485\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ sep\ =\ num.find(\textcolor{charliteral}{'.'});}
\DoxyCodeLine{05486\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sep\ ==\ std::string::npos)}
\DoxyCodeLine{05487\ \ \ \ \ \ \ \ \ \ \ \ \ num\ +=\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{05488\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{05489\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sep\ +\ 1\ ==\ num.length())}
\DoxyCodeLine{05490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num[sep]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{05491\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{05492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::swap(num[sep],\ num[sep\ +\ 1]);}
\DoxyCodeLine{05493\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05494\ \ \ \ \ \}}
\DoxyCodeLine{05495\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ -\/ne;\ i++)\ \{}
\DoxyCodeLine{05496\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ sep\ =\ num.find(\textcolor{charliteral}{'.'});}
\DoxyCodeLine{05497\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sep\ ==\ std::string::npos)}
\DoxyCodeLine{05498\ \ \ \ \ \ \ \ \ \ \ \ \ num.insert(num.begin()\ +\ \textcolor{keywordtype}{int}(num.length())\ -\/\ 1,\ \textcolor{charliteral}{'.'});}
\DoxyCodeLine{05499\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{05500\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sep\ ==\ 0)}
\DoxyCodeLine{05501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num.insert(num.begin()\ +\ 1,\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{05502\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{05503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::swap(num[sep\ -\/\ 1],\ num[sep]);}
\DoxyCodeLine{05504\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05505\ \ \ \ \ \}}
\DoxyCodeLine{05506\ \ \ \ \ \textcolor{keywordflow}{while}\ (!num.empty()\ \&\&\ num[0]\ ==\ \textcolor{charliteral}{'0'})}
\DoxyCodeLine{05507\ \ \ \ \ \ \ \ \ num\ =\ num.substr(1);}
\DoxyCodeLine{05508\ \ \ \ \ \textcolor{keywordflow}{while}\ (num.find(\textcolor{charliteral}{'.'})\ !=\ std::string::npos\ \&\&\ num.back()\ ==\ \textcolor{charliteral}{'0'})}
\DoxyCodeLine{05509\ \ \ \ \ \ \ \ \ num\ =\ num.substr(0,\ num.length()\ -\/\ 1);}
\DoxyCodeLine{05510\ \ \ \ \ \textcolor{keywordflow}{if}\ (!num.empty()\ \&\&\ num.back()\ ==\ \textcolor{charliteral}{'.'})}
\DoxyCodeLine{05511\ \ \ \ \ \ \ \ \ num\ =\ num.substr(0,\ num.length()\ -\/\ 1);}
\DoxyCodeLine{05512\ \ \ \ \ \textcolor{keywordflow}{if}\ ((!num.empty()\ \&\&\ num[0]\ ==\ \textcolor{charliteral}{'.'})\ ||\ num.empty())}
\DoxyCodeLine{05513\ \ \ \ \ \ \ \ \ num.insert(num.begin(),\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{05514\ \ \ \ \ \textcolor{keywordflow}{return}\ (minus\ ?\ \textcolor{stringliteral}{"{}-\/"{}}\ :\ \textcolor{stringliteral}{"{}"{}})\ +\ num;}
\DoxyCodeLine{05515\ \}}
\DoxyCodeLine{05516\ }
\DoxyCodeLine{05517\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05518\ \_Tp\ optValueToIntegral(\textcolor{keyword}{const}\ std::string\ \&s\_,\ \textcolor{keywordtype}{bool}\ nonnegative)\ \{}
\DoxyCodeLine{05519\ \ \ \ \ std::string\ s(parseExponentialOptValue(s\_));}
\DoxyCodeLine{05520\ \ \ \ \ \textcolor{keywordflow}{if}\ (s.empty())}
\DoxyCodeLine{05521\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ integer\ but\ '"{}}\ +\ compress(s\_)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05522\ \ \ \ \ \_Tp\ value\ =\ 0;}
\DoxyCodeLine{05523\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ about\ =\ 0.0;}
\DoxyCodeLine{05524\ \ \ \ \ \textcolor{keywordtype}{signed}\ \textcolor{keywordtype}{char}\ sign\ =\ +1;}
\DoxyCodeLine{05525\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ pos\ =\ 0;}
\DoxyCodeLine{05526\ \ \ \ \ \textcolor{keywordflow}{if}\ (s[pos]\ ==\ \textcolor{charliteral}{'-\/'})\ \{}
\DoxyCodeLine{05527\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nonnegative)}
\DoxyCodeLine{05528\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ non-\/negative\ integer\ but\ '"{}}\ +\ compress(s\_)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05529\ \ \ \ \ \ \ \ \ sign\ =\ -\/1;}
\DoxyCodeLine{05530\ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{05531\ \ \ \ \ \}}
\DoxyCodeLine{05532\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ pos;\ i\ <\ s.length();\ i++)\ \{}
\DoxyCodeLine{05533\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ <\ \textcolor{charliteral}{'0'}\ ||\ s[i]\ >\ \textcolor{charliteral}{'9'})}
\DoxyCodeLine{05534\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ integer\ but\ '"{}}\ +\ compress(s\_)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05535\ \ \ \ \ \ \ \ \ value\ =\ \_Tp(value\ *\ 10\ +\ s[i]\ -\/\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{05536\ \ \ \ \ \ \ \ \ about\ =\ about\ *\ 10\ +\ s[i]\ -\/\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{05537\ \ \ \ \ \}}
\DoxyCodeLine{05538\ \ \ \ \ value\ *=\ sign;}
\DoxyCodeLine{05539\ \ \ \ \ about\ *=\ sign;}
\DoxyCodeLine{05540\ \ \ \ \ \textcolor{keywordflow}{if}\ (fabsl(value\ -\/\ about)\ >\ 0.1)}
\DoxyCodeLine{05541\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ integer\ overflow:\ expected\ integer\ but\ '"{}}\ +\ compress(s\_)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05542\ \ \ \ \ \textcolor{keywordflow}{return}\ value;}
\DoxyCodeLine{05543\ \}}
\DoxyCodeLine{05544\ }
\DoxyCodeLine{05545\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ optValueToLongDouble(\textcolor{keyword}{const}\ std::string\ \&s\_)\ \{}
\DoxyCodeLine{05546\ \ \ \ \ std::string\ s(parseExponentialOptValue(s\_));}
\DoxyCodeLine{05547\ \ \ \ \ \textcolor{keywordflow}{if}\ (s.empty())}
\DoxyCodeLine{05548\ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ float\ number\ but\ '"{}}\ +\ compress(s\_)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05549\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ value\ =\ 0.0;}
\DoxyCodeLine{05550\ \ \ \ \ \textcolor{keywordtype}{signed}\ \textcolor{keywordtype}{char}\ sign\ =\ +1;}
\DoxyCodeLine{05551\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ pos\ =\ 0;}
\DoxyCodeLine{05552\ \ \ \ \ \textcolor{keywordflow}{if}\ (s[pos]\ ==\ \textcolor{charliteral}{'-\/'})\ \{}
\DoxyCodeLine{05553\ \ \ \ \ \ \ \ \ sign\ =\ -\/1;}
\DoxyCodeLine{05554\ \ \ \ \ \ \ \ \ pos++;}
\DoxyCodeLine{05555\ \ \ \ \ \}}
\DoxyCodeLine{05556\ \ \ \ \ \textcolor{keywordtype}{bool}\ period\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{05557\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ mul\ =\ 1.0;}
\DoxyCodeLine{05558\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ pos;\ i\ <\ s.length();\ i++)\ \{}
\DoxyCodeLine{05559\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ ==\ \textcolor{charliteral}{'.'})\ \{}
\DoxyCodeLine{05560\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (period)}
\DoxyCodeLine{05561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ float\ number\ but\ '"{}}\ +\ compress(s\_)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05562\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{05563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ period\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{05564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{05565\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05566\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05567\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (period)}
\DoxyCodeLine{05568\ \ \ \ \ \ \ \ \ \ \ \ \ mul\ *=\ 10.0;}
\DoxyCodeLine{05569\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ <\ \textcolor{charliteral}{'0'}\ ||\ s[i]\ >\ \textcolor{charliteral}{'9'})}
\DoxyCodeLine{05570\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ expected\ float\ number\ but\ '"{}}\ +\ compress(s\_)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05571\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (period)}
\DoxyCodeLine{05572\ \ \ \ \ \ \ \ \ \ \ \ \ value\ +=\ (s[i]\ -\/\ \textcolor{charliteral}{'0'})\ /\ mul;}
\DoxyCodeLine{05573\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{05574\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ value\ *\ 10\ +\ s[i]\ -\/\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{05575\ \ \ \ \ \}}
\DoxyCodeLine{05576\ \ \ \ \ value\ *=\ sign;}
\DoxyCodeLine{05577\ \ \ \ \ \textcolor{keywordflow}{return}\ value;}
\DoxyCodeLine{05578\ \}}
\DoxyCodeLine{05579\ }
\DoxyCodeLine{05587\ \textcolor{keywordtype}{bool}\ has\_opt(\textcolor{keyword}{const}\ std::string\ \&key)\ \{}
\DoxyCodeLine{05588\ \ \ \ \ \_\_testlib\_ensureNoUnusedOptsFlag\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{05589\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_opts.count(key)\ !=\ 0;}
\DoxyCodeLine{05590\ \}}
\DoxyCodeLine{05591\ }
\DoxyCodeLine{05592\ \textcolor{comment}{/*\ About\ the\ following\ part\ for\ opt\ with\ 2\ and\ 3\ arguments.}}
\DoxyCodeLine{05593\ \textcolor{comment}{\ *\ }}
\DoxyCodeLine{05594\ \textcolor{comment}{\ *\ To\ parse\ the\ argv/opts\ correctly\ for\ a\ give\ type\ (integer,\ floating\ point\ or}}
\DoxyCodeLine{05595\ \textcolor{comment}{\ *\ string),\ some\ meta\ programming\ must\ be\ done\ to\ determine\ the\ type\ of}}
\DoxyCodeLine{05596\ \textcolor{comment}{\ *\ the\ type,\ and\ use\ the\ correct\ parsing\ function\ accordingly.}}
\DoxyCodeLine{05597\ \textcolor{comment}{\ *\ }}
\DoxyCodeLine{05598\ \textcolor{comment}{\ *\ The\ pseudo\ algorithm\ for\ determining\ the\ type\ of\ T\ and\ parse\ it\ accordingly}}
\DoxyCodeLine{05599\ \textcolor{comment}{\ *\ is\ as\ follows:}}
\DoxyCodeLine{05600\ \textcolor{comment}{\ *\ }}
\DoxyCodeLine{05601\ \textcolor{comment}{\ *\ if\ (T\ is\ integral\ type)\ \{}}
\DoxyCodeLine{05602\ \textcolor{comment}{\ *\ \ \ if\ (T\ is\ unsigned)\ \{}}
\DoxyCodeLine{05603\ \textcolor{comment}{\ *\ \ \ \ \ parse\ the\ argv/opt\ as\ an\ **unsigned\ integer**\ of\ type\ T.}}
\DoxyCodeLine{05604\ \textcolor{comment}{\ *\ \ \ \}\ else\ \{}}
\DoxyCodeLine{05605\ \textcolor{comment}{\ *\ \ \ \ \ parse\ the\ argv/opt\ as\ an\ **signed\ integer**\ of\ type\ T.}}
\DoxyCodeLine{05606\ \textcolor{comment}{\ *\ \}\ else\ \{}}
\DoxyCodeLine{05607\ \textcolor{comment}{\ *\ \ \ if\ (T\ is\ floating\ point\ type)\ \{}}
\DoxyCodeLine{05608\ \textcolor{comment}{\ *\ \ \ \ \ parse\ the\ argv/opt\ as\ an\ **floating\ point**\ of\ type\ T.}}
\DoxyCodeLine{05609\ \textcolor{comment}{\ *\ \ \ \}\ else\ \{}}
\DoxyCodeLine{05610\ \textcolor{comment}{\ *\ \ \ \ \ //\ T\ should\ be\ std::string}}
\DoxyCodeLine{05611\ \textcolor{comment}{\ *\ \ \ \ \ just\ the\ raw\ content\ of\ the\ argv/opts.}}
\DoxyCodeLine{05612\ \textcolor{comment}{\ *\ \ \ \}}}
\DoxyCodeLine{05613\ \textcolor{comment}{\ *\ \}}}
\DoxyCodeLine{05614\ \textcolor{comment}{\ *\ }}
\DoxyCodeLine{05615\ \textcolor{comment}{\ *\ To\ help\ with\ meta\ programming,\ some\ \`{}opt`\ function\ with\ 2\ or\ 3\ arguments\ are}}
\DoxyCodeLine{05616\ \textcolor{comment}{\ *\ defined.}}
\DoxyCodeLine{05617\ \textcolor{comment}{\ *\ }}
\DoxyCodeLine{05618\ \textcolor{comment}{\ *\ Opt\ with\ 3\ arguments:\ \ \ \ T\ opt(true/false\ is\_integral,\ true/false\ is\_unsigned,\ index/key)}}
\DoxyCodeLine{05619\ \textcolor{comment}{\ *\ }}
\DoxyCodeLine{05620\ \textcolor{comment}{\ *\ \ \ +\ The\ first\ argument\ is\ for\ determining\ whether\ the\ type\ T\ is\ an\ integral}}
\DoxyCodeLine{05621\ \textcolor{comment}{\ *\ \ \ type.\ That\ is,\ the\ result\ of\ std::is\_integral<T>()\ should\ be\ passed\ to}}
\DoxyCodeLine{05622\ \textcolor{comment}{\ *\ \ \ this\ argument.\ When\ false,\ the\ type\ \_should\_\ be\ either\ floating\ point\ or\ a}}
\DoxyCodeLine{05623\ \textcolor{comment}{\ *\ \ \ std::string.}}
\DoxyCodeLine{05624\ \textcolor{comment}{\ *\ \ \ }}
\DoxyCodeLine{05625\ \textcolor{comment}{\ *\ \ \ +\ The\ second\ argument\ is\ for\ determining\ whether\ the\ signedness\ of\ the\ type}}
\DoxyCodeLine{05626\ \textcolor{comment}{\ *\ \ \ T\ (if\ it\ is\ unsigned\ or\ signed).\ That\ is,\ the\ result\ of}}
\DoxyCodeLine{05627\ \textcolor{comment}{\ *\ \ \ std::is\_unsigned<T>()\ should\ be\ passed\ to\ this\ argument.\ This\ argument\ can}}
\DoxyCodeLine{05628\ \textcolor{comment}{\ *\ \ \ be\ ignored\ if\ the\ first\ one\ is\ false,\ because\ it\ only\ applies\ to\ integer.}}
\DoxyCodeLine{05629\ \textcolor{comment}{\ *}}
\DoxyCodeLine{05630\ \textcolor{comment}{\ *\ Opt\ with\ 2\ arguments:\ \ \ \ T\ opt(true/false\ is\_floating\_point,\ index/key)}}
\DoxyCodeLine{05631\ \textcolor{comment}{\ *\ \ \ +\ The\ first\ argument\ is\ for\ determining\ whether\ the\ type\ T\ is\ a\ floating}}
\DoxyCodeLine{05632\ \textcolor{comment}{\ *\ \ \ point\ type.\ That\ is,\ the\ result\ of\ std::is\_floating\_point<T>()\ should\ be}}
\DoxyCodeLine{05633\ \textcolor{comment}{\ *\ \ \ passed\ to\ this\ argument.\ When\ false,\ the\ type\ \_should\_\ be\ a\ std::string.}}
\DoxyCodeLine{05634\ \textcolor{comment}{\ */}}
\DoxyCodeLine{05635\ }
\DoxyCodeLine{05636\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05637\ \_Tp\ opt(std::false\_type\ is\_floating\_point,\ \textcolor{keywordtype}{int}\ index);}
\DoxyCodeLine{05638\ }
\DoxyCodeLine{05639\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05640\ std::string\ opt(std::false\_type\ \textcolor{comment}{/*is\_floating\_point*/},\ \textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{05641\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_indexToArgv(index);}
\DoxyCodeLine{05642\ \}}
\DoxyCodeLine{05643\ }
\DoxyCodeLine{05644\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05645\ \_Tp\ opt(std::true\_type\ \textcolor{comment}{/*is\_floating\_point*/},\ \textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{05646\ \ \ \ \ \textcolor{keywordflow}{return}\ \_Tp(optValueToLongDouble(\_\_testlib\_indexToArgv(index)));}
\DoxyCodeLine{05647\ \}}
\DoxyCodeLine{05648\ }
\DoxyCodeLine{05649\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{05650\ \_Tp\ opt(std::false\_type\ \textcolor{comment}{/*is\_integral*/},\ U\ \textcolor{comment}{/*is\_unsigned*/},\ \textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{05651\ \ \ \ \ \textcolor{keywordflow}{return}\ opt<\_Tp>(std::is\_floating\_point<\_Tp>(),\ index);}
\DoxyCodeLine{05652\ \}}
\DoxyCodeLine{05653\ }
\DoxyCodeLine{05654\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05655\ \_Tp\ opt(std::true\_type\ \textcolor{comment}{/*is\_integral*/},\ std::false\_type\ \textcolor{comment}{/*is\_unsigned*/},\ \textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{05656\ \ \ \ \ \textcolor{keywordflow}{return}\ optValueToIntegral<\_Tp>(\_\_testlib\_indexToArgv(index),\ \textcolor{keyword}{false});}
\DoxyCodeLine{05657\ \}}
\DoxyCodeLine{05658\ }
\DoxyCodeLine{05659\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05660\ \_Tp\ opt(std::true\_type\ \textcolor{comment}{/*is\_integral*/},\ std::true\_type\ \textcolor{comment}{/*is\_unsigned*/},\ \textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{05661\ \ \ \ \ \textcolor{keywordflow}{return}\ optValueToIntegral<\_Tp>(\_\_testlib\_indexToArgv(index),\ \textcolor{keyword}{true});}
\DoxyCodeLine{05662\ \}}
\DoxyCodeLine{05663\ }
\DoxyCodeLine{05664\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05665\ \textcolor{keywordtype}{bool}\ opt(std::true\_type\ \textcolor{comment}{/*is\_integral*/},\ std::true\_type\ \textcolor{comment}{/*is\_unsigned*/},\ \textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{05666\ \ \ \ \ std::string\ value\ =\ \_\_testlib\_indexToArgv(index);}
\DoxyCodeLine{05667\ \ \ \ \ \textcolor{keywordflow}{if}\ (value\ ==\ \textcolor{stringliteral}{"{}true"{}}\ ||\ value\ ==\ \textcolor{stringliteral}{"{}1"{}})}
\DoxyCodeLine{05668\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{05669\ \ \ \ \ \textcolor{keywordflow}{if}\ (value\ ==\ \textcolor{stringliteral}{"{}false"{}}\ ||\ value\ ==\ \textcolor{stringliteral}{"{}0"{}})}
\DoxyCodeLine{05670\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{05671\ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ opt\ by\ index\ '"{}}\ +\ toString(index)\ +\ \textcolor{stringliteral}{"{}':\ expected\ bool\ true/false\ or\ 0/1\ but\ '"{}}}
\DoxyCodeLine{05672\ \ \ \ \ \ \ \ \ \ \ \ \ +\ compress(value)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05673\ \}}
\DoxyCodeLine{05674\ }
\DoxyCodeLine{05678\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05679\ \_Tp\ opt(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{05680\ \ \ \ \ \textcolor{keywordflow}{return}\ opt<\_Tp>(std::is\_integral<\_Tp>(),\ std::is\_unsigned<\_Tp>(),\ index);}
\DoxyCodeLine{05681\ \}}
\DoxyCodeLine{05682\ }
\DoxyCodeLine{05686\ std::string\ opt(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{05687\ \ \ \ \ \textcolor{keywordflow}{return}\ opt<std::string>(index);}
\DoxyCodeLine{05688\ \}}
\DoxyCodeLine{05689\ }
\DoxyCodeLine{05694\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05695\ \_Tp\ opt(\textcolor{keywordtype}{int}\ index,\ \textcolor{keyword}{const}\ \_Tp\ \&default\_value)\ \{}
\DoxyCodeLine{05696\ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ >=\ \textcolor{keywordtype}{int}(\_\_testlib\_argv.size()))\ \{}
\DoxyCodeLine{05697\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ default\_value;}
\DoxyCodeLine{05698\ \ \ \ \ \}}
\DoxyCodeLine{05699\ \ \ \ \ \textcolor{keywordflow}{return}\ opt<\_Tp>(index);}
\DoxyCodeLine{05700\ \}}
\DoxyCodeLine{05701\ }
\DoxyCodeLine{05706\ std::string\ opt(\textcolor{keywordtype}{int}\ index,\ \textcolor{keyword}{const}\ std::string\ \&default\_value)\ \{}
\DoxyCodeLine{05707\ \ \ \ \ \textcolor{keywordflow}{return}\ opt<std::string>(index,\ default\_value);}
\DoxyCodeLine{05708\ \}}
\DoxyCodeLine{05709\ }
\DoxyCodeLine{05710\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05711\ \_Tp\ opt(std::false\_type\ is\_floating\_point,\ \textcolor{keyword}{const}\ std::string\ \&key);}
\DoxyCodeLine{05712\ }
\DoxyCodeLine{05713\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05714\ std::string\ opt(std::false\_type\ \textcolor{comment}{/*is\_floating\_point*/},\ \textcolor{keyword}{const}\ std::string\ \&key)\ \{}
\DoxyCodeLine{05715\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_testlib\_keyToOpts(key);}
\DoxyCodeLine{05716\ \}}
\DoxyCodeLine{05717\ }
\DoxyCodeLine{05718\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05719\ \_Tp\ opt(std::true\_type\ \textcolor{comment}{/*is\_integral*/},\ \textcolor{keyword}{const}\ std::string\ \&key)\ \{}
\DoxyCodeLine{05720\ \ \ \ \ \textcolor{keywordflow}{return}\ \_Tp(optValueToLongDouble(\_\_testlib\_keyToOpts(key)));}
\DoxyCodeLine{05721\ \}}
\DoxyCodeLine{05722\ }
\DoxyCodeLine{05723\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{05724\ \_Tp\ opt(std::false\_type\ \textcolor{comment}{/*is\_integral*/},\ U,\ \textcolor{keyword}{const}\ std::string\ \&key)\ \{}
\DoxyCodeLine{05725\ \ \ \ \ \textcolor{keywordflow}{return}\ opt<\_Tp>(std::is\_floating\_point<\_Tp>(),\ key);}
\DoxyCodeLine{05726\ \}}
\DoxyCodeLine{05727\ }
\DoxyCodeLine{05728\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05729\ \_Tp\ opt(std::true\_type\ \textcolor{comment}{/*is\_integral*/},\ std::false\_type\ \textcolor{comment}{/*is\_unsigned*/},\ \textcolor{keyword}{const}\ std::string\ \&key)\ \{}
\DoxyCodeLine{05730\ \ \ \ \ \textcolor{keywordflow}{return}\ optValueToIntegral<\_Tp>(\_\_testlib\_keyToOpts(key),\ \textcolor{keyword}{false});}
\DoxyCodeLine{05731\ \}}
\DoxyCodeLine{05732\ }
\DoxyCodeLine{05733\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05734\ \_Tp\ opt(std::true\_type\ \textcolor{comment}{/*is\_integral*/},\ std::true\_type\ \textcolor{comment}{/*is\_unsigned*/},\ \textcolor{keyword}{const}\ std::string\ \&key)\ \{}
\DoxyCodeLine{05735\ \ \ \ \ \textcolor{keywordflow}{return}\ optValueToIntegral<\_Tp>(\_\_testlib\_keyToOpts(key),\ \textcolor{keyword}{true});}
\DoxyCodeLine{05736\ \}}
\DoxyCodeLine{05737\ }
\DoxyCodeLine{05738\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{05739\ \textcolor{keywordtype}{bool}\ opt(std::true\_type\ \textcolor{comment}{/*is\_integral*/},\ std::true\_type\ \textcolor{comment}{/*is\_unsigned*/},\ \textcolor{keyword}{const}\ std::string\ \&key)\ \{}
\DoxyCodeLine{05740\ \ \ \ \ \textcolor{keywordflow}{if}\ (!has\_opt(key))}
\DoxyCodeLine{05741\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{05742\ \ \ \ \ std::string\ value\ =\ \_\_testlib\_keyToOpts(key);}
\DoxyCodeLine{05743\ \ \ \ \ \textcolor{keywordflow}{if}\ (value\ ==\ \textcolor{stringliteral}{"{}true"{}}\ ||\ value\ ==\ \textcolor{stringliteral}{"{}1"{}})}
\DoxyCodeLine{05744\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{05745\ \ \ \ \ \textcolor{keywordflow}{if}\ (value\ ==\ \textcolor{stringliteral}{"{}false"{}}\ ||\ value\ ==\ \textcolor{stringliteral}{"{}0"{}})}
\DoxyCodeLine{05746\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{05747\ \ \ \ \ \_\_testlib\_fail(\textcolor{stringliteral}{"{}Opts:\ key\ '"{}}\ +\ compress(key)\ +\ \textcolor{stringliteral}{"{}':\ expected\ bool\ true/false\ or\ 0/1\ but\ '"{}}}
\DoxyCodeLine{05748\ \ \ \ \ \ \ \ \ +\ compress(value)\ +\ \textcolor{stringliteral}{"{}'\ found"{}});}
\DoxyCodeLine{05749\ \}}
\DoxyCodeLine{05750\ }
\DoxyCodeLine{05754\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{05755\ \_Tp\ opt(\textcolor{keyword}{const}\ std::string\ \&key)\ \{}
\DoxyCodeLine{05756\ \ \ \ \ \textcolor{keywordflow}{return}\ opt<\_Tp>(std::is\_integral<\_Tp>(),\ std::is\_unsigned<\_Tp>(),\ key);}
\DoxyCodeLine{05757\ \}}
\DoxyCodeLine{05758\ }
\DoxyCodeLine{05762\ std::string\ opt(\textcolor{keyword}{const}\ std::string\ \&key)\ \{}
\DoxyCodeLine{05763\ \ \ \ \ \textcolor{keywordflow}{return}\ opt<std::string>(key);}
\DoxyCodeLine{05764\ \}}
\DoxyCodeLine{05765\ }
\DoxyCodeLine{05766\ \textcolor{comment}{/*\ Scorer\ started.\ */}}
\DoxyCodeLine{05767\ }
\DoxyCodeLine{05768\ \textcolor{keyword}{enum}\ TestResultVerdict\ \{}
\DoxyCodeLine{05769\ \ \ \ \ SKIPPED,}
\DoxyCodeLine{05770\ \ \ \ \ OK,}
\DoxyCodeLine{05771\ \ \ \ \ WRONG\_ANSWER,}
\DoxyCodeLine{05772\ \ \ \ \ RUNTIME\_ERROR,}
\DoxyCodeLine{05773\ \ \ \ \ TIME\_LIMIT\_EXCEEDED,}
\DoxyCodeLine{05774\ \ \ \ \ IDLENESS\_LIMIT\_EXCEEDED,}
\DoxyCodeLine{05775\ \ \ \ \ MEMORY\_LIMIT\_EXCEEDED,}
\DoxyCodeLine{05776\ \ \ \ \ COMPILATION\_ERROR,}
\DoxyCodeLine{05777\ \ \ \ \ CRASHED,}
\DoxyCodeLine{05778\ \ \ \ \ FAILED}
\DoxyCodeLine{05779\ \};}
\DoxyCodeLine{05780\ }
\DoxyCodeLine{05781\ std::string\ serializeVerdict(TestResultVerdict\ verdict)\ \{}
\DoxyCodeLine{05782\ \ \ \ \ \textcolor{keywordflow}{switch}\ (verdict)\ \{}
\DoxyCodeLine{05783\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ SKIPPED:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}SKIPPED"{}};}
\DoxyCodeLine{05784\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ OK:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}OK"{}};}
\DoxyCodeLine{05785\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ WRONG\_ANSWER:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}WRONG\_ANSWER"{}};}
\DoxyCodeLine{05786\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ RUNTIME\_ERROR:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}RUNTIME\_ERROR"{}};}
\DoxyCodeLine{05787\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ TIME\_LIMIT\_EXCEEDED:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}TIME\_LIMIT\_EXCEEDED"{}};}
\DoxyCodeLine{05788\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ IDLENESS\_LIMIT\_EXCEEDED:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}IDLENESS\_LIMIT\_EXCEEDED"{}};}
\DoxyCodeLine{05789\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ MEMORY\_LIMIT\_EXCEEDED:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}MEMORY\_LIMIT\_EXCEEDED"{}};}
\DoxyCodeLine{05790\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ COMPILATION\_ERROR:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}COMPILATION\_ERROR"{}};}
\DoxyCodeLine{05791\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ CRASHED:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}CRASHED"{}};}
\DoxyCodeLine{05792\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ FAILED:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}FAILED"{}};}
\DoxyCodeLine{05793\ \ \ \ \ \}}
\DoxyCodeLine{05794\ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{stringliteral}{"{}Unexpected\ verdict"{}};}
\DoxyCodeLine{05795\ \}}
\DoxyCodeLine{05796\ }
\DoxyCodeLine{05797\ TestResultVerdict\ deserializeTestResultVerdict(std::string\ s)\ \{}
\DoxyCodeLine{05798\ \ \ \ \ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{stringliteral}{"{}SKIPPED"{}})}
\DoxyCodeLine{05799\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SKIPPED;}
\DoxyCodeLine{05800\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{stringliteral}{"{}OK"{}})}
\DoxyCodeLine{05801\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ OK;}
\DoxyCodeLine{05802\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{stringliteral}{"{}WRONG\_ANSWER"{}})}
\DoxyCodeLine{05803\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ WRONG\_ANSWER;}
\DoxyCodeLine{05804\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{stringliteral}{"{}RUNTIME\_ERROR"{}})}
\DoxyCodeLine{05805\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ RUNTIME\_ERROR;}
\DoxyCodeLine{05806\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{stringliteral}{"{}TIME\_LIMIT\_EXCEEDED"{}})}
\DoxyCodeLine{05807\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ TIME\_LIMIT\_EXCEEDED;}
\DoxyCodeLine{05808\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{stringliteral}{"{}IDLENESS\_LIMIT\_EXCEEDED"{}})}
\DoxyCodeLine{05809\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ IDLENESS\_LIMIT\_EXCEEDED;}
\DoxyCodeLine{05810\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{stringliteral}{"{}MEMORY\_LIMIT\_EXCEEDED"{}})}
\DoxyCodeLine{05811\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ MEMORY\_LIMIT\_EXCEEDED;}
\DoxyCodeLine{05812\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{stringliteral}{"{}COMPILATION\_ERROR"{}})}
\DoxyCodeLine{05813\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ COMPILATION\_ERROR;}
\DoxyCodeLine{05814\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{stringliteral}{"{}CRASHED"{}})}
\DoxyCodeLine{05815\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CRASHED;}
\DoxyCodeLine{05816\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s\ ==\ \textcolor{stringliteral}{"{}FAILED"{}})}
\DoxyCodeLine{05817\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ FAILED;}
\DoxyCodeLine{05818\ \ \ \ \ ensuref(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}Unexpected\ serialized\ TestResultVerdict"{}});}
\DoxyCodeLine{05819\ \ \ \ \ \textcolor{comment}{//\ No\ return\ actually.}}
\DoxyCodeLine{05820\ \ \ \ \ \textcolor{keywordflow}{return}\ FAILED;}
\DoxyCodeLine{05821\ \}}
\DoxyCodeLine{05822\ }
\DoxyCodeLine{05823\ \textcolor{keyword}{struct\ }TestResult\ \{}
\DoxyCodeLine{05824\ \ \ \ \ \textcolor{keywordtype}{int}\ testIndex;}
\DoxyCodeLine{05825\ \ \ \ \ std::string\ testset;}
\DoxyCodeLine{05826\ \ \ \ \ std::string\ group;}
\DoxyCodeLine{05827\ \ \ \ \ TestResultVerdict\ verdict;}
\DoxyCodeLine{05828\ \ \ \ \ \textcolor{keywordtype}{double}\ points;}
\DoxyCodeLine{05829\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ timeConsumed;}
\DoxyCodeLine{05830\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ memoryConsumed;}
\DoxyCodeLine{05831\ \ \ \ \ std::string\ input;}
\DoxyCodeLine{05832\ \ \ \ \ std::string\ output;}
\DoxyCodeLine{05833\ \ \ \ \ std::string\ answer;}
\DoxyCodeLine{05834\ \ \ \ \ \textcolor{keywordtype}{int}\ exitCode;}
\DoxyCodeLine{05835\ \ \ \ \ std::string\ checkerComment;}
\DoxyCodeLine{05836\ \};}
\DoxyCodeLine{05837\ }
\DoxyCodeLine{05838\ std::string\ serializePoints(\textcolor{keywordtype}{double}\ points)\ \{}
\DoxyCodeLine{05839\ \ \ \ \ \textcolor{keywordflow}{if}\ (std::isnan(points))}
\DoxyCodeLine{05840\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{05841\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{05842\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ c[64];}
\DoxyCodeLine{05843\ \ \ \ \ \ \ \ \ snprintf(c,\ 64,\ \textcolor{stringliteral}{"{}\%.03lf"{}},\ points);}
\DoxyCodeLine{05844\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ c;}
\DoxyCodeLine{05845\ \ \ \ \ \}}
\DoxyCodeLine{05846\ \}}
\DoxyCodeLine{05847\ }
\DoxyCodeLine{05848\ \textcolor{keywordtype}{double}\ deserializePoints(std::string\ s)\ \{}
\DoxyCodeLine{05849\ \ \ \ \ \textcolor{keywordflow}{if}\ (s.empty())}
\DoxyCodeLine{05850\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<double>::quiet\_NaN();}
\DoxyCodeLine{05851\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{05852\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ result;}
\DoxyCodeLine{05853\ \ \ \ \ \ \ \ \ ensuref(sscanf(s.c\_str(),\ \textcolor{stringliteral}{"{}\%lf"{}},\ \&result)\ ==\ 1,\ \textcolor{stringliteral}{"{}Invalid\ serialized\ points"{}});}
\DoxyCodeLine{05854\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{05855\ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{05856\ \}}
\DoxyCodeLine{05857\ }
\DoxyCodeLine{05858\ std::string\ escapeTestResultString(std::string\ s)\ \{}
\DoxyCodeLine{05859\ \ \ \ \ std::string\ result;}
\DoxyCodeLine{05860\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)\ \{}
\DoxyCodeLine{05861\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ ==\ \textcolor{charliteral}{'\(\backslash\)r'})}
\DoxyCodeLine{05862\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{05863\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ ==\ \textcolor{charliteral}{'\(\backslash\)n'})\ \{}
\DoxyCodeLine{05864\ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)n"{}};}
\DoxyCodeLine{05865\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{05866\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05867\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ ==\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}\ ||\ s[i]\ ==\ \textcolor{charliteral}{';'})}
\DoxyCodeLine{05868\ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'};}
\DoxyCodeLine{05869\ \ \ \ \ \ \ \ \ result\ +=\ s[i];}
\DoxyCodeLine{05870\ \ \ \ \ \}}
\DoxyCodeLine{05871\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{05872\ \}}
\DoxyCodeLine{05873\ }
\DoxyCodeLine{05874\ std::string\ unescapeTestResultString(std::string\ s)\ \{}
\DoxyCodeLine{05875\ \ \ \ \ std::string\ result;}
\DoxyCodeLine{05876\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)\ \{}
\DoxyCodeLine{05877\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ ==\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}\ \&\&\ i\ +\ 1\ <\ s.length())\ \{}
\DoxyCodeLine{05878\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i\ +\ 1]\ ==\ \textcolor{charliteral}{'n'})\ \{}
\DoxyCodeLine{05879\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{05880\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i++;}
\DoxyCodeLine{05881\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{05882\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (s[i\ +\ 1]\ ==\ \textcolor{charliteral}{';'}\ ||\ s[i\ +\ 1]\ ==\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})\ \{}
\DoxyCodeLine{05883\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ s[i\ +\ 1];}
\DoxyCodeLine{05884\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i++;}
\DoxyCodeLine{05885\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{05886\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05887\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05888\ \ \ \ \ \ \ \ \ result\ +=\ s[i];}
\DoxyCodeLine{05889\ \ \ \ \ \}}
\DoxyCodeLine{05890\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{05891\ \}}
\DoxyCodeLine{05892\ }
\DoxyCodeLine{05893\ std::string\ serializeTestResult(TestResult\ tr)\ \{}
\DoxyCodeLine{05894\ \ \ \ \ std::string\ result;}
\DoxyCodeLine{05895\ \ \ \ \ result\ +=\ std::to\_string(tr.testIndex);}
\DoxyCodeLine{05896\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05897\ \ \ \ \ result\ +=\ escapeTestResultString(tr.testset);}
\DoxyCodeLine{05898\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05899\ \ \ \ \ result\ +=\ escapeTestResultString(tr.group);}
\DoxyCodeLine{05900\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05901\ \ \ \ \ result\ +=\ serializeVerdict(tr.verdict);}
\DoxyCodeLine{05902\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05903\ \ \ \ \ result\ +=\ serializePoints(tr.points);}
\DoxyCodeLine{05904\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05905\ \ \ \ \ result\ +=\ std::to\_string(tr.timeConsumed);}
\DoxyCodeLine{05906\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05907\ \ \ \ \ result\ +=\ std::to\_string(tr.memoryConsumed);}
\DoxyCodeLine{05908\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05909\ \ \ \ \ result\ +=\ escapeTestResultString(tr.input);}
\DoxyCodeLine{05910\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05911\ \ \ \ \ result\ +=\ escapeTestResultString(tr.output);}
\DoxyCodeLine{05912\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05913\ \ \ \ \ result\ +=\ escapeTestResultString(tr.answer);}
\DoxyCodeLine{05914\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05915\ \ \ \ \ result\ +=\ std::to\_string(tr.exitCode);}
\DoxyCodeLine{05916\ \ \ \ \ result\ +=\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{05917\ \ \ \ \ result\ +=\ escapeTestResultString(tr.checkerComment);}
\DoxyCodeLine{05918\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{05919\ \}}
\DoxyCodeLine{05920\ }
\DoxyCodeLine{05921\ TestResult\ deserializeTestResult(std::string\ s)\ \{}
\DoxyCodeLine{05922\ \ \ \ \ std::vector<std::string>\ items;}
\DoxyCodeLine{05923\ \ \ \ \ std::string\ t;}
\DoxyCodeLine{05924\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ s.length();\ i++)\ \{}
\DoxyCodeLine{05925\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ ==\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})\ \{}
\DoxyCodeLine{05926\ \ \ \ \ \ \ \ \ \ \ \ \ t\ +=\ s[i];}
\DoxyCodeLine{05927\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ +\ 1\ <\ s.length())}
\DoxyCodeLine{05928\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\ +=\ s[i\ +\ 1];}
\DoxyCodeLine{05929\ \ \ \ \ \ \ \ \ \ \ \ \ i++;}
\DoxyCodeLine{05930\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{05931\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{05932\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s[i]\ ==\ \textcolor{charliteral}{';'})\ \{}
\DoxyCodeLine{05933\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ items.push\_back(t);}
\DoxyCodeLine{05934\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{05935\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{05936\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\ +=\ s[i];}
\DoxyCodeLine{05937\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05938\ \ \ \ \ \}}
\DoxyCodeLine{05939\ \ \ \ \ items.push\_back(t);}
\DoxyCodeLine{05940\ }
\DoxyCodeLine{05941\ \ \ \ \ ensuref(items.size()\ ==\ 12,\ \textcolor{stringliteral}{"{}Invalid\ TestResult\ serialization:\ expected\ exactly\ 12\ items"{}});}
\DoxyCodeLine{05942\ \ \ \ \ }
\DoxyCodeLine{05943\ \ \ \ \ TestResult\ tr;}
\DoxyCodeLine{05944\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ pos\ =\ 0;}
\DoxyCodeLine{05945\ \ \ \ \ tr.testIndex\ =\ stoi(items[pos++]);}
\DoxyCodeLine{05946\ \ \ \ \ tr.testset\ =\ unescapeTestResultString(items[pos++]);}
\DoxyCodeLine{05947\ \ \ \ \ tr.group\ =\ unescapeTestResultString(items[pos++]);}
\DoxyCodeLine{05948\ \ \ \ \ tr.verdict\ =\ deserializeTestResultVerdict(items[pos++]);}
\DoxyCodeLine{05949\ \ \ \ \ tr.points\ =\ deserializePoints(items[pos++]);}
\DoxyCodeLine{05950\ \ \ \ \ tr.timeConsumed\ =\ stoll(items[pos++]);}
\DoxyCodeLine{05951\ \ \ \ \ tr.memoryConsumed\ =\ stoll(items[pos++]);}
\DoxyCodeLine{05952\ \ \ \ \ tr.input\ =\ unescapeTestResultString(items[pos++]);}
\DoxyCodeLine{05953\ \ \ \ \ tr.output\ =\ unescapeTestResultString(items[pos++]);}
\DoxyCodeLine{05954\ \ \ \ \ tr.answer\ =\ unescapeTestResultString(items[pos++]);}
\DoxyCodeLine{05955\ \ \ \ \ tr.exitCode\ =\ stoi(items[pos++]);}
\DoxyCodeLine{05956\ \ \ \ \ tr.checkerComment\ =\ unescapeTestResultString(items[pos++]);}
\DoxyCodeLine{05957\ \ \ \ \ }
\DoxyCodeLine{05958\ \ \ \ \ \textcolor{keywordflow}{return}\ tr;}
\DoxyCodeLine{05959\ \}}
\DoxyCodeLine{05960\ }
\DoxyCodeLine{05961\ std::vector<TestResult>\ readTestResults(std::string\ fileName)\ \{}
\DoxyCodeLine{05962\ \ \ \ \ std::ifstream\ stream;}
\DoxyCodeLine{05963\ \ \ \ \ stream.open(fileName.c\_str(),\ std::ios::in);}
\DoxyCodeLine{05964\ \ \ \ \ ensuref(stream.is\_open(),\ \textcolor{stringliteral}{"{}Can't\ read\ test\ results\ file\ '\%s'"{}},\ fileName.c\_str());}
\DoxyCodeLine{05965\ \ \ \ \ std::vector<TestResult>\ result;}
\DoxyCodeLine{05966\ \ \ \ \ std::string\ line;}
\DoxyCodeLine{05967\ \ \ \ \ \textcolor{keywordflow}{while}\ (getline(stream,\ line))}
\DoxyCodeLine{05968\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!line.empty())}
\DoxyCodeLine{05969\ \ \ \ \ \ \ \ \ \ \ \ \ result.push\_back(deserializeTestResult(line));}
\DoxyCodeLine{05970\ \ \ \ \ stream.close();}
\DoxyCodeLine{05971\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{05972\ \}}
\DoxyCodeLine{05973\ }
\DoxyCodeLine{05974\ std::function<double(std::vector<TestResult>)>\ \_\_testlib\_scorer;}
\DoxyCodeLine{05975\ }
\DoxyCodeLine{05976\ \textcolor{keyword}{struct\ }TestlibScorerGuard\ \{}
\DoxyCodeLine{05977\ \ \ \ \ \string~TestlibScorerGuard()\ \{}
\DoxyCodeLine{05978\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (testlibMode\ ==\ \_scorer)\ \{}
\DoxyCodeLine{05979\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<TestResult>\ testResults;}
\DoxyCodeLine{05980\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (!inf.eof())\ \{}
\DoxyCodeLine{05981\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ line\ =\ inf.readLine();}
\DoxyCodeLine{05982\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!line.empty())}
\DoxyCodeLine{05983\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ testResults.push\_back(deserializeTestResult(line));}
\DoxyCodeLine{05984\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05985\ \ \ \ \ \ \ \ \ \ \ \ \ inf.readEof();}
\DoxyCodeLine{05986\ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\%.3f\(\backslash\)n"{}},\ \_\_testlib\_scorer(testResults));}
\DoxyCodeLine{05987\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{05988\ \ \ \ \ \}}
\DoxyCodeLine{05989\ \}\ \_\_testlib\_scorer\_guard;}
\DoxyCodeLine{05990\ }
\DoxyCodeLine{05991\ \textcolor{keywordtype}{void}\ registerScorer(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[],\ std::function<\textcolor{keywordtype}{double}(std::vector<TestResult>)>\ scorer)\ \{}
\DoxyCodeLine{05992\ \ \ \ \ \textcolor{comment}{/*\ Suppress\ unused.\ */}}
\DoxyCodeLine{05993\ \ \ \ \ (void)(argc),\ (void)(argv);}
\DoxyCodeLine{05994\ }
\DoxyCodeLine{05995\ \ \ \ \ \_\_testlib\_ensuresPreconditions();}
\DoxyCodeLine{05996\ }
\DoxyCodeLine{05997\ \ \ \ \ testlibMode\ =\ \_scorer;}
\DoxyCodeLine{05998\ \ \ \ \ \_\_testlib\_set\_binary(stdin);}
\DoxyCodeLine{05999\ }
\DoxyCodeLine{06000\ \ \ \ \ inf.init(stdin,\ \_input);}
\DoxyCodeLine{06001\ \ \ \ \ inf.strict\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{06002\ }
\DoxyCodeLine{06003\ \ \ \ \ \_\_testlib\_scorer\ =\ scorer;}
\DoxyCodeLine{06004\ \}}
\DoxyCodeLine{06005\ }
\DoxyCodeLine{06006\ \textcolor{comment}{/*\ Scorer\ ended.\ */}}
\DoxyCodeLine{06007\ }
\DoxyCodeLine{06016\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Tp>}
\DoxyCodeLine{06017\ \_Tp\ opt(\textcolor{keyword}{const}\ std::string\ \&key,\ \textcolor{keyword}{const}\ \_Tp\ \&default\_value)\ \{}
\DoxyCodeLine{06018\ \ \ \ \ \textcolor{keywordflow}{if}\ (!has\_opt(key))\ \{}
\DoxyCodeLine{06019\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ default\_value;}
\DoxyCodeLine{06020\ \ \ \ \ \}}
\DoxyCodeLine{06021\ \ \ \ \ \textcolor{keywordflow}{return}\ opt<\_Tp>(key);}
\DoxyCodeLine{06022\ \}}
\DoxyCodeLine{06023\ }
\DoxyCodeLine{06032\ std::string\ opt(\textcolor{keyword}{const}\ std::string\ \&key,\ \textcolor{keyword}{const}\ std::string\ \&default\_value)\ \{}
\DoxyCodeLine{06033\ \ \ \ \ \textcolor{keywordflow}{return}\ opt<std::string>(key,\ default\_value);}
\DoxyCodeLine{06034\ \}}
\DoxyCodeLine{06035\ }
\DoxyCodeLine{06043\ \textcolor{keywordtype}{void}\ ensureNoUnusedOpts()\ \{}
\DoxyCodeLine{06044\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \&opt:\ \_\_testlib\_opts)\ \{}
\DoxyCodeLine{06045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!opt.second.used)\ \{}
\DoxyCodeLine{06046\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_testlib\_fail(format(\textcolor{stringliteral}{"{}Opts:\ unused\ key\ '\%s'"{}},\ compress(opt.first).c\_str()));}
\DoxyCodeLine{06047\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{06048\ \ \ \ \ \}}
\DoxyCodeLine{06049\ \}}
\DoxyCodeLine{06050\ }
\DoxyCodeLine{06051\ \textcolor{keywordtype}{void}\ suppressEnsureNoUnusedOpts()\ \{}
\DoxyCodeLine{06052\ \ \ \ \ \_\_testlib\_ensureNoUnusedOptsSuppressed\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{06053\ \}}
\DoxyCodeLine{06054\ }
\DoxyCodeLine{06055\ \textcolor{keywordtype}{void}\ TestlibFinalizeGuard::autoEnsureNoUnusedOpts()\ \{}
\DoxyCodeLine{06056\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_\_testlib\_ensureNoUnusedOptsFlag\ \&\&\ !\_\_testlib\_ensureNoUnusedOptsSuppressed)\ \{}
\DoxyCodeLine{06057\ \ \ \ \ \ \ \ \ ensureNoUnusedOpts();}
\DoxyCodeLine{06058\ \ \ \ \ \}}
\DoxyCodeLine{06059\ \}}
\DoxyCodeLine{06060\ }
\DoxyCodeLine{06061\ \mbox{\hyperlink{struct_testlib_finalize_guard}{TestlibFinalizeGuard}}\ testlibFinalizeGuard;}
\DoxyCodeLine{06062\ }
\DoxyCodeLine{06063\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{06064\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
